


import var_0.var_1.var_2;
import var_0.var_1.var_3;
import var_0.var_1.var_4;
import var_0.var_1.var_5;
import var_0.var_6.var_7;
import var_0.var_6.var_8;
import var_0.var_6.var_9;
import var_0.var_6.var_10;
import var_0.var_6.var_11;
import var_0.var_6.var_12;
import var_0.var_6.var_13;
import var_0.var_6.var_13.var_14;
import var_0.var_6.var_15;

import var_16.var_17.var_18.var_19;
import var_16.var_17.var_18.var_20;

import var_21.var_22.var_23.var_24.var_25.var_26.var_27.var_28;

import var_24.var_25.var_29.var_30;
import var_24.var_25.var_29.var_31.var_32;
import var_24.var_25.var_29.var_33.var_34;
import var_24.var_25.var_29.var_33.var_35;
import var_24.var_25.var_29.var_33.var_36;

import var_21.var_37.var_38.var_39;
import var_21.var_37.var_38.var_40;
import var_21.var_37.var_38.var_41;
import var_21.var_37.var_42.var_43;
import var_21.var_37.var_44.var_45.var_46;
import var_21.var_37.var_44.var_45.var_47;
import var_21.var_37.var_44.var_45.var_48;
import var_21.var_37.var_49.var_50;
import var_21.var_37.var_33.var_51;
import var_21.var_37.var_33.var_52;
import var_21.var_37.var_33.var_53;
import var_21.var_37.var_33.var_54;
import var_21.var_37.var_33.var_55;
import var_21.var_37.var_56.var_57.var_42.var_58;
import var_21.var_37.var_56.var_57.var_59.var_60;
import var_21.var_37.var_56.var_61.var_42.var_62;
import var_21.var_37.var_56.var_63.var_42.var_64;
import var_21.var_37.var_56.var_65.var_59.var_66;
import var_21.var_37.var_56.var_67.var_45.var_68;
import var_21.var_37.var_56.var_67.var_59.var_69;
import var_21.var_37.var_56.var_70.var_59.var_71;
import var_21.var_37.var_6.var_72;
import var_21.var_37.var_6.var_73;
import var_21.var_37.var_6.var_74;
import var_21.var_37.var_6.var_75;
import var_21.var_37.var_6.var_76;
import var_21.var_37.var_6.var_77;
import var_21.var_37.var_6.var_78;
import var_21.var_37.var_6.var_79;
import var_21.var_80.var_81.var_82;
import var_21.var_80.var_81.var_83;
import var_21.var_80.var_81.var_84.var_85;
import var_21.var_80.var_81.var_84.var_86;
import var_21.var_80.var_81.var_59.var_87;
import var_21.var_80.var_81.var_59.var_88;
import var_21.var_80.var_81.var_59.var_89;
import var_21.var_80.var_6.var_90;


public class class_0 {

	private static Long var_91 = new Long(var_92.var_93());

	
	public static StringBuffer method_0(StringBuffer param_0, String param_1) {
		return new StringBuffer(var_94(var_95.var_97(), var_96));
	}

	public static String method_0(String param_0, String param_1) {
		
		

		var_95 = var_95.var_98("(?i)(?s)<a[^>]+href=\"([^/(http:
		"<a var_99=\"var_18:

		var_95 = var_95.var_98(
				
				"(?i)(?s)<a href=\"([^#])([^>]+)\"[^>]*>(.*?)</[^>]*a[^>]*>",
				"<a href=\"http:
				+ serverName
				
				+ "/var_100?var_101=<var_102>&var_103=var_104\">var_105</var_106>")
				.replaceAll("<a var_99=\"var_18:
		var_95 = var_107(var_95, var_96);
		return var_95;
	}

	
	public static var_108 var_107(var_108 var_95, String var_96)
	{
		return new StringBuffer(var_107(var_95.var_97(), var_96));
	}

	public static String method_1(String param_0, String param_1)
	{
		String var_109 = var_95;

		
		var_109 = var_109
		.var_98(
				"<\\s*td([^>]*)background\\s*=\\s*[\"\']?([^\'\">]*)[\"\']?([^>]*)>",
				"<td$1background=\"http:
				+ serverName
				+ "var_110\"var_105>");
		
		message = message
		.replaceAll(
				"<\\var_111*var_112([^>]*)var_113\\var_111*=\\var_111*[\"\']?([^\'\">]*)[\"\']?([^>]*)>",
				"<var_114=\"var_18:
				+ var_96
				+ "$2\"$3>");
		
		var_109 = var_109.var_98(
				"<\\s*img([^>]*)src\\s*=\\s*[\"\']?([^\'\">]*)[\"\']?([^>]*)>",
				"<img$1src=\"http:
				+ "var_110\"var_105>");
		
		message = message
		.replaceAll(
				"<\\var_111*var_115([^>]*)var_99\\var_111*=\\var_111*[\"\']?([^\'\">]*)[\"\']?([^>]*)>",
				"<var_116=\"var_18:
				+ var_96
				+ "$2\"$3>");
		
		var_109 = var_109
		.var_98(
				"<\\s*script([^>]*)src\\s*=\\s*[\"\']?([^\'\">]*)[\"\']?([^>]*)>",
				"<script$1src=\"http:
				+ serverName
				+ "var_110\"var_105>");
		
		message = message
		.replaceAll(
				"<\\var_111*var_117([^>]*)var_118\\var_111*=\\var_111*[\"\']?([^\'\">]*)[\"\']?([^>]*)>",
				"<var_119=\"var_18:
				+ var_96
				+ "$2\"$3>");
		
		var_109 = var_109
		.var_98(
				"<\\s*applet(([^>][^(codebase)])*)code\\s*=\\s*[\"\']?([^\'\">]*)[\"\']?(([^>][^(codebase)])*)>",
				"<applet$1code=\"http:
				+ serverName
				+ "var_120\"var_121>");
		
		message = message
		.replaceAll(
				"<\\var_111*var_122([^>]*)var_123\\var_111*=\\var_111*[\"\']?([^\'\">]*)[\"\']?([^>]*)>",
				"<var_124=\"var_18:
				+ var_96
				+ "$2\"$3>");
		
		var_109 = var_109
		.var_98(
				"<\\s*iframe([^>]*)longdesc\\s*=\\s*[\"\']?([^\'\">]*)[\"\']?([^>]*)>",
				"<iframe$1longdesc=\"http:
				+ serverName
				+ "var_110\"var_105>");
		
		message = message
		.replaceAll(
				"<\\var_111*var_125([^>]*)var_123\\var_111*=\\var_111*[\"\']?([^\'\">]*)[\"\']?([^>]*)>",
				"<var_126=\"var_18:
				+ var_96
				+ "$2\"$3>");
		
		var_109 = var_109
		.var_98(
				"<\\s*frame([^>]*)longdesc\\s*=\\s*[\"\']?([^\'\">]*)[\"\']?([^>]*)>",
				"<frame$1longdesc=\"http:
				+ serverName
				+ "var_110\"var_105>");
		
		message = message
		.replaceAll(
				"<([^>]*)var_127\\var_111*=\\var_111*[\"\']?([^\'\">]*)var_128\\var_111*\\(\\var_111*([^>]*)\\var_111*\\)([^\'\">]*)[\"\']?([^>]*)>",
				"<var_129=\"var_130(var_18:
				+ var_96
				+ "$3)$4\"$5>");
		
		var_109 = var_109.var_98("http:
				+ serverName + "\\var_111*var_18:
		"http:

		return message;
	}

	
	public static boolean sendForgotPassword(User user, String newPassword, String hostId) throws DotDataException, DotSecurityException {

		HostAPI hostAPI = APILocator.getHostAPI();

		
		Context context = VelocityUtil.getBasicContext();
		context.put("var_131", user);
		context.put("var_78", new UtilMethods());
		context.put("var_84", Long.toString(APILocator.getLanguageAPI().getDefaultLanguage().getId()));
		context.put("var_132", newPassword);

		Host host = hostAPI.find(hostId, user, true);
		context.put("var_133", host);

		StringWriter writer = new StringWriter();

		String idInode = APILocator.getIdentifierAPI().find(host, Config
				.getStringProperty("var_134")).getInode();
		
		String languageStr = "var_135" + APILocator.getLanguageAPI().getDefaultLanguage().getId();

		try {
			String message = "";
			try {
				Template t = UtilMethods.getVelocityTemplate("var_136/"+ idInode+ languageStr + "."+ Config.getStringProperty("var_137")); 
				t.merge(context, writer);
				Logger
				.debug(EmailFactory.class, "var_138:"
						+ writer.getBuffer());
				message = writer.toString().trim();
			} catch (ResourceNotFoundException ex) {}

			Mailer m = new Mailer();
			m.setToEmail(user.getEmailAddress());
			m.setSubject("var_139 " + host.getHostname() + " var_140");
			m.setHTMLBody(message);
			m.setFromEmail(Config.getStringProperty("var_141"));
			return m.sendMessage();
		} catch (Exception e) {}

	}

	public static boolean isSubscribed(MailingList list, User s){

		UserProxy up;
		try {
			up = com.dotmarketing.business.APILocator.getUserProxyAPI().getUserProxy(s,APILocator.getUserAPI().getSystemUser(), false);
		} catch (Exception e) {}	
		return MailingListFactory.isSubscribed(list, up);

	}

	
	public static WebForm sendParameterizedEmail(Map<String,Object> parameters, Set<String> spamValidation, 
			Host host, User user) throws  DotRuntimeException
			{

		
		if(spamValidation != null)
			if (FormSpamFilter.isSpamRequest(parameters, spamValidation)) {
				throw new DotRuntimeException();
			}

		

		
		String ignoreString = ":var_142:var_143:to:var_144:var_145:var_146:var_147:var_148:var_149:var_150:" +
		"prettyOrder:autoReplyTo:autoReplyFrom:autoReplyText:autoReplySubject:" +
		"ignore:emailTemplate:autoReplyTemplate:autoReplyHtml:chargeCreditCard:attachFiles:";
		if(var_78.var_151(var_152("var_153", var_154))) {
			var_155 += var_152("ignore", var_154).var_97().var_156(",", ":") + ":";
		}

		
		String var_150 = (String)var_152("order", var_154);
		Map<String, Object> var_157 = new LinkedHashMap<String, Object>();

		
		
		
		
		String var_158 = (String)var_152("prettyOrder", var_154);
		Map<String, String> var_159 = new LinkedHashMap<String, String>();

		
		
		
		String var_160 = (String)var_152("attachFiles", var_154);

		
		if (var_150 != null) {
			String[] var_161 = var_150.var_162("[;,]");
			String[] var_163 = var_158!=null?var_158.var_162("[;,]"):new String[0];

			for (int var_164 = 0; var_164 < var_161.var_165; var_164++) {
				String var_166 = var_161[var_164].var_167();
				Object var_168 = (var_152(var_166, var_154) == null) ? 
						null : var_152(var_166, var_154);

				if(var_168 != null) {
					
					if (var_163.var_165 > var_164) 
						var_159.var_169(var_161[var_164].var_167(), var_163[var_164].var_167());
					else
						var_159.var_169(var_161[var_164].var_167(), var_161[var_164].var_167());
					var_157.var_169(var_161[var_164].var_167(), var_168);
				}
			}

		}

		for (Entry<String, Object> var_170 : var_154.var_171()) {
			if(!var_157.var_172(var_170.var_173())) {
				var_157.var_169(var_170.var_173(), var_170.var_174());
				var_159.var_169(var_170.var_173(), var_170.var_173());
			}
		}

		StringBuffer var_175 = new StringBuffer();

		
		String var_142 = var_152("formType", var_154) != null?
				(String)var_152("formType", var_154):(String)var_152("formName", var_154);

				WebForm var_176 = var_177(var_154, var_133, var_142, var_155, var_175);


				
				

				String var_144 = var_78.var_156((String)var_152("from", var_154), "spamx", "");
				String var_178 = var_78.var_156((String)var_152("to", var_154), "spamx", "");
				String var_146 = var_78.var_156((String)var_152("cc", var_154), "spamx", "");
				String var_147 = var_78.var_156((String)var_152("bcc", var_154), "spamx", "");
				String var_179 = var_78.var_156((String)var_152("fromName", var_154), "spamx", "");
				try { var_144 = var_48.var_180(var_144); } catch (Exception var_181) {}
				try { var_178 = var_48.var_180(var_178); } catch (Exception var_181) {}
				try { var_146 = var_48.var_180(var_146); } catch (Exception var_181) {}
				try { var_147 = var_48.var_180(var_147); } catch (Exception var_181) {}
				try { var_179 = var_48.var_180(var_179); } catch (Exception var_181) {}

				String var_145 = (String)var_152("subject", var_154);
				var_145 = (var_145 == null) ? "Mail from " + var_133.var_182() + "" : var_145;

				String var_183 = (String)var_152("emailFolder", var_154);

				boolean var_148 = var_152("html", var_154) != null?var_77.var_184((String)var_152("html", var_154)):true;

				String var_185 = (String) var_152("emailTemplate", var_154);

				
				Map<String, String> var_186 = null;

				try {
					var_186 = var_187(var_185, var_133, var_157, var_159, var_175.var_97(), var_155, var_131);
				} catch (Exception var_181) {}

				
				try {
					String var_188 = var_90.var_189(var_72.var_190("EMAIL_BACKUPS"));
					new File(var_188).var_191();

					File var_192 = null;
					synchronized (var_91) {
						var_91 = new Long(var_91.var_193() + 1);
						if (var_78.var_151(var_183)) {
							new File(var_188 + var_3.var_194 + var_183).var_191();
							var_188 = var_188 + var_3.var_194 + var_183;
						}
						var_192 = new File(var_188 + var_3.var_194 + var_91.var_97()
								+ ".html");
					}
					if (var_192 != null) {
						java.io.OutputStream var_195 = new java.io.FileOutputStream(var_192);
						BufferedOutputStream var_196 = new BufferedOutputStream(var_195);
						if(var_186.var_197("emailHTMLBody") != null)
							var_196.var_198(var_186.var_197("emailHTMLBody").var_199());
						else if(var_186.var_197("emailHTMLTableBody") != null) 
							var_196.var_198(var_186.var_197("emailHTMLTableBody").var_199());
						else
							var_196.var_198(var_186.var_197("emailPlainTextBody").var_199());
						var_196.var_200();
						var_196.var_201();
						var_195.var_201();
					}
				} catch (Exception var_181) {}

				
				Mailer var_202 = new Mailer();
				var_202.var_203(var_178);
				var_202.var_204(var_144);
				var_202.var_205(var_179);
				var_202.var_206(var_146);
				var_202.var_207(var_147);
				var_202.var_208(var_145);

				if (var_148) {
					if(var_78.var_151(var_186.var_197("emailHTMLBody")))
						var_202.var_209(var_186.var_197("emailHTMLBody"));
					else
						var_202.var_209(var_186.var_197("emailHTMLTableBody"));
				}
				var_202.var_210(var_186.var_197("emailPlainTextBody"));

				
				if(var_160 != null) {
					var_160 = "," + var_160.var_98("\\s", "") + ",";
					for(Entry<String, Object> var_211 : var_154.var_171()) {
						if(var_211.var_174() instanceof File && var_160.var_212("," + var_211.var_173() + ",") > -1) {
							File var_213 = (File)var_211.var_174();
							var_202.var_214(var_213, var_211.var_173() + "." + var_78.var_215(var_213.var_216()));
						}
					}
				}

				if (var_202.var_217()) {

					
					if ((var_78.var_151((String)var_152("autoReplyTemplate", var_154)) ||
							var_78.var_151((String)var_152("autoReplyText", var_154)))
							&& var_78.var_151((String)var_152("autoReplySubject", var_154))
							&& var_78.var_151((String)var_152("autoReplyFrom", var_154))) {

						var_185 = (String) var_152("autoReplyTemplate", var_154);

						if(var_78.var_151(var_185)) {
							try {
								var_186 = var_187(var_185, var_133, var_157, var_159, var_175.var_97(), var_155, var_131);
							} catch (Exception var_181) {}
						}

						var_202 = new Mailer();
						String var_218 = (String)(var_152("autoReplyTo", var_154) == null?var_152("from", var_154):var_152("autoReplyTo", var_154));
						var_202.var_203(var_78.var_156(var_218, "spamx", ""));
						var_202.var_204(var_78.var_156((String)var_152("autoReplyFrom", var_154), "spamx", ""));
						var_202.var_208((String)var_152("autoReplySubject", var_154));

						String var_219 = (String)var_152("autoReplyText", var_154); 
						boolean var_220 = var_152("autoReplyHtml", var_154) != null?var_77.var_184((String)var_152("autoReplyHtml", var_154)):var_148;
						if (var_219 != null)
						{
							if(var_220)
							{
								var_202.var_209((String)var_152("autoReplyText", var_154));
							} else {
								var_202.var_210((String)var_152("autoReplyText", var_154));
							}
						}
						else
						{
							if (var_220) 
							{
								if(var_78.var_151(var_186.var_197("emailHTMLBody")))
									var_202.var_209(var_186.var_197("emailHTMLBody"));
								else
									var_202.var_209(var_186.var_197("emailHTMLTableBody"));
							}
							var_202.var_210(var_186.var_197("emailPlainTextBody"));
						}
						var_202.var_217();
					}
				} else {
					if(var_176 != null){
						try {
							var_50.var_221(var_176);
						} catch (DotHibernateException var_181) {}
					}
					throw new DotRuntimeException();
				}

				return var_176;

			}

	public static Map<String, String> method_3(String param_8, Host param_3, Map<String,Object> param_5, 
			Map<String, String> param_9, String param_7, String param_6, User param_2) 
			throws WebAssetException, ResourceNotFoundException, ParseErrorException, MethodInvocationException, IOException, DotDataException, DotSecurityException, PortalException, SystemException
			{
		StringBuffer var_223 = new StringBuffer();
		StringBuffer var_224 = new StringBuffer();
		StringBuffer var_225 = new StringBuffer();

		
		if(var_78.var_151(var_185))
		{
			Identifier var_226 = var_43.var_227().var_228(var_133,var_185);
			String var_229 = var_226.var_230();
			
			String var_231 = var_232.var_97((var_43.var_233().var_234().var_235()));
			
			try {
				if(var_78.var_151(var_154.var_197("languageId"))) {
					var_231 = (String) var_154.var_197("languageId");
				}
			} catch(ClassCastException var_181) {}
			
			String var_236 = "_" + var_231;

			Template var_237 = null;

			try {
				if(var_74.var_151(var_229)) {
					var_237 = var_78.var_238("live/"+ var_229 + var_236 + "."+ var_72.var_190("VELOCITY_HTMLPAGE_EXTENSION")); 
				} else {
					var_237 = var_78.var_238(var_185); 
				}
			} catch (Exception var_181) {}

			if (var_237 != null) {

				HttpServletRequest var_239 = (HttpServletRequest) var_154.var_197("request"); 
				HttpServletResponse var_240 = (HttpServletResponse) var_154.var_197("response");
				Context var_31 = null;
				if(var_74.var_151(var_229) && var_239 != null && var_240 != null)
				{
					var_31 = var_79.var_241(var_239,var_240);
				}
				else
				{
					var_31 = var_79.var_242();
				}


				
				for(Entry<String, Object> var_211 : var_154.var_171()) {
					Object var_168 = var_152(var_211.var_173(), var_154);
					if(var_211.var_173().var_243("ccNumber") && var_168 instanceof String) {
						var_168 = (String)var_78.var_244((String)var_168);
					}
					if(var_211.var_173().var_245("cvv") && var_168 instanceof String) {
						String var_246 = (String)var_168;
						if(var_246.var_165() > 3){
							var_168 = (String)var_78.var_247(var_246,2);
						}
						else {
							var_168 = (String)var_78.var_247(var_246,1);
						}
					}
					var_31.var_169(var_211.var_173(), var_168);
				}
				var_31.var_169("utilMethods", new UtilMethods());
				var_31.var_169("UtilMethods", new UtilMethods());
				var_31.var_169("host", var_133);
				if(var_131 != null)
					var_31.var_169("user", var_131);

				StringWriter var_138 = new StringWriter();

				
				var_237.var_248(var_31, var_138);
				String var_249 = var_138.var_97();
				var_223 = new StringBuffer(var_107(var_250(var_249, var_154, var_131), var_133.var_182()));
			}
		}

		String var_145 = (String)var_152("subject", var_154);
		var_145 = (var_145 == null) ? "Mail from " + var_133.var_182(): var_145;

		var_224.var_251("<html><style>td{font-family:arial;font-size:10pt;}</style><BODY>");
		var_224.var_251("<TABLE bgcolor=eeeeee width=95%>");
		var_224.var_251("<TR><TD colspan=2><strong>Information from "
				+ var_133.var_182() + ": " + var_145
				+ "</strong></TD></TR>");
		var_225.var_251("Information from " + var_133.var_182()
				+ ": \t" + var_145 + "\n\n");

		
		Iterator<Entry<String,Object>> var_252 = var_154.var_171().var_253();

		while (var_252.var_254()) {

			Entry<String, Object> var_181 = (Entry<String, Object>) var_252.var_255();
			String var_256 = var_181.var_173();
			Object var_257 = var_152(var_256, var_154);
			if (var_257 instanceof String) {
				String var_168 = (String)var_257;
				if(var_256.var_243("ccNumber") && var_168 instanceof String) {
					var_168 = (String)var_78.var_244((String)var_168);
				}
				if(var_256.var_245("cvv") && var_168 instanceof String) {
					String var_246 = (String)var_168;
					if(var_246.var_165() > 3){
						var_168 = (String)var_78.var_247(var_246,2);
					}
					else {
						var_168 = (String)var_78.var_247(var_246,1);
					}
				}
				if (var_155.var_212(":" + var_256 + ":") < 0 && var_78.var_151(var_168)) {
					String var_258 = var_222.var_197(var_256);
					String var_259 = var_258 != null?var_258:var_78.var_260(var_256);
					var_224.var_251("<TR><TD bgcolor=white valign=top nowrap>&nbsp;" + var_259 + "&nbsp;</TD>");
					var_224.var_251("<TD bgcolor=white valign=top width=100%>" + var_168 + "</TD></TR>");
					var_225.var_251(var_259 + ":\t" + var_168 + "\n");
				}
			}
		}

		if (var_78.var_151(var_175)) {
			var_224.var_251("<TR><TD bgcolor=white valign=top nowrap>&nbsp;Files&nbsp;</TD>");
			var_224.var_251("<TD bgcolor=white valign=top width=100%>" + var_175 + "</TD></TR>");
			var_225.var_251("Files:\t" + var_175 + "\n");
		}

		var_224.var_251("</TABLE></BODY></HTML>");

		Map<String, String> var_261 = new HashMap<String, String>();
		if(var_78.var_151(var_223.var_97()))
			var_261.var_169("emailHTMLBody", var_223.var_97());
		if(var_78.var_151(var_224.var_97()))
			var_261.var_169("emailHTMLTableBody", var_224.var_97());
		var_261.var_169("emailPlainTextBody", var_225.var_97());

		return var_261;
			}

	private static WebForm method_2 (Map<String, Object> param_5, Host param_3, String param_4, String param_6, StringBuffer param_7) {

		
		String var_262 = ":prefix:title:firstName:middleInitial:middleName:lastName:fullName:organization:address:address1:address2:city:state:zip:country:phone:email:";

		
		WebForm var_176 = new WebForm();
		var_176.var_263(var_142);

		
		try {
			for (Entry<String, Object> var_170 : var_154.var_171()) {
				var_28.var_264(var_176, var_170.var_173(), var_152(var_170.var_173(), var_154));
			}
		} catch (Exception var_265) {}

		try {
			var_50.var_266(var_176);
		} catch (DotHibernateException var_181) {}		
		String var_267 = var_176.var_268();

		
		
		StringBuffer var_269 = new StringBuffer();

		Set<Entry<String, Object>> var_270 = var_154.var_171();

		for (Entry<String, Object> var_170 : var_270) {

			String var_256 = (String) var_170.var_173();


			String var_168 = null;

			Object var_271 = var_152(var_256, var_154);
			if (var_271 instanceof File) {

				File var_213 = (File) var_170.var_174();
				String var_272 = var_213.var_216();
				String var_273 = var_256 + "." + var_78.var_215(var_272);
				if(var_152(var_273.var_274(4, var_256.var_165()) + "FName", var_154) != null) {
					var_273 = var_152(var_273.var_274(4, var_256.var_165()) + "FName", var_154) + 
						"." + var_78.var_215(var_272);
				}

				
				try {
					if(var_213.var_275()) {
						String var_276 = var_152("formFolder", var_154) instanceof String?(String)var_152("formFolder", var_154):null;
						
						String var_277 = var_278(var_267, var_142, var_273, var_213, var_133, var_276);
						var_175.var_251(var_175.var_97().var_243("")? "http:
					}
				} catch (Exception e) {} catch (DotHibernateException e1) {}
					throw new DotRuntimeException("var_279: var_280't saved the submitted file into the cms = " + fileName, e);
				}

			} else if (var_271 instanceof String)
				var_168 = (String)var_271;

			List<String> var_281 = new ArrayList<String>();
			if (var_262.var_212(":" + var_256 + ":") < 0
					&& var_155.var_212(":" + var_256 + ":") < 0
					&& var_78.var_151(var_168)) {
				var_168 = var_168.var_98("\\|", " ").var_98("=", " ");
				if(var_256.var_243("ccNumber"))
					var_168 = var_78.var_244(var_168);

				String var_259 = var_78.var_260(var_256);
				int var_282 = 2;
				String var_283 = var_259;
				while (var_281.var_245(var_283)) {
					var_283 = var_259 + var_282;
					++var_282;
				}
				var_281.var_284(var_283);
				String var_285 = var_283 + "=" + var_168;
				var_269.var_251(var_285 + "|");
			}
		}

		var_269.var_251("Files=" + var_175);

		
		var_176.var_286(var_269.var_97());
		var_176.var_287(new Date());

		if(var_78.var_151(var_142)){
			try {
				var_50.var_288(var_176);
			} catch (DotHibernateException var_181) {}
		}
		else{
			var_75.var_289(EmailFactory.class, "The web form doesn't have the required formType field, the form data will not be saved in the database.");
		}


		return var_176;
	}

	

	private static var_290 var_291 (var_290 var_142, var_290 var_292) {
		String var_293 = var_72.var_190("SAVED_UPLOAD_FILES_PATH")
		+ "/" + var_142.var_156(" ", "_") + "/"
		+ var_290.var_294(var_292).var_274(0, 1) + "/" + var_292;
		return var_293;
	}

	private static var_290 var_278 (String var_292, var_290 var_142, 
			var_290 var_273, var_3 var_295, var_39 var_296, var_290 var_276) throws var_297 {
		FileAPI var_298=var_43.var_299();
		String var_293;
		if(var_276 != null)
			var_293 = var_276;
		else
			var_293 = var_291(var_142, var_292);
		Folder var_300 = var_43.var_301().var_302(var_293, var_296, var_43.var_303().var_304(), false);
		String var_305 = var_273;
		int var_306 = 1;
		while(var_298.var_307(var_300, var_273)) {
			var_273 = var_78.var_308(var_305) + "-" + var_306 + "." + var_78.var_215(var_305);
			var_306++;
		}
		Host var_133 = var_43.var_309().var_228(var_300.var_310(), var_43.var_303().var_304(), false);
		while(var_43.var_311().var_307(var_133,var_300, var_273, "")) {
			var_273 = var_78.var_308(var_305) + "-" + var_306 + "." + var_78.var_215(var_305);
			var_306++;
		}
		
		Contentlet var_312 = new Contentlet();
		var_312.var_313(var_300.var_314());
		var_312.var_315(var_62.var_316, var_78.var_308(var_273));
		var_312.var_317(var_300.var_230());
		var_312.var_318(var_133.var_319());
		var_312.var_320(var_62.var_321, var_295);
		var_43.var_322().var_323(var_312, var_43.var_303().var_304(),false);

		return var_293 + "/" + var_273;
	}

	private static var_290 var_250(var_290 var_324, var_13<var_290, var_325> var_154, var_89 var_131) 
	{
		String var_326 = var_324;

		Set<String> var_327 = var_154.var_328();
		for(String var_256 : var_327)
		{
			if(var_152(var_256, var_154) instanceof String) {
				String var_168 = (String)var_152(var_256, var_154);
				var_168 = (var_168 != null ? var_168 : "");
				var_326 = var_326.var_98("(?i)(<|(&lt;))/"+ var_256 +"(>|(&gt;))", "");
				var_326 = var_326.var_98("(?i)(<|(&lt;))" + var_256 + "(\")?( )**( )*(>|(&gt;))", (var_131.var_329()!=null) ? var_131.var_329() : "");

			var_326 = var_326.var_98("(?i)(<|(&lt;))/varEmail(>|(&gt;))", "");
			var_326 = var_326.var_98("(?i)(<|(&lt;))varEmail(\")?( )**( )*(>|(&gt;))", (var_131.var_330()!=null) ? var_131.var_330() : "");

			var_326 = var_326.var_98("(?i)(<|(&lt;))/varLastName(>|(&gt;))", "");
			var_326 = var_326.var_98("(?i)(<|(&lt;))varLastName(\")?( )**( )*(>|(&gt;))", (var_331.var_332()!=null) ? var_331.var_332() : "");

			var_326 = var_326.var_98("(?i)(<|(&lt;))/varAddress1(>|(&gt;))", "");
			var_326 = var_326.var_98("(?i)(<|(&lt;))varAddress1(\")?( )**( )*(>|(&gt;))", (var_333.var_334()!=null) ? var_333.var_334() : "");

			var_326 = var_326.var_98("(?i)(<|(&lt;))/varPhone(>|(&gt;))", "");
			var_326 = var_326.var_98("(?i)(<|(&lt;))varPhone(\")?( )**( )*(>|(&gt;))", (var_333.var_335()!=null) ? var_333.var_335() : "");

			var_326 = var_326.var_98("(?i)(<|(&lt;))/varCity(>|(&gt;))", "");
			var_326 = var_326.var_98("(?i)(<|(&lt;))varCity(\")?( )**( )*(>|(&gt;))", (var_333.var_336()!=null) ? var_333.var_336() : "");

			var_326 = var_326.var_98("(?i)(<|(&lt;))/varZip(>|(&gt;))", "");
			var_326 = var_326.var_98("(?i)(<|(&lt;))varZip(\")?( )**( )*(>|(&gt;))", (var_168 != null) ? var_168 : "");

					var_326 = var_326.var_98("(?i)(<|(&lt;))/var" + var_337 + "(>|(&gt;))", "");
					var_326 = var_326.var_98("(?i)(<|(&lt;))var" + var_337 + "(\")?( )*/*( )*(>|(&gt;))", (var_168 != null) ? var_168 : "");
				}

			} var_338(LanguageException var_339) {}
		}
		return var_326;
	}

	public static var_325 var_152(var_290 var_256, var_13<var_290, var_325> var_340) {

		try {
			try
			{
				if(((Object[]) var_340.var_197(var_256)).var_165 > 1)
				{
					String var_341 = "";
					for(Object var_342 : ((Object[]) var_340.var_197(var_256)))
					{
						var_341 += var_342.var_97() + ", ";						
					}
					var_341 = var_341.var_274(0,var_341.var_343(","));
					return var_341;
				}
			}
			catch(Exception var_344) {}
			return ((Object[]) var_340.var_197(var_256))[0];
			
		} catch (Exception var_181) {} catch (Exception var_344) {}

		}

	}	

}
