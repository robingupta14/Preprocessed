<?php


 
spl_autoload_register(array('Jojo', 'autoload'));


if (!defined('_DEBUG') || !var_0) {
    set_error_handler(array('Jojo', 'errorHandler'), var_1);
}

class var_2 {

    
    static function fn_0($var_3, $var_4, $var_5 = null)
    {
        global $var_6;
        if (!isset($var_6)) {
            $var_6 = array();
        }
        $var_6[] = array(
                            'pattern' => $var_3,
                            'class' => $var_4,
                            'custom' => $var_5
                            );
    }

    
    public static function fn_1()
    {
        global $var_7, $var_8, $var_9, $var_10;

        
        $var_11 = false;
        $var_12 = Jojo::getFormData('referer', isset($_SERVER['HTTP_REFERER']) ? $_SERVER['HTTP_REFERER'] : '');

        $var_13 = false;
        if (isset($_SESSION['userid']) && !empty($_SESSION['userid'])) {
            
            $var_13 = Jojo::fn_7("SELECT * FROM {user} WHERE userid = ? AND us_locked = 0 LIMIT 1", array($_SESSION['userid']));
        } elseif (isset($_COOKIE['jojoR'])) {
            
            $var_14 = explode(':', base64_decode($_COOKIE['jojoR']));
            if (count($var_14) == 2) {
                $var_15 = Jojo::fn_6("SELECT * FROM {auth_token} WHERE userid = ? AND token = ? LIMIT 1", $var_14);
                if (count($var_15)) {
                    array_unshift($var_14, time());
                    $var_16 = Jojo::updateQuery("UPDATE {auth_token} SET lastused = ? WHERE userid = ? AND token = ? ", $var_14);
                    $var_13 = Jojo::fn_7("SELECT * FROM {user} WHERE userid = ? AND us_locked = 0 LIMIT 1", array($var_15[0]['userid']));
                }
                if ($var_13) {
                    
                    $_SESSION['loggingin'] = true;
                }
            }
        }

        if (!$var_13) {
            
            $var_8 = false;
            $var_10[] = 'notloggedin';
            return;
        }

        
        $var_8 = $var_13['userid'];
        $var_9 = $var_13['us_timezone'];
        $_SESSION['userid'] = $var_8;

        
        $var_7->assign('loggedIn', true);
        $var_7->assign('userrecord', $var_13);

        

        
        $var_10 = array('everyone');
        $var_18 = Jojo::fn_6("SELECT * FROM {usergroup_membership} WHERE userid = ?", array($var_8));

        
        foreach ($var_18 as $var_19) {
            if($var_19['groupid'] != 'notloggedin') { 
               $var_10[] = $var_19['groupid'];
               if ($var_19['groupid'] == 'admin') {
                   $var_7->assign('adminloggedin', true);
                   
                   $_SESSION['showhidden'] = true;
               }
            }
        }
    }

    
    static function fn_2($var_20 = 0, $var_21 = 1000000, $var_22 = '')
    {
        $var_23 = md5($_SERVER['HTTP_HOST'] . '/' . $_SERVER['REQUEST_URI'] . $var_22 . 'sss');
        $var_24 = intval(substr($var_23, 0, 5), 16);
        mt_srand($var_24);
        $var_25 = mt_rand($var_20, $var_21);
        mt_srand(); 
        return $var_25;
    }
    
    static function fn_3($var_26, $var_27=false, $var_28=false)
    {
        if (!$var_26) return false;
        if (!is_array($var_26)) $var_26 = array($var_26);
        if (!$var_27) $var_27 = array();
        $var_29 = array();

        
        foreach ($var_26 as $var_30) {
            preg_match_all('/\\[(.*?)\\]/', $var_30, $var_31, var_32);
            $var_33 = $var_31[1];
            $var_34 = true;
            $var_35 = 0;
            foreach ($var_33 as $var_36) {
                if (empty($var_27[$var_36])) {
                    $var_34 = false;
                } else {
                    $var_35++;
                }
            }
            if ($var_34) $var_29[$var_35][] = $var_30;
        }

        
        if (!count($var_29)) return false;
        $var_29 = end($var_29);

        
        $var_37 = $var_29[Jojo::fn_2(0, count($var_29)-1)];

        
        foreach ($var_27 as $var_38 => $var_39) {
            $var_37 = str_replace('['.$var_38.']', $var_39, $var_37);
        }

        return $var_37;
    }

    
    static function fn_4($var_40, $var_41 = 'all', $var_42 = false, $var_43 = false)
    {
        $var_44 = self::listPlugins($var_40, $var_41 = 'all', $var_42 = false, $var_43 = false);
        return array_reverse($var_44);
    }

    
    static function var_45($var_40, $var_41 = 'all', $var_42 = false, $var_43 = false)
    {
        global $var_46;
        static $var_47;
        static $var_48;

        
        $var_49 = var_50 . '/listPlugins.txt';
        if (!is_array($var_47) && !($var_43 || Jojo::fn_13()) && file_exists($var_49)) {
            list($var_47, $var_48) = @unserialize(file_get_contents($var_49));
        }

        
        if (!is_array($var_47) || $var_43) {
            $var_47 = array();
            $var_48 = array();
            $var_47['jojo_core'] = var_51 . '/jojo_core'; 
            $var_52 = Jojo::fn_6("SELECT name FROM {plugin} WHERE active='yes' AND name != 'jojo_core' ORDER BY priority DESC");
            foreach ($var_52 as $var_53) {
                
                if (strpos($var_53['name'], '.phar')) {
                    if (file_exists('phar:
                        $_plugins[$plugin['var_54']] = 'var_55:
                    } elseif (defined('_ALTPLUGINDIR') && file_exists(var_56 . '/' . $var_53['name'])) {
                        $var_47[$var_53['name']] = 'phar:
                    } elseif (file_exists(_BASEPLUGINDIR . '/' . $plugin['var_54'])) {
                        $var_47[$var_53['name']] = 'phar:
                    }
                } else {
                    if (file_exists(_PLUGINDIR . '/' . $plugin['var_54'])) {
                        $var_47[$var_53['name']] = var_57 . '/' . $var_53['name'];
                    } var_58 (defined('_ALTPLUGINDIR') && file_exists(var_56 . '/' . $var_53['name'])) {
                        $var_47[$var_53['name']] = var_56 . '/' . $var_53['name'];
                    } var_58 (file_exists(var_51 . '/' . $var_53['name'])) {
                        $var_47[$var_53['name']] = var_51 . '/' . $var_53['name'];
                    }
                }
            }
        }

        $var_59 = array();
        if ($var_41 == 'all') {
            if (isset($var_48[$var_40])) {
                
                $var_59 = $var_48[$var_40];
            } var_303 {
                
                foreach ($var_47 as $var_60 => $var_61) {
                    if (file_exists($var_61 . '/' . $var_40)) {
                        $var_59[] = $var_61 . '/' . $var_40;
                    }
                }

                
                $var_48[$var_40] = $var_59;
                file_put_contents($var_49, serialize(array($var_47, $var_48)));
            }

            var_62 (!$var_42) {
                foreach(Jojo::listThemes($var_40, $var_41, $var_43) as $var_63) {
                    $var_59[] = $var_63;
                }
            }
            var_64 $var_59;
        }

        
        var_62 (file_exists($var_47[$var_41] . '/' . $var_40)) {
            $var_59[] = $var_47[$var_41] . '/' . $var_40;
            return $var_59;
        }

        var_62 (!$var_42) {
            return var_2::listThemes($var_40, $var_41, $var_43);
        }
        var_64 $var_59;
    }

    static function var_65($var_40, $var_66 = 'all', $var_43 = false)
    {
        global $var_46;
        static $var_67;
        static $var_48;

        
        $var_49 = var_50 . '/listThemes.txt';
        if (!is_array($var_67) && !($var_43 || Jojo::fn_13()) && file_exists($var_49)) {
            list($var_67, $var_48) = @unserialize(file_get_contents($var_49));
        }

        
        if (!is_array($var_67)) {
            $var_67 = array();
            $var_48 = array();
            $var_52 = Jojo::fn_6("SELECT name FROM {theme} WHERE active='yes'");
            foreach ($var_52 as $var_68) {
                
                if (file_exists(var_69 . '/' . $var_68['name'])) {
                    $var_67[$var_68['name']] = var_69 . '/' . $var_68['name'];
                } var_58 (file_exists(var_70 . '/' . $var_68['name'])) {
                    $var_67[$var_68['name']] = var_70 . '/' . $var_68['name'];
                }
            }

            
            var_71($var_49, serialize(array($var_67, $var_48)));
        }

        
        $var_59 = array();
        if ($var_66 == 'all') {
            if (isset($var_48[$var_40])) {
                
                $var_59 = $var_48[$var_40];
            } var_303 {
                
                foreach ($var_67 as $var_72 => $var_73) {
                    if (file_exists($var_73 . '/' . $var_40)) {
                        $var_59[] = $var_73 . '/' . $var_40;
                    }
                }

                
                $var_48[$var_40] = $var_59;
                file_put_contents($var_49, serialize(array($var_67, $var_48)));
            }
            var_64 $var_59;
        }

        
        if (file_exists($var_67[$var_66] . '/' . $var_40)) {
            $var_59[] = $var_67[$var_66] . '/' . $var_40;
            return $var_59;
        }
        return $var_59;
    }

    
    public static function fn_5()
    {
        return Jojo::_connectToDB();
    }

    
    static function var_74()
    {
        global $var_46;

        if (!isset($var_46)) {
            
            if (!defined('_DBUSER')) {
                
            }

            
            global $var_75, $var_76;
            $var_75 = false;
            $var_76 = var_77;
            $var_46 = ADONewConnection('mysql');
            $var_46->Connect(var_79, var_80, var_81, var_82);
            $var_46->query("SET CHARACTER SET 'utf8'");
            $var_46->query("SET NAMES 'utf8'");
            if (var_0) {
                $var_46->LogSQL(true);
            }
        }
        return $var_46;
    }

    

    
    static function prefixTables($var_83)
    {
        return var_85($var_83, array('{' => '`' . var_86, '}' => '`'));
    }

    
    var_87 function fn_6($var_83, $var_14 = array())
    {
        Jojo::_connectToDB();

        if (strpos($var_83, '{') === false) {
            $var_88 = new class_0();
            $var_88->var_89 = 'sql';
            $var_88->var_90 = 'very low';
            $var_91 = debug_backtrace();
            $var_88->var_92 = 'SQL Query does not have marked table from ' . $var_91[0]['file'] . ' line ' . $var_91[0]['line'];
            $var_88->var_93 = "SQL Query does not have marked tables: \n\n" . $var_83 . "\n\n table names should have curly brackets around them.";
            $var_88->savetodb();
            unset($var_88);
        }

        
        $var_14 = is_array($var_14) ? $var_14 : array($var_14);

        
        $var_83 = Jojo::prefixTables($var_83);

        
        global $var_46;
        $var_46->SetFetchMode(var_96);

        
        $var_97 = $var_46->Execute($var_83, $var_14);

        if (!$var_97) {
            
            
            var_dump(debug_backtrace());
            exit();
        }

        
        $var_99 = !$var_97->var_100 ? $var_97->GetArray() : array();

        
        return $var_99;
    }

    
    static function var_102($var_83, $var_14 = array())
    {
        Jojo::_connectToDB();

        
        return Jojo::fn_5()->getAssoc(Jojo::prefixTables($var_83), $var_14);
    }

    
    var_87 function fn_7($var_83, $var_14 = array())
    {
        
        $var_14 = is_array($var_14) ? $var_14 : array($var_14);

        
        return Jojo::fn_5()->getRow(Jojo::prefixTables($var_83), $var_14);
    }

    
    static function var_105($var_83, $var_14 = array())
    {
        Jojo::_connectToDB();

        if (strpos($var_83, '{') === false) {
            $var_88 = new class_0();
            $var_88->var_89 = 'sql';
            $var_88->var_90 = 'very low';
            $var_91 = debug_backtrace();
            $var_88->var_92 = 'SQL Query does not have marked table from '. $var_91[0]['file'] .' line '.$var_91[0]['line'];
            $var_88->var_93 = "SQL Query does not have marked tables: \n\n" . $var_83 . "\n\n table names should have curly brackets around them.";
            $var_88->savetodb();
            unset($var_88);
        }

        
        $var_14 = is_array($var_14) ? $var_14 : array($var_14);

        
        $var_83 = Jojo::prefixTables($var_83);

        if (var_0) {
            if (strtoupper(substr($var_83, 0, 6)) != 'UPDATE' &&
                strtoupper(substr($var_83, 0, 7)) != 'REPLACE') {
                
                if (function_exists('xdebug_get_function_stack')) {
                    $var_106 = xdebug_get_function_stack();
                    $var_107 = array_pop($var_106);
                    
                }
                
            }
        }

        
        global $var_46;

        
        $var_97 = $var_46->Execute($var_83, $var_14);

        if (!$var_97) {
            
            
            var_dump(debug_backtrace());
            exit();
        }

        
        return $var_46->Affected_Rows();
    }

    
    var_87 function fn_8($var_83, $var_14 = array())
    {
        Jojo::_connectToDB();

        if (strpos($var_83, '{') === false) {
            $var_88 = new class_0();
            $var_88->var_89 = 'sql';
            $var_88->var_90 = 'very low';
            $var_91 = debug_backtrace();
            $var_88->var_92 = 'SQL Query does not have marked table from '. $var_91[0]['file'] .' line '.$var_91[0]['line'];
            $var_88->var_93 = "SQL Query does not have marked tables: \n\n" . $var_83 . "\n\n table names should have curly brackets around them.";
            $var_88->savetodb();
            unset($var_88);
        }

        
        $var_14 = is_array($var_14) ? $var_14 : array($var_14);

        
        $var_83 = Jojo::prefixTables($var_83);

        if (var_0) {
            if (strtoupper(substr($var_83, 0, 6)) != 'DELETE') {
                
            }
        }

        
        global $var_46;

        
        $var_97 = $var_46->Execute($var_83, $var_14);

        if (!$var_97) {
            
            
            var_dump(debug_backtrace());
            exit();
        }

        
        return $var_46->Affected_Rows();
    }

    
    static function var_109($var_83, $var_14 = array())
    {
        Jojo::_connectToDB();

        if (strpos($var_83, '{') === false) {
            $var_88 = new class_0();
            $var_88->var_89 = 'sql';
            $var_88->var_90 = 'very low';
            $var_91 = debug_backtrace();
            $var_88->var_92 = 'SQL Query does not have marked table from '. $var_91[0]['file'] .' line '.$var_91[0]['line'];
            $var_88->var_93 = "SQL Query does not have marked tables: \n\n" . $var_83 . "\n\n table names should have curly brackets around them.";
            $var_88->savetodb();
            unset($var_88);
        }

        
        $var_14 = is_array($var_14) ? $var_14 : array($var_14);

        
        $var_83 = Jojo::prefixTables($var_83);

        
        global $var_46;

        
        $var_97 = $var_46->Execute($var_83, $var_14);

        if (!$var_97) {
            
            
            exit();
        }

        
        return $var_46->Insert_ID();
    }

    
    var_87 function fn_9($var_83)
    {
        Jojo::_connectToDB();

        if (strpos($var_83, '{') === false) {
            $var_88 = new class_0();
            $var_88->var_89 = 'sql';
            $var_88->var_90 = 'very low';
            $var_91 = debug_backtrace();
            $var_88->var_92 = 'SQL Query does not have marked table from '. $var_91[0]['file'] .' line '.$var_91[0]['line'];
            $var_88->var_93 = "SQL Query does not have marked tables: \n\n" . $var_83 . "\n\n table names should have curly brackets around them.";
            $var_88->savetodb();
            unset($var_88);
        }

        
        $var_83 = Jojo::prefixTables($var_83);

        if (var_0) {
            
        }
        
        global $var_46;

        
        $var_97 = $var_46->Execute($var_83);

        if (!$var_97) {
            
            
            exit();
        }

        
        return ($var_46->Affected_Rows()) ? $var_46->Affected_Rows() : true;
    }

    
    static function var_111($var_112, $var_113)
    {
        Jojo::_connectToDB();
        global $var_46;

        
        $var_113 = preg_replace('/TYPE\\s*=\\s*(innodb|myisam)/i', 'ENGINE=$1', $var_113);

        $var_31 = array();
        if (!Jojo::tableexists($var_112)) {
            
            Jojo::fn_9($var_113);
            $var_31['created'] = true;
        } else {
            

            
            $var_114 = explode("\n", $var_113);
            $var_115 = array();
            foreach ($var_114 as $var_116 => $var_117) {
                $var_117 = trim($var_117);
                if ($var_117 && $var_117[0] == '`') {
                    $var_115[substr($var_117, 1, strpos($var_117, '`', 2) - 1)] = rtrim($var_117, ',');
                }
            }

            
            Jojo::fn_5()->execute("SET SQL_QUOTE_SHOW_CREATE = 1;");
            $var_16 = Jojo::fn_6(sprintf("SHOW CREATE TABLE {%s};", $var_112));

            $var_119 = explode("\n", $var_16[0]['Create Table']);;
            $var_120 = array();
            foreach ($var_119 as $var_116 => $var_117) {
                $var_117 = trim($var_117);
                if ($var_117 && $var_117[0] == '`') {
                    $var_120[substr($var_117, 1, strpos($var_117, '`', 2) - 1)] = rtrim($var_117, ',');
                }
            }

            
            $var_121 = array();
            $var_122 = '';
            foreach ($var_115 as $var_123 => $var_124) {
                if (isset($var_120[$var_123]) && $var_120[$var_123] != $var_124) {
                    

                    
                    $var_125 = '/(varchar|char|int) *\\( *([0-9]+) *\\)/i';
                    $var_126 = '\\1(\\2)';
                    $var_120[$var_123]  = preg_replace($var_125, $var_126, $var_120[$var_123] );
                    $var_124              = preg_replace($var_125, $var_126, $var_124 );
                    
                    $var_125 = '/\b(varchar|char|int|bigint|default|not|null|enum|auto_increment|on|update)\b/i';
                    $var_120[$var_123]  = preg_replace_callback($var_125, create_function('$matches', 'return strtoupper($matches[0]);'), $var_120[$var_123]);
                    $var_124              = preg_replace_callback($var_125, create_function('$matches', 'return strtoupper($matches[0]);'), $var_124);
                    
                    $var_125 = '/\s{2,}/i';
                    $var_126 = '\\1(\\2)';
                    $var_120[$var_123]  = trim(preg_replace($var_125, $var_126, $var_120[$var_123]));
                    $var_124              = trim(preg_replace($var_125, $var_126, $var_124));
                    
                    $var_125 = '/\b(int)( ?[^(\\s])/i';
                    $var_126 = '\\1(11)\\2';
                    $var_120[$var_123]  = preg_replace($var_125, $var_126, $var_120[$var_123]);
                    $var_124              = preg_replace($var_125, $var_126, $var_124);
                    
                    $var_125 = '/\b(bigint)( ?[^(\\s])/i';
                    $var_126 = '\\1(20)\\2';
                    $var_120[$var_123]  = preg_replace($var_125, $var_126, $var_120[$var_123]);
                    $var_124              = preg_replace($var_125, $var_126, $var_124);

                    $var_127 = explode(' ', $var_120[$var_123]);
                    $var_128 = explode(' ', $var_124);

                    
                    if ((strpos(strtolower($var_120[$var_123]),'varchar')!==false) && (strpos(strtolower($var_120[$var_123]),'not null')!==false) && (strpos(strtolower($var_120[$var_123]),'default')===false)) {
                        $var_127[] = 'DEFAULT';
                        $var_127[] = '\'\'';
                    }

                    
                    if ((strpos(strtolower($var_120[$var_123]),'text') !== false) && (strpos(strtolower($var_120[$var_123]),'null') === false)) {
                        $var_127[] = 'NULL';
                    }

                    if (count(array_intersect($var_127, $var_128)) != count($var_128)) {
                        
                        $var_129 = preg_replace('/`(.*?)`(.*)/', '`$1` `$1` $2', $var_124);
                        if ($var_129 == '') $var_129 = $var_124;
                        $var_31['different'][$var_123] = array(
                                                    'found' => $var_120[$var_123],
                                                    'expected' => $var_124,
                                                    'alter' => 'ALTER TABLE {'.$var_112.'} CHANGE '.$var_129.';'
                                                    );
                    }
                } elseif (!isset($var_120[$var_123])) {
                    
                    $var_83 = sprintf('ALTER TABLE {%s} ADD COLUMN %s', $var_112, $var_124);
                    if ($var_122) {
                        $var_83 .= " AFTER `$var_122`";
                    }
                    Jojo::fn_9($var_83);
                    $var_31['added'][$var_123] = 'added';
                }
                $var_122 = $var_123;
            }
        }
        return $var_31;
    }

    var_87 function fn_10($var_130,$var_131) {
        if (isset($var_131) && is_array($var_131)) {
            foreach ($var_131 as $var_132 => $var_117) {
                
                &var_133;&var_133;&var_133;var_134: %var_135<var_136/>&var_133;&var_133;&var_133;&var_133;var_137: %var_135<var_136/>", $var_117['var_59'], $var_117['var_138']);
                &nbsp;&nbsp;&nbsp;SQL: %s<br />",$var_117['alter']);
                &var_133;&var_133;&var_133;<var_139 var_140=\"post\"><input type=\"hidden\" name=\"sql\" value=\"%s\" /><input type=\"submit\" name=\"submit\" value=\"Fix\" /></form></div>",$var_117['alter']);
            }
        }
    }

    
    static function var_141($var_112, $var_142 = 'TABLES')
    {
        
        $var_143 = Jojo::fn_5()->getAssoc("SHOW FULL TABLES");

        
        if (!is_array($var_143)) {
            Jojo::_connectToDB();
            $var_112 = trim(Jojo::prefixTables('{' . $var_112 . '}'), '`');

            
            global $var_46;

            
            $var_143 = $var_46->MetaTables('TABLES');

            
            return (boolean)(is_array($var_143) && in_array($var_112, $var_143));
        }

        
        $var_142 = ($var_142 == 'VIEWS') ? 'VIEW' : 'BASE TABLE';
        $var_112 = trim(Jojo::prefixTables('{' . $var_112 . '}'), '`');
        return isset($var_143[$var_112]) && $var_143[$var_112] == $var_142;
    }

    
    var_87 function fn_11($var_112, $var_145)
    {
        
        $var_112 = trim(Jojo::prefixTables('{' . $var_112 . '}'), '`');
        $var_146 = Jojo::fn_5()->MetaColumnNames($var_112, true);

        
        return in_array($var_145, $var_146);
    }

    
    static function var_148($var_149)
    {
        Jojo::_connectToDB();

        
        $var_150 = Jojo::fn_5()->qstr($var_149, get_magic_quotes_runtime());

        
        $var_148 = ($var_150[0] == "'") ? substr($var_150, 1, -1) : $var_150;
        
        return $var_148;
    }

    
    var_87 function fn_12($var_152)
    {
        $var_153 = Jojo::clean($var_152);
        if ($var_153 == '') $var_153 = 0;
        return $var_153;
    }

    
    static function var_154($var_155='')
    {
        list($var_156, $var_157) = explode(' ', microtime());
        $var_158 = ((float)$var_156 + (float)$var_157);
        if ($var_155 == '') {
            return $var_158;
        } else {
            return $var_158 - $var_155;
        }
    }

    
    var_87 function fn_13() {
        if (!isset($_SERVER['HTTP_PRAGMA'])) return false;
        if (isset($_SERVER['HTTP_IF_MODIFIED_SINCE'])) return false;
        if (isset($_SERVER['HTTP_IF_NONE_MATCH'])) return false;
        return true;
    }

    
    static function var_159($var_40)
    {
        return strtolower(pathinfo($var_40, var_160));
    }

    
    var_87 function fn_14($var_161, $var_52=false, $var_162=false)
    {
        $var_163 = array('jpg', 'jpeg', 'gif', 'png', 'js', 'css');
        $var_164 = Jojo::getFileExtension($var_161);
        if (!in_array($var_164, $var_163)) {
            return false;
        }
        $var_165 = var_50.'/public/'.md5($var_161).'.'.$var_164;
        Jojo::RecursiveMkdir(var_50.'/public/'); 
        if (!$var_52) {
            return $var_165; 
        }
        file_put_contents($var_165, $var_52);
        if (is_int($var_162)) {
            touch($var_165, $var_162);
        }
        
    }

    
    static function var_166($var_163=false)
    {
        $var_167 = scandir(var_50.'/public/');
        if (is_array($var_167)) {
            foreach ($var_167 as $var_161) {
                if (preg_match('/^[0-9a-f]{32}\\.[0-9a-z]{2,4}$/im', $var_161)) {
                    unlink(var_50.'/public/'.$var_161);
                }
            }
        }
    }

    
    var_87 function fn_15($var_161) {
        $var_164 = Jojo::getFileExtension($var_161);

        $var_168 = array(
            '' => 'application/octet-stream',
            '323' => 'text/h323',
            'acx' => 'application/internet-property-stream',
            'ai' => 'application/postscript',
            'aif' => 'audio/x-aiff',
            'aifc' => 'audio/x-aiff',
            'aiff' => 'audio/x-aiff',
            'asf' => 'video/x-ms-asf',
            'asr' => 'video/x-ms-asf',
            'asx' => 'video/x-ms-asf',
            'au' => 'audio/basic',
            'avi' => 'video/x-msvideo',
            'axs' => 'application/olescript',
            'bas' => 'text/plain',
            'bcpio' => 'application/x-bcpio',
            'bin' => 'application/octet-stream',
            'bmp' => 'image/bmp',
            'c' => 'text/plain',
            'cat' => 'application/vnd.ms-pkiseccat',
            'cdf' => 'application/x-cdf',
            'cer' => 'application/x-x509-ca-cert',
            'class' => 'application/octet-stream',
            'clp' => 'application/x-msclip',
            'cmx' => 'image/x-cmx',
            'cod' => 'image/cis-cod',
            'cpio' => 'application/x-cpio',
            'crd' => 'application/x-mscardfile',
            'crl' => 'application/pkix-crl',
            'crt' => 'application/x-x509-ca-cert',
            'csh' => 'application/x-csh',
            'css' => 'text/css',
            'dcr' => 'application/x-director',
            'der' => 'application/x-x509-ca-cert',
            'dir' => 'application/x-director',
            'dll' => 'application/x-msdownload',
            'dms' => 'application/octet-stream',
            'doc' => 'application/msword',
            'dot' => 'application/msword',
            'dvi' => 'application/x-dvi',
            'dxr' => 'application/x-director',
            'eps' => 'application/postscript',
            'etx' => 'text/x-setext',
            'evy' => 'application/envoy',
            'exe' => 'application/octet-stream',
            'fif' => 'application/fractals',
            'flv' => 'video/x-flv',
            'flr' => 'x-world/x-vrml',
            'gif' => 'image/gif',
            'gtar' => 'application/x-gtar',
            'gz' => 'application/x-gzip',
            'h' => 'text/plain',
            'hdf' => 'application/x-hdf',
            'hlp' => 'application/winhlp',
            'hqx' => 'application/mac-binhex40',
            'hta' => 'application/hta',
            'htc' => 'text/x-component',
            'htm' => 'text/html',
            'html' => 'text/html',
            'htt' => 'text/webviewhtml',
            'ico' => 'image/x-icon',
            'ief' => 'image/ief',
            'iii' => 'application/x-iphone',
            'ins' => 'application/x-internet-signup',
            'isp' => 'application/x-internet-signup',
            'jfif' => 'image/pipeg',
            'jpe' => 'image/jpeg',
            'jpeg' => 'image/jpeg',
            'jpg' => 'image/jpeg',
            'js' => 'application/x-javascript',
            'latex' => 'application/x-latex',
            'lha' => 'application/octet-stream',
            'lsf' => 'video/x-la-asf',
            'lsx' => 'video/x-la-asf',
            'lzh' => 'application/octet-stream',
            'm13' => 'application/x-msmediaview',
            'm14' => 'application/x-msmediaview',
            'm3u' => 'audio/x-mpegurl',
            'man' => 'application/x-troff-man',
            'mdb' => 'application/x-msaccess',
            'me' => 'application/x-troff-me',
            'mht' => 'message/rfc822',
            'mhtml' => 'message/rfc822',
            'mid' => 'audio/mid',
            'mny' => 'application/x-msmoney',
            'mov' => 'video/quicktime',
            'movie' => 'video/x-sgi-movie',
            'mp2' => 'video/mpeg',
            'mp3' => 'audio/mpeg',
            'mpa' => 'video/mpeg',
            'mpe' => 'video/mpeg',
            'mpeg' => 'video/mpeg',
            'mpg' => 'video/mpeg',
            'mpp' => 'application/vnd.ms-project',
            'mpv2' => 'video/mpeg',
            'ms' => 'application/x-troff-ms',
            'mvb' => 'application/x-msmediaview',
            'nws' => 'message/rfc822',
            'oda' => 'application/oda',
            'p10' => 'application/pkcs10',
            'p12' => 'application/x-pkcs12',
            'p7b' => 'application/x-pkcs7-certificates',
            'p7c' => 'application/x-pkcs7-mime',
            'p7m' => 'application/x-pkcs7-mime',
            'p7r' => 'application/x-pkcs7-certreqresp',
            'p7s' => 'application/x-pkcs7-signature',
            'pbm' => 'image/x-portable-bitmap',
            'pdf' => 'application/pdf',
            'pfx' => 'application/x-pkcs12',
            'pgm' => 'image/x-portable-graymap',
            'pko' => 'application/ynd.ms-pkipko',
            'pma' => 'application/x-perfmon',
            'pmc' => 'application/x-perfmon',
            'pml' => 'application/x-perfmon',
            'pmr' => 'application/x-perfmon',
            'pmw' => 'application/x-perfmon',
            'png' => 'image/png',
            'pnm' => 'image/x-portable-anymap',
            'pot' => 'application/vnd.ms-powerpoint',
            'ppm' => 'image/x-portable-pixmap',
            'pps' => 'application/vnd.ms-powerpoint',
            'ppt' => 'application/vnd.ms-powerpoint',
            'prf' => 'application/pics-rules',
            'ps' => 'application/postscript',
            'pub' => 'application/x-mspublisher',
            'qt' => 'video/quicktime',
            'ra' => 'audio/x-pn-realaudio',
            'ram' => 'audio/x-pn-realaudio',
            'ras' => 'image/x-cmu-raster',
            'rgb' => 'image/x-rgb',
            'rmi' => 'audio/mid',
            'roff' => 'application/x-troff',
            'rtf' => 'application/rtf',
            'rtx' => 'text/richtext',
            'scd' => 'application/x-msschedule',
            'sct' => 'text/scriptlet',
            'setpay' => 'application/set-payment-initiation',
            'setreg' => 'application/set-registration-initiation',
            'sh' => 'application/x-sh',
            'shar' => 'application/x-shar',
            'sit' => 'application/x-stuffit',
            'snd' => 'audio/basic',
            'spc' => 'application/x-pkcs7-certificates',
            'spl' => 'application/futuresplash',
            'src' => 'application/x-wais-source',
            'sst' => 'application/vnd.ms-pkicertstore',
            'stl' => 'application/vnd.ms-pkistl',
            'stm' => 'text/html',
            'svg' => 'image/svg+xml',
            'sv4cpio' => 'application/x-sv4cpio',
            'sv4crc' => 'application/x-sv4crc',
            'swf' => 'application/x-shockwave-flash',
            't' => 'application/x-troff',
            'tar' => 'application/x-tar',
            'tcl' => 'application/x-tcl',
            'tex' => 'application/x-tex',
            'texi' => 'application/x-texinfo',
            'texinfo' => 'application/x-texinfo',
            'tgz' => 'application/x-compressed',
            'tif' => 'image/tiff',
            'tiff' => 'image/tiff',
            'tr' => 'application/x-troff',
            'trm' => 'application/x-msterminal',
            'tsv' => 'text/tab-separated-values',
            'ttf' => 'application/x-font-ttf',
            'txt' => 'text/plain',
            'uls' => 'text/iuls',
            'ustar' => 'application/x-ustar',
            'vcf' => 'text/x-vcard',
            'vrml' => 'x-world/x-vrml',
            'wav' => 'audio/x-wav',
            'wcm' => 'application/vnd.ms-works',
            'wdb' => 'application/vnd.ms-works',
            'wks' => 'application/vnd.ms-works',
            'wmf' => 'application/x-msmetafile',
            'woff' => 'application/x-font-woff',
            'wps' => 'application/vnd.ms-works',
            'wri' => 'application/x-mswrite',
            'wrl' => 'x-world/x-vrml',
            'wrz' => 'x-world/x-vrml',
            'wsdl'=> 'text/xml',
            'xaf' => 'x-world/x-vrml',
            'xbm' => 'image/x-xbitmap',
            'xla' => 'application/vnd.ms-excel',
            'xlc' => 'application/vnd.ms-excel',
            'xlm' => 'application/vnd.ms-excel',
            'xls' => 'application/vnd.ms-excel',
            'xlt' => 'application/vnd.ms-excel',
            'xlw' => 'application/vnd.ms-excel',
            'xml' => 'text/xml',
            'xof' => 'x-world/x-vrml',
            'xpm' => 'image/x-xpixmap',
            'xwd' => 'image/x-xwindowdump',
            'z' => 'application/x-compress',
            'zip' => 'application/zip'
        );
        if (isset($var_168[$var_164])) {
            return $var_168[$var_164];
        }
        
        if (file_exists($var_161)) {
            $var_169 = new class_1(var_170);
            $var_142 = $var_169->file($var_161);
            if ($var_142) {
                return $var_142;
            }
        }
        return '';
    }

    static function var_171($var_130, $var_172) {
        $var_52 = Jojo::fn_6('SHOW COLUMNS FROM {' . $var_130 . '}');
        foreach ($var_52 as $var_173) {
            if ($var_173["Field"] == $var_172) return $var_173["Type"];
        }
        return false;
    }

    
    var_87 function fn_16() {
        $var_12                            = isset($_SESSION['referer']) ? $_SESSION['referer'] : 'direct visitor';
        $var_174                       = isset($_SESSION['referer_searchphrase']) ? $_SESSION['referer_searchphrase'] : '';
        $var_175                             = "\r\n\r\n______________________________________\r\n";
        $var_175                            .= "This message was sent from the ".Jojo::fn_24('sitetitle')." website.\r\n";
        $var_175                            .= "Referer: ".$var_12."\r\n";
        if (!empty($var_174)) $var_175 .= "Search Phrase: ".$var_174."\r\n";
        $var_175                            .= "Browser: ".Jojo::getbrowser()."\r\n";
        

        
        $var_175 = Jojo::fn_28('email_footer', $var_175);

        return $var_175;
    }

    
    static function var_176($var_177 = false) {
        if (!$var_177) {
            return false;
        }
        $var_16 = -1;
        if (!file_exists($var_177)) {
            $var_16 = Jojo::RecursiveMkdir(dirname($var_177));
            if (!file_exists($var_177)) {
                $var_16 = mkdir($var_177, 777);
            }
        }
        return $var_16;
    }

    
    var_87 function fn_17($var_178=false)
    {
        global $var_179;
        if (!isset($var_179)) {$var_179 = false;}

        if ($var_178 && $var_179) {
            return '';
        } else if ($var_178 && !$var_179) {
            return var_180."/";
        } else if (!$var_178 && $var_179) {
            return var_181."/";
        } else if (!$var_178 && !$var_179) {
            return '';
        }
    }

    
    static function var_182($var_37)
    {
        return (strtolower($var_37) == 'yes');
    }

    
    var_87 function fn_18($var_37, $var_183=true)
    {
        $var_37 = preg_split("/[\r\n]+/", $var_37);
        if ($var_183) {
            $var_37 = array_map('trim', $var_37);
        }
        
        $var_37 = array_filter($var_37, 'strlen');
        return $var_37;
    }

    
    
    static function var_184($var_37, $var_185="=")
    {
        $var_185 = preg_quote($var_185, '/');
        $var_37 = preg_replace("/([\r\n]+)\\s+([\r\n]+)/", "$1", trim($var_37));
        preg_match_all("/([^\r\n".$var_185."]+)".$var_185."?([^\r\n$]+)?/", $var_37, $var_186);
        return array_combine(
            array_map('trim', $var_186[1]),
            array_map('trim', $var_186[2])
        );
    }

    
    var_87 function fn_19($var_37, $var_183=true)
    {
        $var_37 = explode(",", $var_37);
        if ($var_183) {
            $var_37 = array_map('trim', $var_37);
        }
        
        $var_37 = array_filter($var_37, 'strlen');
        return $var_37;
    }

    
    static function var_187($var_130, $var_188, $var_54='index', $var_189='s', $var_190='', $var_191=1)
    {
        global $var_192;
        
        $var_54 = strtolower($var_54);

        
        if (extension_loaded('mbstring') && mb_detect_encoding($var_54)!='UTF-8') $var_54 = utf8_encode($var_54);

        
        $var_186 = array( '"', '!', '
                          '=',  '\'', ',', '(', ')', '?', '.', '!',
                          ',','[',']','{','}',':',';','`','~','|');
        $var_54 = str_replace($var_186, '', $var_54);

        
        $var_186 = array( '+', '/', ' - ', ' ', ', ',   '&',  '@', ':', '--');
        $var_126 = array( '-', '-',   '-', '-', '-',  'and', 'at', '-', '-' );
        $var_54 = str_replace($var_186, $var_126, $var_54);

        
        $var_54 = str_replace('--','-',$var_54);
        $var_54 = trim($var_54, '-'); 
         $var_54 = urlencode($var_54);
       $var_193 = $var_191 <= 1 ? '' : 'p'.$var_191;
        if ($var_130.$var_189 == 'pages') {
            return $var_188 . $var_193 . '/' . $var_54 . '/'; 
        } else {
            return $var_130 . $var_189 . '/' . $var_188 . $var_193 . '/' . $var_54 . '/'; 
        }
    }

    
    var_87 function fn_20($var_194)
    {
        
        $var_194 = strtolower($var_194);

        
        if (extension_loaded('mbstring') && mb_detect_encoding($var_194)!='UTF-8') $var_194 = utf8_encode($var_194);

        
        $var_186 = array( '"', '!', '
        $url = str_replace($matches, '', $var_194);

        
        $var_186 = array( '/', ' - ', ' ', ', ',   '&',  '@', ':', '--' );
        $var_126 = array( '-',   '-', '-',  '-', 'and', 'at', '-', '-'  );
        $var_194 = str_replace($var_186, $var_126, $var_194);

        
        $var_194 = str_replace('--','-',$var_194);
        $var_194 = trim($var_194,'-');

       
        $var_194 = urlencode($var_194);

        return $var_194;
    }

    
    static function var_195($var_40)
    {
        if (!is_file($var_40))     return false;
        if (!file_exists($var_40)) return false;
        return true;
    }

    
    var_87 function fn_21($var_196, $var_197 = 1, $var_198=false)
    {
        $var_199 = array('TB' => 1099511627776, 'GB' => 1073741824, 'MB' => 1048576, 'KB' => 1024, 'B' => 1);
        foreach ($var_199 as $var_200 => $var_201) {
            if ($var_196 >= $var_201) {
                $var_202 = number_format($var_196/$var_201, $var_197);
                if ($var_198 && ($var_202 > $var_198)) $var_202 = number_format($var_196/$var_201, max($var_197-1, 0));
                return $var_202.$var_200;
            }
        }
        return $var_196 . 'B';
    }

    
    static function var_203($var_204, $var_205 = '', $var_206 = '', $var_207 = '', $var_208 = '', $var_209 = '', $var_210 = '', $var_211 = '')
    {
        if (($var_204 != '') && ($var_204 != '0')) return $var_204;
        if (($var_205 != '') && ($var_205 != '0')) return $var_205;
        if (($var_206 != '') && ($var_206 != '0')) return $var_206;
        if (($var_207 != '') && ($var_207 != '0')) return $var_207;
        if (($var_208 != '') && ($var_208 != '0')) return $var_208;
        if (($var_209 != '') && ($var_209 != '0')) return $var_209;
        if (($var_210 != '') && ($var_210 != '0')) return $var_210;
        if (($var_211 != '') && ($var_211 != '0')) return $var_211;
        return '';
    }

    
    var_87 function fn_22($var_212, $var_213)
    {
        if (($var_212 != '') and ($var_212 != '0')) return $var_213;
    }

    static function var_214($var_215) {
        $var_215 = preg_replace_callback('%url\\([\'"]?\\.\\./(.*?)[\'"]?\\)%', array('Jojo', '_Callback_CssAddAssets'), $var_215);
        return $var_215;
    }

    var_87 function fn_23($var_186) {
        global $var_216;

        static $var_217;
        static $var_218;

        
        if (is_null($var_217)) {
            $var_217 = array();
            $var_99 = Jojo::fn_6("SELECT * FROM {option} WHERE op_name = 'assetdomains'");
            if (empty($var_99[0]['op_value'])) return 'url(../'.$var_186[1].')';

            $var_219 = explode("\n", $var_99[0]['op_value']);

            foreach($var_219 as $var_220) {
                if (trim($var_220)) {
                    $var_217[] = trim($var_220);
                }
            }
            $var_218 = count($var_217) - 1;
        }

        
        if (!$var_218 > 0) {
            return 'url(../'.$var_186[1].')';
        }

        
        
        $var_216 = Jojo::fn_2(0, $var_218, $var_186[1]);
        return 'url(' . $var_217[$var_216] . '/' . $var_186[1] . ')';
    }

    
    static function var_221($var_222, $var_223=false)
    {
        static $var_224;
        if (!isset($var_224)) $var_224 = array();
        if (!isset($var_224[$var_222])) $var_224[$var_222] = array();
        if ($var_223 === false) return $var_224[$var_222]; 
        
        if (!is_array($var_223)) {
            $var_224[$var_222][] = $var_223;
        } else {
            $var_224[$var_222] = array_merge($var_224[$var_222], $var_223);
        }
        return true;
    }

    
    var_87 function fn_24($var_54, $var_225 = null, $var_43 = false)
    {
        
        $var_226 = Jojo::fn_25($var_43);

        
        if (isset($var_226[$var_54])) {
            $var_39 = $var_226[$var_54];
        } else {
            
            $var_39 = $var_225;
        }
        
        $var_39 = Jojo::fn_28('get_option', $var_39, array($var_54, $var_225));

        return $var_39;
    }

    
    static function var_227($var_54, $var_39)
    {
        $var_52 = Jojo::fn_6("SELECT * FROM {option} WHERE op_name = ?", $var_54);
        if (count($var_52)) {
            Jojo::updateQuery("UPDATE {option} SET op_value=? WHERE op_name=?", array($var_39, $var_54));
            return true;
        }
        return false;
    }

    
    var_87 function fn_25($var_43 = false)
    {
        static $var_226;

        
        if (!is_array($var_226) || $var_43) {
            $var_226 = array();
            $var_99 = Jojo::fn_6("SELECT `op_name`, `op_value` FROM {option}");
            foreach ($var_99 as $var_173) {
                $var_226[$var_173['op_name']] = $var_173['op_value'];
            }
        }

        return $var_226;
    }

    
    static function var_228($var_54)
    {
        $var_52 = Jojo::fn_6("SELECT * FROM {option} WHERE op_name = ?", $var_54);
        if (count($var_52)) {
            Jojo::fn_8("DELETE FROM {option} WHERE op_name = ?", $var_54);
            return true;
        }
        return false;
    }

    
    var_87 function fn_26($var_229)
    {
        global $var_230;
        if (!is_array($var_230)) {
            $var_230 = array();
        }
        
        if (!is_array($var_229)) return '';

        if (!isset($var_229['name'])) return '';
        if (!isset($var_229['format'])) return '';
        if (!is_array($var_229['vars'])) $var_229['vars'] = array();
        if (!isset($var_229['description'])) $var_229['description'] = '';
        if (!isset($var_229['icon'])) $var_229['icon'] = 'images/cms/icons/brick.png';

        $var_229['jtagformat'] = $var_229['format'];

        
        foreach ($var_229['vars'] as $var_116 => $var_117) {
            if (!isset($var_229['vars'][$var_116]['name'])) $var_229['vars'][$var_116]['name'] = '';
            if (!isset($var_229['vars'][$var_116]['description'])) $var_229['vars'][$var_116]['description'] = '';
            $var_231 = !empty($var_229['vars'][$var_116]['description']) ? $var_229['vars'][$var_116]['description'] : $var_229['vars'][$var_116]['name'];
            $var_229['jtagformat'] = str_replace('['.$var_116.']', '@'.$var_231.'@', $var_229['jtagformat']);
        }

        if (!isset($var_230[$var_229['name']])) {
            $var_230[$var_229['name']] = array();
        }
        $var_230[$var_229['name']] = array(
                               'name'=>$var_229['name'],
                               'format'=>$var_229['format'],
                               'jtagformat'=>$var_229['jtagformat'],
                               'vars'=>$var_229['vars'],
                               'description'=>$var_229['description'],
                               'icon'=>$var_229['icon']
                               );
    }

    static function var_232()
    {
        global $var_230;
        if (!is_array($var_230)) {
            $var_230 = array();
        }
        return $var_230;
    }

    
    var_87 function fn_27($var_233, $var_234, $var_235, $var_236 = 10)
    {
        global $var_237;

        if (!is_array($var_237)) {
            $var_237 = array();
        }

        if (!isset($var_237[$var_233])) {
            $var_237[$var_233] = array();
        }

        if (!isset($var_237[$var_233][$var_236])) {
            $var_237[$var_233][$var_236] = array();
        }

        $var_237[$var_233][$var_236][serialize(array($var_235, $var_234))] = array($var_235, $var_234);
    }

    
    static function var_238($var_233, $var_234, $var_235, $var_236 = 10)
    {
        global $var_237;

        if (isset($var_237[$var_233][$var_236][serialize(array($var_235, $var_234))])) {
            unset($var_237[$var_233][$var_236][serialize(array($var_235, $var_234))]);
            return true;
        }
        return false;
    }

    
    var_87 function fn_28($var_233, $var_52, $var_239 = null)
    {
        global $var_237;

        if (!isset($var_237[$var_233])) {
            return $var_52;
        }

        $var_240 = func_get_args();
        $var_233 = array_shift($var_240);
        ksort($var_237[$var_233]);

        foreach($var_237[$var_233] as $var_236 => $var_241) {
            foreach($var_241 as $var_242) {
                $var_235 = $var_242[0];
                $var_234 = $var_242[1];
                if (!class_exists($var_235)) {
                    $var_235 = 'Jojo_Plugin_' . $var_242[0];

                    
                    if (!class_exists($var_235)) {
                        
                        $var_243 = $var_242[0] . '.php';
                        foreach (Jojo::listPlugins($var_243) as $var_243) include($var_243);
                    }
                }

                
                if (!is_callable(array($var_235, $var_234))) {
                      
                        continue 1;
                }

                $var_240[0] = call_user_func_array(array($var_235, $var_234), $var_240);
            }
        }
        return $var_240[0];
    }

    
    static function var_244($var_233, $var_234, $var_235 = null, $var_236 = 10)
    {
        global $var_245;

        if (!is_array($var_245)) {
            $var_245 = array();
        }

        if (!isset($var_245[$var_233])) {
            $var_245[$var_233] = array();
        }

        if (!isset($var_245[$var_233][$var_236])) {
            $var_245[$var_233][$var_236] = array();
        }

        if ($var_235) {
            $var_245[$var_233][$var_236][serialize(array($var_235, $var_234))] = array($var_235, $var_234);
        } else {
            $var_245[$var_233][$var_236][] = $var_234;
        }
    }

    
    var_87 function fn_29($var_233, $var_234, $var_235, $var_236 = 10)
    {
        global $var_245;

        if (isset($var_245[$var_233][$var_236][serialize(array($var_235, $var_234))])) {
            unset($var_245[$var_233][$var_236][serialize(array($var_235, $var_234))]);
            return true;
        }
        return false;
    }

    
    static function var_246($var_233, $var_239 = array())
    {
        global $var_245;

        if (!isset($var_245[$var_233])) {
            return;
        }

        $var_31 = '';
        ksort($var_245[$var_233]);
        foreach($var_245[$var_233] as $var_236 => $var_241) {
            foreach($var_241 as $var_242) {
                $var_235 = $var_242[0];
                $var_234 = $var_242[1];

                if (!class_exists($var_235)) {
                    $var_235 = 'Jojo_Plugin_' . $var_242[0];

                    
                    if (!class_exists($var_235)) {
                        
                        $var_243 = $var_242[0] . '.php';
                        foreach (Jojo::listPlugins($var_243) as $var_243) include($var_243);
                    }
                }

                
                if (!is_callable(array($var_235, $var_234))) {
                      
                        continue 1;
                }

                $var_31 = call_user_func_array(array($var_235, $var_234), $var_239);
                $var_239 = $var_31 ? $var_31 : $var_239;
            }
        }

        return $var_239;
    }

    
    var_87 function fn_30($var_247, $var_7)
    {
        global $var_245;

        if (empty($var_247['hook'])) {
            $var_7->trigger_error("assign: missing 'hook' parameter");
            return;
        }
        $var_233 = $var_247['hook'];

        if (!isset($var_245[$var_233])) {
            return '';
        }

        $var_31 = '';
        ksort($var_245[$var_233]);
        foreach($var_245[$var_233] as $var_236 => $var_241) {
            foreach($var_241 as $var_242) {
                if (!is_array($var_242)) {
                    $var_31 .= $var_242();
                    continue;
                }
                $var_235 = $var_242[0];
                $var_234 = $var_242[1];

                if (!class_exists($var_235)) {
                    $var_235 = 'Jojo_Plugin_' . $var_242[0];

                    
                    if (!class_exists($var_235)) {
                        
                        $var_243 = $var_242[0] . '.php';
                        foreach (Jojo::listPlugins($var_243) as $var_243) include($var_243);
                    }
                }

                
                if (!is_callable(array($var_235, $var_234))) {
                      
                        continue 1;
                }

                $var_31 .= call_user_func(array($var_235, $var_234));
            }
        }

        return $var_31;
    }

    
    static function var_249($var_247, $var_7)
    {

		$var_250 = false;

        if (empty($var_247['file'])) {
        	if (is_array($var_247) && count($var_247)) {
        		$var_250 = current($var_247);
        	}
        } else {
        	$var_250 = $var_247['file'];
        }

        $var_31 = $var_250;

        if (var_0) {
        	return $var_31.'?r='.rand(1000,10000);
        }


        $var_251 = false;
        if (file_exists(var_50.'/'.$var_250)) {
        	$var_251 = var_50.'/'.$var_250;
        } else {
        	
        	$var_252 = pathinfo($var_250, var_160);
        	if ($var_252 == 'css') {
        		$var_250 = preg_replace('%^css/%', '', $var_250);
        	}
        	$var_253 = var_50.'/public/'.md5($var_250).'.'.$var_252;

		    if (file_exists($var_253)) {
		    	$var_251 = $var_253;
		    }
        }

        if ($var_251) {
		    $var_254 = filemtime($var_251);
		    $var_255 = max(var_256, 28800); 
		    if (time() < $var_254 + $var_255) {
		    	$var_31 .= "?v=$var_254";
		    }
        }

        return $var_31;
    }

    
    var_87 function fn_31($var_257, &$var_7)
    {
        return true;
    }

    
    static function var_258($var_257, &$var_7)
    {
    }

    
    var_87 function fn_32($var_257, &$var_259, &$var_7)
    {
        static $var_260;

        if (isset($var_260[$var_257])) {
            $var_259 = $var_260[$var_257];
            return true;
        }

        $var_16 = Jojo::listThemes('templates/' . $var_257);
        if (count($var_16)) {
            $var_40 = array_pop($var_16);
            $var_259 = file_get_contents($var_40);
            $var_260[$var_257] = $var_259;
            return true;
        }

        $var_16 = Jojo::listPlugins('templates/' . $var_257, 'all', false);
        if (count($var_16)) {
            $var_40 = array_pop($var_16);
            $var_259 = file_get_contents($var_40);
            $var_260[$var_257] = $var_259;
            return true;
        }

        if (file_exists($var_257)) {
            $var_259 = file_get_contents($var_257);
            $var_260[$var_257] = $var_259;
            return true;
        }

        return false;
    }

    
    static function var_261($var_257, &$var_262, &$var_7)
    {
        static $var_260;
        if (isset($var_260[$var_257])) {
            $var_262 = $var_260[$var_257];
            return true;
        }

        $var_16 = Jojo::listThemes('templates/' . $var_257);
        if (count($var_16)) {
            $var_40 = array_pop($var_16);
            $var_262 = filemtime($var_40);
            $var_260[$var_257] = $var_262;
            return true;
        }

        $var_16 = Jojo::listPlugins('templates/' . $var_257);
        if (count($var_16)) {
            $var_40 = array_pop($var_16);
            $var_262 = filemtime($var_40);
            $var_260[$var_257] = $var_262;
            return true;
        }

        if (file_exists($var_257)) {
            $var_262 = filemtime($var_257);
            $var_260[$var_257] = $var_262;
            return true;
        }

        return false;
    }

    
    var_87 function var_263($var_264, $var_265=false) {
        global $var_6;

        if ($var_265) $var_266 = array();

        
        $var_267 = explode('?', $var_264);
        if(isset($var_267[1])) {
            $var_264 = trim($var_267[0], '/');
            parse_str($var_267[1], $var_268);
            $var_269 = array_merge($var_269, $var_268);
            $var_270 = array_merge($var_270, $var_268);
        }
        $var_264 = trim($var_264, '/');

        
        $var_123 = var_271(var_272, 'https:
        $f = ltrim(_SITEFOLDER, 'var_273:
        $var_274 = explode('/', $var_123);
        if (count($var_274) > 1) {
            array_shift($var_274);
            $var_275 = implode('/', $var_274);
        } var_303 {
            $var_275 = '';
        }
        $var_264 = preg_replace('%^'.$var_275.'/(.*)$%', '$1', $var_264);

        
        $var_276 = Jojo::getMultiLanguageData();
        $var_277 = $var_276['default'];

        
        $var_267 = explode('/', $var_264);
        $var_278 = $var_267[0];

        if (isset($var_276['roots'][$var_278])) {
            
            $var_264 = (string)substr($var_264, strlen($var_278));
            $var_264 = trim($var_264, '/');
            $var_277 = $var_278;
        } elseif ($var_279 = array_search($var_278, $var_276['longcodes'])) {
            
            $var_264 = (string)substr($var_264, strlen($var_278));
            $var_264 = trim($var_264, '/');
            $var_277 = $var_279;
        }

        if (trim($var_264) == '') {
            
            if ($var_265) {
                $var_266[] = $var_276['homes'][$var_277];
            } var_303 {
                var_64 $var_276['homes'][$var_277];
            }
        }

        
        foreach ($var_6 as $var_280) {
            
            if ($var_280['custom']) {
                if (!class_exists($var_280['class']) || !method_exists($var_280['class'], $var_280['custom'])) {
                    var_281;
                }
                $var_16 = call_user_func(array($var_280['class'], $var_280['custom']), $var_264);
                if ($var_16 === false) {
                    
                    var_281;
                } elseif ($var_16 === true) {
                    
                    $var_14 = array($var_280['class']);
                    
                    $var_282 = explode('/', $var_264);
                    $var_283 = array();
                    foreach ($var_282 as $var_284) {
                        $var_14[] = implode('/', $var_282);
                        $var_285[] = '?';
                        array_pop($var_282);
                    }
                    $var_285 = implode(', ', $var_285);

                    $var_16 = Jojo::fn_6('SELECT pageid, pg_url FROM {page} WHERE pg_link = ? AND pg_url IN ('.$var_285.') ORDER BY LENGTH(pg_url) DESC', $var_14);

                    if (isset($var_16[0]['pageid']) && count($var_16) == 1 ) {
                        if ($var_265) {
                            $var_266[] =  $var_16[0]['pageid'];
                        } var_303 {
                            var_64  $var_16[0]['pageid'];
                        }
                    } elseif (isset($var_16[0]['pageid'])) {
                       $var_286 = $var_276['roots'][$var_277];
                        foreach ($var_16 as $var_116=>$var_287){
                            
                            if ($var_286 != Jojo::getSectionRoot($var_287['pageid']) ) {
                                unset($var_16[$var_116]);
                                array_push($var_16, $var_287);
                            }
                        }
                        var_288('
                        $pageid ='';
                        foreach ($var_16 as $var_287){
                            if ($var_287['pg_url'] == $var_186[1]) {
                                $var_289 = $var_287['pageid'];
                                break;
                            }
                        }
                        $var_290 = array_shift($var_16);
                        $var_289 = !$var_289 ? $var_290['pageid'] : $var_289;
                        if ($var_265) {
                            $var_266[] = $var_289;
                        } var_303 {
                            var_64 $var_289;
                        }
                    }
                } else {
                    
                    if ($var_265) {
                        $var_266[] = $var_16;
                    } var_303 {
                        var_64 $var_16;
                    }

                }
                var_281;
            }

            
            $var_3 = $var_280['pattern'];
            $var_291 = array();
            $var_292 = strlen($var_3);
            $var_293 = 0; $var_119 = '';
            for ($var_294 = 0; $var_294 < $var_292; $var_294++) {
                if ($var_3[$var_294] == '[') {
                    if ($var_293 == 0 && strlen($var_119)) {
                        $var_291[] = $var_119;
                        $var_119 = '';
                    }
                    $var_293++;
                    $var_119 .= $var_3[$var_294];
                } var_58 ($var_3[$var_294] == ']') {
                    $var_293--;
                    $var_119 .= $var_3[$var_294];
                    if ($var_293 == 0) {
                        $var_291[] = $var_119;
                        $var_119 = '';
                    }
                } var_303 {
                    $var_119 .= $var_3[$var_294];
                }
            }
            var_62 ($var_119) {
                $var_291[] = $var_119;
            }

            $var_125 = '';
            $var_295 = array();
            foreach($var_291 as $var_296) {
                var_62 (preg_match('
                    $names[] = $matches[1];
                    
                    $part = '(' . str_replace(
                            array('var_297', 'string',      'phrase'),
                            array('[0-9]+',  '[a-z0-9-_]+', '[0-9a-z-_\s]+' ),
                             $var_186[2]) . ')';
                } elseif (var_288('
                    $names[] = '';
                    $var_296 = '(' . str_replace(
                            array('integer', 'string',      'phrase'),
                            array('[0-9]+',  '[a-z0-9-_]+', '[0-9a-z-_\s]+' ),
                             $var_186[1]) . ')';
                }

                $var_125 .= $var_296 ;
            }
            $var_125 = '

            if (!preg_match($regex, $uri, $matches)) {
                
                continue;
            }

            
            array_shift($matches);
            foreach ($names as $id => $name) {
                if (!$name) {
                    continue;
                }
                $_GET[$name] = isset($matches[$id]) ? $matches[$id] : '';
            }

            
            $var_83 = 'var_298 var_289, var_299 FROM {var_300} var_301 var_302 = ?';
            $values = array($uriPattern['var_4']);
            $var_16 = Jojo::fn_6($var_83, $var_14);
            if (isset($var_16[0]['pageid']) && count($var_16) == 1 ) {
                if ($var_265) {
                    $var_266[] =  $var_16[0]['pageid'];
                } var_303 {
                    var_64 $var_16[0]['pageid'];
                }
            } var_303 {
               $var_286 = $var_276['roots'][$var_277];
                foreach ($var_16 as $var_116=>$var_287){
                    
                    if ($var_286 != Jojo::getSectionRoot($var_287['pageid']) ) {
                        unset($var_16[$var_116]);
                        array_push($var_16, $var_287);
                    }
                }
                preg_match('
                $pageid ='';
                foreach ($var_16 as $var_287){
                    if ($var_287['pg_url'] == $var_186[1]) {
                        $var_289 = $var_287['pageid'];
                        break;
                    }
                }
                $var_290 = array_shift($var_16);
                $var_289 = !$var_289 ? $var_290['pageid'] : $var_289;
                if ($var_265) {
                    $var_266[] = $var_289;
                } var_303 {
                    var_64 $var_289;
                }
            }
        }

        
        var_304('%^([0-9]+)/([^/]+)/?$%', $var_264, $var_186);
        if (isset($var_186[1][0])) {
            if ($var_265) {
                $var_266[] = $var_186[1][0];
            } var_303 {
                var_64 $var_186[1][0];
            }
        }

        
        $var_83 = 'SELECT pageid FROM {page} WHERE pg_url = ? ORDER BY pageid DESC';
        
        $var_264 = Jojo::getAdminUriReverse($var_264);
        $var_14 = array($var_264);
        $var_16 = Jojo::fn_6($var_83, $var_14);
        $var_286 = isset($var_276['roots'][$var_277]) ? $var_276['roots'][$var_277] : 0;
        foreach ($var_16 as $var_116=>$var_287){
            
            if ($var_286 != Jojo::getSectionRoot($var_287['pageid']) ) {
                unset($var_16[$var_116]);
                array_push($var_16, $var_287);
            }
        }
        $var_290 = array_shift($var_16);
        if (isset($var_290['pageid'])) {
            if ($var_265) {
                $var_266[] = $var_290['pageid'];
            } var_303 {
                var_64 $var_290['pageid'];
            }
        }

        
        $var_267 = explode('/', $var_264);
        $var_305 = $var_267[count($var_267) - 1];
        if (preg_match('%^([0-9]+)$%', $var_305)) {
            $var_264 = substr($var_264, 0, strlen($var_264) - strlen($var_305) - 1);
            $var_14[0] = $var_264;
            $var_16 = Jojo::fn_6($var_83, $var_14);
            if (isset($var_16[0]['pageid'])) {
                if ($var_265) {
                    $var_266[] = $var_16[0]['pageid'];
                } var_303 {
                    var_64 $var_16[0]['pageid'];
                }
            }
        }
        var_62 ($var_265) {
            if (!count($var_266)) $var_266[] = false;
            return $var_266;
        } var_303 {
            var_64 false;
        }

    }

    
    static function var_306($var_264)
    {
        if (var_307 == 'admin')
            var_64 $var_264;

        if ($var_264 == 'admin') {
            $var_264 = var_307;
        } var_303 {
            $var_264 = preg_replace('%(admin/)(.*)%', var_307.'/$2', $var_264);
        }

        var_64 $var_264;
    }

    var_87 function var_308($var_264)
    {
        if (var_307 == 'admin')
            var_64 $var_264;

        if ($var_264 == var_307) {
            $var_264 = 'admin';
        } var_303 {
            $var_264 = preg_replace('%('.var_307.'/)(.*)%', 'admin/$2', $var_264);
        }

        var_64 $var_264;
    }

    
    var_87 function var_309($var_310 = 16, $var_311 = null)
    {
        if (is_null($var_311)) {
            $var_311 = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        }

        $var_16 = '';
        $var_312 = strlen($var_311) - 1;
        while (strlen($var_16) < $var_310) {
            $var_16 .= $var_311[mt_rand(0, $var_312)];
        }
        var_64 $var_16;
    }

    
    var_87 function var_313($var_314)
    {
        if (preg_match('/[0-9]+\/[0-9]+\/[0-9]+/', $var_314)) {
            $var_315 = explode('/', $var_314);
            $var_316 = $var_315[1] . "/" . $var_315[0] . "/" . $var_315[2];
        } var_303 {
            $var_316 = $var_314;
        }
        var_62 (empty($var_316)) {var_64 false;}
        var_62 (($var_317 = strtotime($var_316)) === -1) {
            var_64 false; 
        } var_303 {
            var_64 $var_317;
        }
    }

    
    var_87 function var_318($var_319, $var_320='short')
    {
        if (($var_319 == 'NULL') || ($var_319 == NULL) || ($var_319 == '0000-00-00') || empty($var_319) || ($var_319 == '0') || ($var_319 == '')) {
            var_64 '';
        }
        $var_317 = Jojo::strToTimeUK($var_319);

        if (!$var_317) {
            var_64 '';
        } var_303 {
            return var_2::formatTimestamp($var_317, $var_320);
        }
    }

    
    var_87 function var_321($var_317, $var_320='short')
    {
        if (!$var_317) {
            var_64 "";
        } var_303 {
            if ($var_320 == 'rss') {
                
                var_64 var_322('D, d M Y H:i:s O', $var_317);
            } var_58 ($var_320 == 'short') {
                
                var_64 var_322('d/m/Y', $var_317);
            } var_58 ($var_320 == 'medium') {
                var_64 var_322('j M y', $var_317);
            } var_58 ($var_320 == 'long') {
                var_64 var_322('j F Y', $var_317);
            } var_58 ($var_320 == 'vlong') {
                var_64 var_322('D, j F Y', $var_317);
            } var_58 ($var_320 == 'array') {
                $var_323 = strtotime($var_324);
                return getdate($var_323);
            } var_58 ($var_320 == 'friendly') { 
                if (date('d/m/Y', strtotime('+0 day')) == date('d/m/Y', $var_317)) {
                    $var_323 = 'today, ' . date("j M y", $var_317);
                } var_303 if (date("d/m/Y", strtotime('+1 day')) == date('d/m/Y', $var_317)) {
                    $var_323 = 'tomorrow, ' . date('j M y', $var_317);
                } var_303 if (date('d/m/Y', strtotime('-1 day')) == date('d/m/Y', $var_317)) {
                    $var_323 = "yesterday, ". date('j M y', $var_317);
                } var_303 {
                    $var_323 = date('j M y', $var_317);
                }
                var_64 $var_323;
            }
        }
    }

    
    var_87 function var_325($var_326, $var_327, $var_328 = '')
    {
        $var_329 = array();
        $var_330 = 0;
        $var_331   = 1;

        if (is_numeric($var_328) == false)
            $var_328 = '';

        while ( false !== ( $var_332 = stripos($var_327, $var_326, $var_330) ) && ($var_331 < $var_328 || $var_328 == ''))
            {
            $var_329[] = substr($var_327, $var_330, $var_332-$var_330);
            $var_330 = $var_332+strlen($var_326);
            $var_331++;
            }

        $var_329[] = substr($var_327, $var_330);
        return $var_329;
    }

    
    var_87 function var_333($var_194, $var_142=301)
    {
        
        
        if ($var_142 == 301) var_334("HTTP/1.1 301 Moved Permanently");
        header("Location: $var_194");
        
        exit();
    }

    
    var_335 static function var_336($var_337=false)
    {
        if (!empty($var_337)) var_2::redirect($var_337);

        $var_333 = Jojo::getFormData('redirect', false);

        
        if (!$var_333) {
            
            if (trim($_SERVER['HTTP_REFERER'], '/') == trim(var_181.'/'.var_338, '/')) {
                $var_333 = '';
            
            } var_58 (preg_match('%^'.str_replace('.', '\\.', var_181).'/(.*)$%im', $_SERVER['HTTP_REFERER'])) {
                $var_333 = preg_replace('%^'.str_replace('.', '\\.', var_181).'/(.*)$%im', '$1', $_SERVER['HTTP_REFERER']);
            
            } var_303 {
                $var_333 = '';
            }
        }

        var_2::redirect(var_181.'/'.$var_333);
    }

    
    var_87 function var_339($var_194)
    {
        var_64 preg_match('
    }

    
    static function checkEmailFormat($email)
    {
      
      
        return filter_var($email, FILTER_VALIDATE_EMAIL);
    }

    
    static function getIp()
    {
        $ip = false;
        if ( (getenv('var_340') != '') && (strtolower(getenv('HTTP_X_FORWARDED_FOR')) != 'unknown')) {
            $var_341 = explode(',', getenv('HTTP_X_FORWARDED_FOR'));
            $var_342 = $var_341[0];
        } var_58 (getenv('REMOTE_ADDR') != '') {
            $var_342 = getenv('REMOTE_ADDR');
        }
        
        var_62 (preg_match('/\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b/', $var_342)) {
        	var_64 $var_342;
        }
        var_64 false;
    }

    
    var_87 function var_343()
    {
        static $var_344;

        if (isset($var_344)) var_64 $var_344;

        $var_345 = '';
        $var_346 = '';
        $var_347 = 'mozilla msie gecko firefox konqueror safari netscape navigator opera mosaic lynx amaya omniweb snoopy chrome';
        $var_347 = explode(' ', $var_347);

        $var_348 = isset($_SERVER['HTTP_USER_AGENT']) ? strToLower( $_SERVER['HTTP_USER_AGENT']) : '';

        $var_279 = strlen($var_348);
        $var_349 = count($var_347);
        for ($var_294=0; $var_294<$var_349; $var_294++) {
            $var_350 = $var_347[$var_294];
            $var_218 = stristr($var_348, $var_350);
            if (strlen($var_218) > 0) {
                $var_345 = '';
                $var_346 = $var_350;
                $var_351 = strpos($var_348, $var_346) + $var_218 + strlen($var_346) + 1;
                for (; $var_351<=$var_279; $var_351++){
                    $var_135 = substr($var_348, $var_351, 1);
                    if (is_numeric($var_345.$var_135)) {
                        $var_345 .= $var_135;
                    } var_303 {
                        var_396;
                    }
                }
            }
        }
        var_62 ($var_346 == 'msie') $var_346 = 'internet explorer';
        $var_344 = ucwords($var_346 . ' ' . $var_345);
        return $var_344;
    }

    
    var_87 function var_352($var_353,$var_354=30)
    {
        
        $var_355 = array(
                      'to',
                      'a',
                      'about',
                      'after',
                      'all',
                      'am',
                      'an',
                      'and',
                      'any',
                      'are',
                      'as',
                      'at',
                      'be',
                      'but',
                      'by',
                      'can',
                      'do',
                      'does',
                      'for',
                      'from',
                      'has',
                      'have',
                      'he',
                      'her',
                      'here',
                      'him',
                      'his',
                      'how',
                      'if',
                      'in',
                      'is',
                      'it',
                      'me',
                      'my',
                      'no',
                      'not',
                      'of',
                      'on',
                      'or',
                      'she',
                      'so',
                      'that',
                      'the',
                      'their',
                      'then',
                      'there',
                      'this',
                      'was',
                      'we',
                      'what',
                      'whats',
                      'when',
                      'which',
                      'will',
                      'with',
                      'would',
                      'you',
                      'your',
                      'well',
                      'into',
                      'also',
                      'now',
                      'its',
                      'get',
                      'need',
                      'worth',
                      'up',
                      'down',
                      'see',
                      'over'
                      );

        
        $var_353 = var_356(var_357($var_353, 0, 500));

        
        $var_358 = array ('@<script[^>]*?'.'>.*?</script>@si', 
                     '@<[\/\!]*?[^<>]*?'.'>@si',              
                     '@([\r\n])[\s]+@',                       
                     '@&(quot|
                     '@&(var_359|
                     '@&(lt|
                     '@&(var_360|
                     '@&(nbsp|
                     '@&(var_361|
                     '@&(cent|
                     '@&(var_362|
                     '@&(copy|
                     '@&

        $var_126 = array ('',
                     '',
                     '\1',
                     '"',
                     '&',
                     '<',
                     '>',
                     ' ',
                     chr(161),
                     chr(162),
                     chr(163),
                     chr(169),
                     'chr(\1)');

        $var_353 = preg_replace($var_358, $var_126, $var_353);

        
        $var_363 = array("\r", "\n", ' ');
        $var_353 = str_replace($var_363, ' ', $var_353);

        
        $var_353 = preg_replace ('/[^[:space:]a-zA-Z0-9*_-]/', '', $var_353);

        
        $var_364 = array();

        $var_365 = explode(' ',$var_353,($var_354*5)); 

        for ($var_294=0;$var_294<count($var_365);$var_294++) {
            if (preg_match('/^\\d+$/si', $var_365[$var_294])) var_366($var_365[$var_294]);
        }

        $var_294 = 0;
        $var_218 = count($var_365);
        while ((count($var_364) < $var_354) && ($var_294 < $var_218)) {
            
            if (isset($var_365[$var_294]) && !in_array($var_365[$var_294], $var_355) && !in_array($var_365[$var_294], $var_364)) {
                $var_364[]=$var_365[$var_294];
            }
            $var_294++;
        }

        
        var_64 var_367(' ',$var_364);
    }
    
    static function clearCache($var_368 = false) {
        Jojo::fn_8("DELETE FROM {contentcache}");
        if ($var_368) {
            if (Jojo::fileExists(var_50 . '/api.txt')) {
                unlink(var_50.'/api.txt');
            }
            var_62 (Jojo::fileExists(var_50 . '/listPlugins.txt')) {
                unlink(var_50.'/listPlugins.txt');
            }
            var_62 (Jojo::fileExists(var_50 . '/listThemes.txt')) {
                unlink(var_50.'/listThemes.txt');
            }
            $var_223 = scandir(var_50 . '/smarty/templates_c');
            foreach ($var_223 as $var_40) {
                if (preg_match('/^%%.*%%.*\\.tpl\\.php$/i', $var_40)) {
                    unlink(var_50 . '/smarty/templates_c/' . $var_40);
                }
            }

        }
        var_64 true;
    }

    static function var_369($var_370)
    {
        var_64 Text_Filter::filter($var_370, 'html2text');
    }

    
    var_87 function var_371($var_372=false)
    {
        if (!$var_372) $var_372 = var_373.$_SERVER['HTTP_HOST'];
        $var_374 = Jojo::fn_24('dev_domains');
        if (empty($var_374)) var_64 false;

        $var_374 = explode("\n", $var_374);
        foreach ($var_374 as $var_375) {
            $var_375 = trim($var_375);
            if ($var_372 == $var_375) var_64 true;
        }
        var_64 false;
    }

    var_87 function var_376($var_377, $var_378, $var_379, $var_380, $var_381=var_382, $var_383=var_384, $var_385=false, $var_386=false)
    {
        
        $var_387 = array("Content-Type:",
                         "MIME-Version:",
                         "Content-Transfer-Encoding:",
                         "bcc:",
                         "cc:",
                         "%0A");

        foreach($var_387 as $var_117){
            if ( (strpos($var_381, $var_117) !== false) || (strpos($var_381, $var_117) !== false) ){
                header('location: http:
                exit;
            }
            if ( (strpos($fromaddress, $v) !== false) || (strpos($fromaddress, $v) !== false) ){
                header('var_337: var_273:
                var_388;
            }
        }

        
        if (!class_exists('Jojo_Eventlog')) var_389(var_390.'/plugins/jojo_core/classes/Jojo/Eventlog.php');
        $var_88             = new class_0();
        $var_88->var_89       = 'Sendmail';
        $var_88->var_90 = 'normal';
        $var_88->var_92  = 'To:'.$var_378.' - '.$var_379;
        $var_88->var_93       = "To: $var_377 <$var_378>\nFrom: $var_381 <$var_383>\nSubject: $var_379\nMessage:\n$var_380";
        $var_88->savetodb();
        unset($var_88);

        $var_391 = Jojo::fn_24('smtp_mail_enabled', 'no');
        if ($var_391 == 'yes') {
            $var_392 = Jojo::fn_24('smtp_mail_host', 'http:
            $port = Jojo::getOption('var_393', 25);
            $var_394 = Jojo::fn_24('smtp_mail_user', '');
            $var_395 = Jojo::fn_24('smtp_mail_pass', '');

            foreach (Jojo::listPlugins('external/mimemail/htmlMimeMail.php') as $var_243) {
                var_396;
            }
            $var_397 = new class_2();
            if (!$var_385) {
            	$var_397->setText($var_380);
            } var_303 {
            	$var_397->setHtml($var_385, $var_380);
            }
            if (!empty($var_394)) {
                $var_397->setSMTPParams($var_392, $var_398, var_181, true, $var_394, $var_395);
            } var_303 {
                $var_397->setSMTPParams($var_392, $var_398, var_181);
            }
            $var_397->setFrom('"'.'=?UTF-8?B?'.base64_encode($var_381).'?='.'" <'.$var_383.'>');
            $var_397->setSubject('=?UTF-8?B?'.base64_encode($var_379).'?=');
            $var_397->setTextCharset('UTF-8');

            $var_31 = $var_397->send(array($var_378), 'smtp');
            return $var_31;
        } var_303 {
            
            $var_403 = 'Multipart_Boundary_x'.md5(time()).'x';

            $var_404  = "MIME-Version: 1.0\n";
            $var_404 .= $var_385 ? "Content-Type: multipart/alternative; boundary=\"$var_403\"\r\n" : "Content-Type: text/plain;charset=\"UTF-8\"\n";
            $var_404 .= "Content-Transfer-Encoding: 7bit\r\n";
            $var_404 .= "X-Priority: 3\n";
            $var_404 .= "X-MSMail-Priority: Normal\n";
            $var_404 .= "X-Mailer: php\n";
            $var_404 .= $var_386 ? "From: " . $var_386 . "\n" : "From: \"" . "=?UTF-8?B?".base64_encode($var_381)."?=" . "\" <" . $var_383 . ">\n";
            $var_404 .= $var_386 ? "Reply-To: \"" . "=?UTF-8?B?".base64_encode($var_381)."?=" . "\" <" . $var_383 . ">\n" : '';
            $var_405="-f$var_383";
            $var_406 = (strpos($var_377, '@') || empty($var_377)) ? $var_378 : $var_377 . ' <' . $var_378. '>';
            if ($var_385) {
                $var_407 = '';
                
                $var_407.= "--$var_403\n";
                $var_407.= "Content-Type: text/plain; charset=\"charset=us-ascii\"\n";
                $var_407.= "Content-Transfer-Encoding: 7bit\n\n";
                $var_407.= $var_380;
                $var_407.= "\n\n";

                
                $var_407.= "--$var_403\n";
                $var_407.= "Content-Type: text/html; charset=\"UTF-8\"\n";
                $var_407.= "Content-Transfer-Encoding: 7bit\n\n";
                $var_407.= $var_385;
                $var_407.= "\n\n";

                
                $var_407.= "--$var_403--\n"; 
                $var_380 = $var_407;
            }
            var_64 var_397($var_406, '=?UTF-8?B?'.base64_encode($var_379).'?=', $var_380, $var_404, $var_405);
        }
    }

    
    
    
    
    static function var_408()
    {
        return ((isset($_SERVER['HTTPS']) &&
            ($_SERVER['HTTPS'] == 'on')) ||
        getenv('SSL_PROTOCOL_VERSION'));
    }

    
    var_87 public function var_409($var_410 = './', $var_411 = 0)
    {
        $var_223 = array();
        if (!file_exists($var_410)) var_64 false;
        $var_412 = @ opendir($var_410);
        if (!$var_412) var_64 false;

        while (($var_413 = readdir($var_412)) !== false) {
            if ( ($var_413 != '.') && ($var_413 != '..') && ($var_413 != '.svn') ) {$var_223[] = $var_413;}
        }
        if ($var_411 == 1) rsort($var_223, var_414);
        else sort($var_223, var_414);

        return $var_223;
    }

    
    
    var_335 static function var_415($var_317, $var_416=true) {
        if ( is_null($var_317) || ($var_317 == 0) ) {var_64 '';}
        var_62 (date('d/m/Y',strtotime('+0 day')) == date('d/m/Y',$var_317)) {
            $var_323 = $var_416 ? 'Today, '.date("h:ia",$var_317) : 'Today';
        } var_303 if (date("d/m/Y",strtotime("+1 day")) == date("d/m/Y",$var_317)) {
            $var_323 = $var_416 ? "Tomorrow, ".date("h:ia",$var_317) : 'Tomorrow';
        } var_303 if (date("d/m/Y",strtotime("-1 day")) == date("d/m/Y",$var_317)) {
            $var_323 = $var_416 ? "Yesterday, ".date("h:ia",$var_317) : 'Yesterday';
        } var_303 if (date("Y",strtotime("+0 day")) == date("Y",$var_317)) { 
            $var_323 = "".date("jS F",$var_317); 
        } var_303 {
            $var_323 = date("j M Y",$var_317);
        }
        var_64 $var_323;
        
    }

    
    var_335 static function var_417($var_235)
    {
        if (strpos(strtolower($var_235), 'jojo_') === 0) {
            $var_291 = explode(' ', ucwords(str_replace('_', ' ', $var_235)));
            array_shift($var_291);

            
            $var_161 =  'classes/Jojo/' . implode('/', $var_291) . '.php';
            $var_418 = Jojo::listThemes($var_161);
            foreach($var_418 as $var_40) {
                if (class_exists($var_235)) {
                    var_64;
                }
            }

            
            $var_418 = Jojo::listPlugins($var_161);
            foreach($var_418 as $var_40) {
                if (class_exists($var_235)) {
                    var_64;
                }
            }

            
            $var_161 = var_51 . '/jojo_core/' . $var_161;
            if (file_exists($var_161)) {
                if (class_exists($var_235)) {
                    var_64;
                }
            }
        }

        var_62 (strpos(strtolower($var_235), 'jojo_plugin_') === 0) {
            
            $var_161 = str_replace('jojo_plugin_', '',  strtolower($var_235)) . '.php';

            
            $var_418 = Jojo::listThemes($var_161);
            foreach($var_418 as $var_40) {
                if (class_exists($var_235)) {
                    var_64;
                }
            }

            
            $var_418 = Jojo::listPlugins($var_161);
            foreach($var_418 as $var_40) {
                if (class_exists($var_235)) {
                    var_64;
                }
            }
            var_64;
        }

        
        $var_161 = 'classes/'.str_replace('_', '/', $var_235).'.php';
        $var_418 = var_2::var_65($var_161);
        foreach($var_418 as $var_40) {
            if (class_exists($var_235)) {
                return;
            }
        }
        
        $var_418 = Jojo::listPlugins($var_161);
        foreach($var_418 as $var_40) {
            if (class_exists($var_235)) {
                var_64;
            }
        }

        $var_419 = array(
            'text_filter' => var_51 . '/jojo_core/external/Horde/Filter.php',
            'browser'     => var_51 . '/jojo_core/external/Horde/Browser.php',
            'string'      => var_51 . '/jojo_core/external/Horde/String.php',
            'util'        => var_51 . '/jojo_core/external/Horde/Util.php',
            'phpcaptcha'  => var_51 . '/jojo_core/external/php-captcha/php-captcha.inc.php',
            'htmlmimemail'=> var_51 . '/jojo_core/external/mimemail/htmlMimeMail.php',
            'hktree'      => var_51 . '/jojo_core/external/hktree/hktree.class.php',
            'bbconverter' => var_51 . '/jojo_core/external/bbconverter/bbconverter.class.php',
            );

        if (isset($var_419[strtolower($var_235)])) {
            if (class_exists($var_235)) {
                var_64;
            }
        }
    }

    
    public static function errorHandler($var_420, $var_421, $var_422 = null, $var_423 = null)
    {
        
        if (strpos($var_422, 'smarty')) {
            var_64;
        }

        var_62 (!defined('_DEBUG') || !var_0) {
            set_error_handler(array('Jojo', 'errorHandler'), var_1);
        }

        var_62 (!var_0) {
            
            $var_380 = "Error No: $var_420\nDescription: $var_421\nFile: $var_422\nLine: $var_423\n";

            
            if (!class_exists('Jojo_Eventlog')) require_once(var_390.'/plugins/jojo_core/classes/Jojo/Eventlog.php');
            $var_88 = new class_0();
            $var_88->var_89 = 'PHP Error';
            $var_88->var_90 = 'high';
            $var_88->var_92 = !empty($var_422) ? $var_422.' "'.$var_421.'" line '.$var_423 : $var_421;
            $var_88->var_93 = $var_380;
            $var_88->savetodb();
            unset($var_88);
        }

        
        var_64 !var_0;
    }

    
    var_335 static function var_424()
    {
        
        if(!isset($_SERVER['HTTP_USER_AGENT'])){
             die("Forbidden - You are not authorized to view this page");
             var_388;
        }

        
        var_62(!$_SERVER['REQUEST_METHOD'] == "POST"){
             die("Forbidden - You are not authorized to view this page");
             var_388;
        }

        

        
        $var_387 = array("Content-Type:",
                             "MIME-Version:",
                             "Content-Transfer-Encoding:",
                             "X-Mailer",
                             "bcc:",
                             "cc:",
                             "%0A");

        
        foreach($_POST as $var_116 => $v3){
        
            foreach((array)$v3 as $var_117) {
                foreach($var_387 as $var_425){
                    if(strpos($var_117, $var_425) !== false){
                        header('location: http:
                        exit;
                    }
                }
            }
        }

        
        unset($k, $v, $v2, $v3, $badStrings, $authHosts, $fromArray, $wwwUsed);
    }

    public static function getFormData($var, $default = null)
    {
        return Util::getFormData($var, $default);
    }

    public static function getGet($var, $default = null)
    {
        return Util::getGet($var, $default);
    }

    public static function getPost($var, $default = null)
    {
        return Util::getPost($var, $default);
    }

    public static function bb2Html($bbcode, $options=array())
    {
        $bb = new bbconverter;
        $bb->setBbCode($bbcode);
        if (isset($options['var_426']) && $var_229['nofollow']) $bb->var_426 = true;
        $var_370 = $bb->convert('bbcode2html');
        return $var_370;
    }

    var_335 static function var_427($var_428)
    {
        var_64 Markdown($var_428);
    }

    
    var_335 static function var_429($var_430, $var_431 = true) {
        var_64 bbConverter::obfuscateEmail($var_430, $var_431);
    }

    var_335 static function var_432()
    {
        static $var_433;

        
        if (isset($var_433) || in_array('ob_gzhandler', ob_list_handlers())) {
            
            var_64 false;
        }

        $var_434 = false; 
        $var_435 = isset($_SERVER['HTTP_ACCEPT_ENCODING']) ? $_SERVER['HTTP_ACCEPT_ENCODING'] : (isset($_SERVER['HTTP_TE']) ? $_SERVER['HTTP_TE'] : '');
        $var_436    = !(strpos($var_435, 'gzip')    === false) && function_exists('gzencode');
        $var_437 = !(strpos($var_435, 'deflate') === false) && function_exists('gzdeflate');
        $var_437 = ($var_436 && $var_437) ? $var_434 : $var_437;

        if ($var_437) {
            function var_438($var_439) {
                $var_439 = gzdeflate($var_439, 9);
                header('Content-Encoding: deflate');
                header('Content-Length: ' . strlen($var_439));
                return $var_439;
            }
            ob_start('compress_output_deflate');
            $var_433 = true;
            return true;
        } elseif ($var_436) {
            function compress_output_gzip($var_439) {
                $var_439 = gzencode($var_439);
                header('Content-Encoding: gzip');
                header('Content-Length: ' . strlen($var_439));
                return $var_439;
            }
            ob_start('compress_output_gzip');
            $var_433 = true;
            return true;
        } var_303 {
            ob_start();
        }
        var_64 false;
    }

    var_87 function var_440($var_310=8)
    {
        $var_441='bcdgklmnprstvwz';
        $var_442='aeiou';
        $var_443 = '1234567890';

        
        $var_444 = array();
        $var_294 = 0;
        while ($var_294 < $var_310) {
            mt_srand((double)microtime() * 1000000);
            $var_444[$var_294++] = substr($var_441, mt_rand(0, strlen($var_441)-1), 1);
            $var_444[$var_294++] = substr($var_442, mt_rand(0, strlen($var_442)-1), 1);
            if (mt_rand(0, 10) > 6) {
                $var_444[$var_294++] = substr($var_443, mt_rand(0, strlen($var_443)-1), 1);
            }
        }

        
        $var_445 = '';
        for ($var_294 = 0; $var_294 < $var_310; $var_294++) {
            $var_445 .= $var_444[$var_294];
        }

        var_64 $var_445;
    }

    var_446 var_447($var_448, $var_107)
    {
        $var_448 = strtolower($var_448);
        $var_107 = strtolower($var_107);
        
        $var_449 = array();
        $var_449[] = $var_448; 
        $var_449[] = $var_448.$var_107; 
        $var_449[] = $var_448.$var_107[0]; 
        $var_449[] = $var_448[0].$var_107; 
        $var_449[] = $var_448.'.'.$var_107[0]; 
        $var_449[] = $var_448[0].'.'.$var_107; 
        $var_449[] = $var_448.'.'.$var_107; 

        foreach ($var_449 as $var_450) {
            $var_394 = Jojo::fn_7("SELECT userid FROM {user} WHERE us_login=? AND us_login !=''", $var_450);
            if (empty($var_394['userid'])) {
                var_64 $var_450;
            }
        }
        
        for ($var_294=1; $var_294<100; $var_294++) { 
            foreach ($var_449 as $var_450) {
                $var_394 = Jojo::fn_7("SELECT userid FROM {user} WHERE us_login=?", $var_450.$var_294);
                if (empty($var_394['userid'])) {
                    var_64 $var_450.$var_294;
                }
            }
        }
        var_64 false;
    }

    
    var_87 function var_451()
    {
        
        
        
        static $var_276;

        if (!is_array($var_276)) {
            $var_276 = array(
                            'roots' => array(),
                            'homes' => array(),
                            'longcodes' => array(),
                            'languagelist' => array()
                            );
            
            $var_16 = Jojo::selectAssoc("SELECT lc_root as pageid, lc_code as languageid, lc_root as root, lc_home as home, lc_longcode as longcode, lc_name as name, lc_defaultlang, lc.* FROM {lang_country} lc WHERE active=1 ORDER BY displayorder");
            $var_225 = !isset($var_16[0]['default']) ? Jojo::fn_24('multilanguage-default') : '';
            foreach ($var_16 as $var_116=>$var_287) {
                $var_276['roots'][$var_287['languageid']] = $var_287['root'];
                $var_276['homes'][$var_287['languageid']] = $var_287['home'];
                $var_276['longcodes'][$var_287['languageid']] = (!empty($var_287['longcode'])) ? $var_287['longcode'] : $var_287['languageid'];
                $var_276['names'][$var_287['languageid']] = !empty($var_287['name']) ? $var_287['name'] : $var_287['longcode'];
                $var_276['languages'][$var_287['languageid']] = !empty($var_287['lc_defaultlang']) ? $var_287['lc_defaultlang'] : 'en';
                if (isset($var_287['default']) && $var_287['default']) $var_225 = $var_287['languageid'];
                if ($var_287['active']){
                    $var_16[$var_116]['url'] = $var_287['languageid']!=$var_225 ? $var_287['languageid'] . '/' : '';
                } var_303 {
                    unset($var_16[$var_116]);
                }
            }
            $var_276['default'] = $var_225;
            $var_276['sectiondata'] = $var_16;
        }
        var_64 $var_276;
    }

    var_87 function var_452($var_289) {
        $var_453 = '';
        $var_225=true;
        $var_454 = Jojo::getSectionRoot($var_289);
        $var_276 = self::getMultiLanguageData();
        if (!isset($var_276['sectiondata'][$var_454])) var_64 '';
        $var_453 = !$var_276['sectiondata'][$var_454]['default'] ? $var_276['sectiondata'][$var_454]['lc_code'] . '/' : '';
        return $var_453;
    }

    var_87 function var_455($var_289) {
        $var_456 = Jojo::getSelectedPages($var_289);
        $var_454 = $var_456 ? $var_456[0] : 0;
        return $var_454;
    }

    var_87 function var_457($var_289, $var_458=0) {
        $var_454 = Jojo::getSectionRoot($var_289);
        if ($var_454==$var_458) var_64 true;
        return false;
    }

    var_87 function var_459 ($var_460, $var_461 = false, $var_462 = '') {
        $var_463 = Jojo::fn_24('multilanguage-default');
        if (!$var_461) {
            $var_464 = ($var_463==$var_460) ? $var_462 : $var_460 . '/';
        } var_303 {
            
            $var_276 = Jojo::getMultiLanguageData();
            $var_464 = ($var_463==$var_460) ? $var_462 : $var_276['longcodes'][$var_460] . '/';
        }
        var_64 $var_464;
    }

    var_87 function var_465() {
        global $var_300, $var_466;
        $var_467 = array();
        
        if ($var_300->var_300['pg_htmllang']) {
            $var_468 = $var_300->var_300['pg_htmllang'];
        
        } var_303 if ($var_466) {
            $var_468 = $var_466['lc_defaultlang'];
        } var_303 {
            $var_468 = 'en';
        }
        $var_467 = Jojo::fn_7("SELECT * FROM {language} WHERE languageid = ?", array($var_468));
        $var_467['longlanguage']  = ($var_467 && $var_467['name']) ? $var_467['name'] : $var_468;
        $var_467['charset'] = ($var_467['charset']) ? $var_467['charset'] : 'utf-8';
        $var_467['ISOcode'] = isset($var_467['ISOcode']) ? $var_467['ISOcode'] : 'en_GB';
        $var_467['direction'] = ($var_467['direction']) ? $var_467['direction'] : 'ltr';
        return $var_467;
    }

    var_87 function var_469($var_286, $var_470, $var_172 = 'mainnav')
    {
        global $var_10, $var_471;

        
            global $var_300;
            $var_276 = Jojo::getMultiLanguageData();
            $var_472 = isset($var_276['sectiondata'][$var_286]) ? $var_276['sectiondata'][$var_286]['home'] : 1;
            $var_473 = array_keys($var_276['sectiondata']);
            $var_474 = (boolean)(count($var_473)>1);

        
        static $var_475;
        if (!isset($var_475[$var_172])) {
            $var_476    = time();
            
            
            if ($var_172 == 'mainnav' && $var_474 && Jojo::fn_11 ( 'page', 'pg_mainnavalways' )) {
                $var_83 = sprintf("SELECT * FROM {page}
                             WHERE (pg_%s = 'yes' or pg_mainnavalways = 'yes')
                             ORDER BY pg_order", $var_172);
            } var_303 {
                $var_83 = sprintf("SELECT * FROM {page}
                             WHERE pg_%s = 'yes'
                             ORDER BY pg_order", $var_172);
            }
            $var_475[$var_172] = array();
            $var_31 = Jojo::fn_6($var_83);
            
            $var_31 = Jojo_Plugin_Core::cleanItems($var_31, 'nav');
            foreach ($var_31 as $var_116 => $var_173) {
                $var_287 = $var_173['pg_parent'];
                if (!isset($var_475[$var_172][$var_287])) {
                    $var_475[$var_172][$var_287] = array();
                }
                $var_475[$var_172][$var_287][] = $var_173;
                if ($var_172=='mainnav' && $var_474 && isset($var_173['pg_mainnavalways']) && $var_173['pg_mainnavalways']=='yes' && $var_287!=$var_286 && (in_array($var_287, $var_276['roots']) || $var_287==1)) {
                    $var_475[$var_172][$var_286][] = $var_173;
                }
            }
        }
        $var_346 = isset($var_475[$var_172][$var_286]) ? $var_475[$var_172][$var_286] : array();

        foreach ($var_346 as $var_188 => &$var_218) {
            
            $var_218['var_194'] = ($var_218['var_477'] == 'yes' ? var_180 : var_181 ) . '/' . Jojo::getPageUrlPrefix($var_218['pageid']);
            if ($var_218['var_289'] != $var_472 && !in_array($var_218['pageid'], $var_473)) {
                
                $var_218['var_194'] .= ($var_218['var_299'] ? $var_218['pg_url'] : $var_218['pageid'] . '/' . Jojo::fn_20($var_218['pg_title'])) . '/';
            }
            
            $var_218['title'] = htmlspecialchars(($var_218['pg_desc'] ? $var_218['pg_desc'] : ($var_218['pg_seotitle'] ? $var_218['pg_seotitle'] : $var_218['pg_title'])), var_478, 'UTF-8', false);
            $var_218['var_479'] = var_480(($var_218['var_481'] ? $var_218['pg_menutitle'] : $var_218['pg_title']), var_478, 'var_482-8', false);
            
            $var_218['var_483'] = (boolean)($var_471 && in_array($var_218['pageid'], $var_471));
            if ($var_470) {
                
                $var_218['var_484'] = var_2::var_469($var_218['var_289'], $var_470 - 1, $var_172);
                $var_53 = $var_218['var_302'];
                 if ($var_53 && class_exists($var_53) && method_exists($var_53, 'getNavItems')) {
                    $var_485 = var_486($var_53 . '::getNavItems', $var_218['pageid'], $var_218['selected']);
                    $var_218['var_484'] = array_merge($var_485, $var_218['var_484']);
                }
            }
        }
        return $var_346;
    }

    
    static function var_487($var_289, $var_286=0) {
        if (!$var_289) {
            var_64 var_488();
        }
        $var_276 = Jojo::getMultiLanguageData();

        
        static $var_489;
        if (!is_array($var_489)) {
           $var_83 = "SELECT pageid, pg_parent
                       FROM {page}";
           $var_489 = Jojo::selectAssoc($var_83);
        }

        
        $var_471 = array($var_289);
        $var_490 = 0;

        while ( !in_array($var_471[0], $var_276['roots']) && ($var_471[0] != 0) && ($var_490 < 10)) {
           
           if (!isset($var_489[$var_471[0]])) {
               var_64 $var_471;
           }
           $var_491 = $var_489[$var_471[0]];

           
           array_unshift($var_471, $var_491);
           $var_490 ++;
        }
        var_64 $var_471;
    }

    
    var_87 function var_492($var_493=false)
    {
        static $var_494;
        if ($var_493) {
            $var_494 = true;
        } elseif (!isset($var_494)) {
            $var_494 = false;
        }
        var_64 $var_494;
    }

    var_87 function var_495($var_496, $var_497)
    {
        $var_498 = $var_497['pagetitle'];
        $var_499 = $var_497['pageurl'];
        $var_500 = $var_497['title'];
        $var_501 = isset($var_497['author']) ?  $var_497['author'] : '';
        $var_502 = $var_497['body'];
        $var_503 = $var_497['url'];
        $var_504 = $var_497['date'];
        $var_505 = $var_497['datetype']; 
        $var_506 = isset($var_497['category']) ?  $var_497['category'] : '';
        $var_229 = isset($var_497['options']) ? $var_497['options'] : array();
        $var_507 =  $var_229 ? $var_229['snip'] : (Jojo::fn_24('rss_full_description') == 'yes' ? 'full' : Jojo::fn_24('rss_truncate', 800)); 
        $var_508 =  isset($var_497['image']) && $var_229['imagesize'] ? $var_497['image'] : '';
        $var_509 = (boolean)(Jojo::fn_24('rss_source_link') == 'yes'); 
        $var_510 = mb_convert_encoding(var_511, 'HTML-ENTITIES', 'UTF-8');
        $var_498 = mb_convert_encoding($var_498, 'HTML-ENTITIES', 'UTF-8');
        $var_512 = mb_convert_encoding(Jojo::fn_24('rss_sitedesc', Jojo::fn_24('sitetitle')), 'HTML-ENTITIES', 'UTF-8');
        $var_513  = '<?xml version="1.0" ?>' . "\n";
        $var_513 .= '<rss version="2.0">' . "\n";
        $var_513 .= "<channel>\n";
        $var_513 .= '<title>' . $var_510 . ': ' . $var_498 . "</title>\n";
        $var_513 .= '<description>' . $var_512 . "</description>\n";
        $var_513 .= "<link>" . $var_499 . "</link>\n";
        $var_513 .= "<copyright>" . htmlentities(var_511) . " " . date('Y', strtotime('now')) . "</copyright>\n";

        foreach ($var_496 as &$var_294) {
            $var_294['body'] = Jojo::relative2absolute($var_294[$var_502], var_181);
            
            if ($var_507 =='full') {
                $var_294['body'] = str_ireplace('[[snip]]','',$var_294['body']);
            } var_303 {
                $var_514 = Jojo::iExplode('[[snip]]', $var_294['body']);
                if (count($var_514) === 1 && is_numeric($var_507)) {
                    $var_294['body'] = substr($var_515=wordwrap($var_294['body'], $var_507, '$$'), 0, strpos($var_515,'$$')) . ' ...';
                } var_303 {
                    $var_294['body'] = $var_514[0];
                }
                $var_294['body'] = preg_replace('/\[\[.*?\]\]/', '',  $var_294['body']);
            }
            $var_516 = var_181 . "/" . $var_294['url'];
            $var_294['body'] = mb_convert_encoding($var_294['body'], 'HTML-ENTITIES', 'UTF-8');
            $var_294['title'] = mb_convert_encoding($var_294[$var_500], 'HTML-ENTITIES', 'UTF-8');
            $var_294['author'] = $var_501 ? mb_convert_encoding($var_294[$var_501], 'HTML-ENTITIES', 'UTF-8') : '';
            $var_294['date'] = $var_505=='mysql' ? Jojo::mysql2date($var_294[$var_504], 'rss') :  Jojo::formatTimestamp($var_294[$var_504], 'rss');
            $var_294['category'] = $var_506 ? mb_convert_encoding($var_294[$var_506], 'HTML-ENTITIES', 'UTF-8') : '';
            if ($var_508) {
                $var_294['imageurl'] = isset($var_294['image']) && $var_294['image'] ?  var_181 . "/images/" . ( isset($var_229['imagesize']) ? $var_229['imagesize'] : 'default') . "/" . $var_294['image'] : '';
                $var_294['imagedata'] = $var_294['imageurl'] ?  getimagesize(var_517 . '/' . urldecode($var_294['image'])) : '';
                $var_294['imagedata']['size'] = $var_294['imagedata'] ?  filesize(var_517 . '/' . urldecode($var_294['image'])) : '';
            }
            var_62 ($var_509) $var_294['body'] .= '<p>Source: <a href="' . $var_516 . '">' . $var_294['title'] . '</a></p>';
            $var_513 .= "<item>\n";
            $var_513 .= "<title>" . Jojo::xmlEscape($var_294['title']) . "</title>\n";
            $var_513 .= "<description>" . Jojo::xmlEscape($var_294['body']) . "</description>\n";
            $var_513 .= $var_294['author'] ? "<author>" . Jojo::xmlEscape($var_294['author']) . "</author>\n" : '';
            $var_513 .= $var_294['category'] ? "<category>" . Jojo::xmlEscape($var_294['category']) . "</category>\n" : '';
            if ($var_508) {
                $var_513 .= $var_294['imageurl'] && $var_294['imagedata'] ? '<enclosure url="' . $var_294['imageurl'] . '" length="' . $var_294['imagedata']['size'] . '" type="' . ( isset($var_294['imagedata']['mime']) ? $var_294['imagedata']['mime'] : 'image/jpeg' ) . '" />' . "\n" : '';
            }
            $var_513 .= "<link>". $var_516 . "</link>\n";
            $var_513 .= '<source url="'. $var_499 . '">' . $var_498 . "</source>\n";
            $var_513 .= "<pubDate>" . $var_294['date'] . "</pubDate>\n";
            $var_513 .= "</item>\n";
        }
        $var_513 .= "</channel>\n";
        $var_513 .= "</var_513>\var_218";

        header('Content-type: application/rss+xml');
        
        exit;
    }

    static function xmlEscape($var_52, $var_518=false) {
        $var_519  = preg_replace_callback('/&([a-zA-Z][a-zA-Z0-9]+);/', 'Jojo::convertEntity4XML', $var_52);
        $var_519 = !$var_518 ?  str_replace('<', '&lt;', str_replace('>', '&gt;', str_replace('"', '&quot;', str_replace('&', '&amp;', $var_519)))) : str_replace('&amp;
        return $var_519;

    }

    
    static function convertEntity4XML($var_186) {
      static $var_130 = array('quot'    => '&
                            'amp'      => '&
                            'lt'       => '&
                            'gt'       => '&
                            'OElig'    => '&
                            'oelig'    => '&
                            'Scaron'   => '&
                            'scaron'   => '&
                            'Yuml'     => '&
                            'circ'     => '&
                            'tilde'    => '&
                            'ensp'     => '&
                            'emsp'     => '&
                            'thinsp'   => '&
                            'zwnj'     => '&
                            'zwj'      => '&
                            'lrm'      => '&
                            'rlm'      => '&
                            'ndash'    => '&
                            'mdash'    => '&
                            'lsquo'    => '&
                            'rsquo'    => '&
                            'sbquo'    => '&
                            'ldquo'    => '&
                            'rdquo'    => '&
                            'bdquo'    => '&
                            'dagger'   => '&
                            'Dagger'   => '&
                            'permil'   => '&
                            'lsaquo'   => '&
                            'rsaquo'   => '&
                            'euro'     => '&
                            'fnof'     => '&
                            'Alpha'    => '&
                            'Beta'     => '&
                            'Gamma'    => '&
                            'Delta'    => '&
                            'Epsilon'  => '&
                            'Zeta'     => '&
                            'Eta'      => '&
                            'Theta'    => '&
                            'Iota'     => '&
                            'Kappa'    => '&
                            'Lambda'   => '&
                            'Mu'       => '&
                            'Nu'       => '&
                            'Xi'       => '&
                            'Omicron'  => '&
                            'Pi'       => '&
                            'Rho'      => '&
                            'Sigma'    => '&
                            'Tau'      => '&
                            'Upsilon'  => '&
                            'Phi'      => '&
                            'Chi'      => '&
                            'Psi'      => '&
                            'Omega'    => '&
                            'alpha'    => '&
                            'beta'     => '&
                            'gamma'    => '&
                            'delta'    => '&
                            'epsilon'  => '&
                            'zeta'     => '&
                            'eta'      => '&
                            'theta'    => '&
                            'iota'     => '&
                            'kappa'    => '&
                            'lambda'   => '&
                            'mu'       => '&
                            'nu'       => '&
                            'xi'       => '&
                            'omicron'  => '&
                            'pi'       => '&
                            'rho'      => '&
                            'sigmaf'   => '&
                            'sigma'    => '&
                            'tau'      => '&
                            'upsilon'  => '&
                            'phi'      => '&
                            'chi'      => '&
                            'psi'      => '&
                            'omega'    => '&
                            'thetasym' => '&
                            'upsih'    => '&
                            'piv'      => '&
                            'bull'     => '&
                            'hellip'   => '&
                            'prime'    => '&
                            'Prime'    => '&
                            'oline'    => '&
                            'frasl'    => '&
                            'weierp'   => '&
                            'image'    => '&
                            'real'     => '&
                            'trade'    => '&
                            'alefsym'  => '&
                            'larr'     => '&
                            'uarr'     => '&
                            'rarr'     => '&
                            'darr'     => '&
                            'harr'     => '&
                            'crarr'    => '&
                            'lArr'     => '&
                            'uArr'     => '&
                            'rArr'     => '&
                            'dArr'     => '&
                            'hArr'     => '&
                            'forall'   => '&
                            'part'     => '&
                            'exist'    => '&
                            'empty'    => '&
                            'nabla'    => '&
                            'isin'     => '&
                            'notin'    => '&
                            'ni'       => '&
                            'prod'     => '&
                            'sum'      => '&
                            'minus'    => '&
                            'lowast'   => '&
                            'radic'    => '&
                            'prop'     => '&
                            'infin'    => '&
                            'ang'      => '&
                            'and'      => '&
                            'or'       => '&
                            'cap'      => '&
                            'cup'      => '&
                            'int'      => '&
                            'there4'   => '&
                            'sim'      => '&
                            'cong'     => '&
                            'asymp'    => '&
                            'ne'       => '&
                            'equiv'    => '&
                            'le'       => '&
                            'ge'       => '&
                            'sub'      => '&
                            'sup'      => '&
                            'nsub'     => '&
                            'sube'     => '&
                            'supe'     => '&
                            'oplus'    => '&
                            'otimes'   => '&
                            'perp'     => '&
                            'sdot'     => '&
                            'lceil'    => '&
                            'rceil'    => '&
                            'lfloor'   => '&
                            'rfloor'   => '&
                            'lang'     => '&
                            'rang'     => '&
                            'loz'      => '&
                            'spades'   => '&
                            'clubs'    => '&
                            'hearts'   => '&
                            'diams'    => '&
                            'nbsp'     => '&
                            'iexcl'    => '&
                            'cent'     => '&
                            'pound'    => '&
                            'curren'   => '&
                            'yen'      => '&
                            'brvbar'   => '&
                            'sect'     => '&
                            'uml'      => '&
                            'copy'     => '&
                            'ordf'     => '&
                            'laquo'    => '&
                            'not'      => '&
                            'shy'      => '&
                            'reg'      => '&
                            'macr'     => '&
                            'deg'      => '&
                            'plusmn'   => '&
                            'sup2'     => '&
                            'sup3'     => '&
                            'acute'    => '&
                            'micro'    => '&
                            'para'     => '&
                            'middot'   => '&
                            'cedil'    => '&
                            'sup1'     => '&
                            'ordm'     => '&
                            'raquo'    => '&
                            'frac14'   => '&
                            'frac12'   => '&
                            'frac34'   => '&
                            'iquest'   => '&
                            'Agrave'   => '&
                            'Aacute'   => '&
                            'Acirc'    => '&
                            'Atilde'   => '&
                            'Auml'     => '&
                            'Aring'    => '&
                            'AElig'    => '&
                            'Ccedil'   => '&
                            'Egrave'   => '&
                            'Eacute'   => '&
                            'Ecirc'    => '&
                            'Euml'     => '&
                            'Igrave'   => '&
                            'Iacute'   => '&
                            'Icirc'    => '&
                            'Iuml'     => '&
                            'ETH'      => '&
                            'Ntilde'   => '&
                            'Ograve'   => '&
                            'Oacute'   => '&
                            'Ocirc'    => '&
                            'Otilde'   => '&
                            'Ouml'     => '&
                            'times'    => '&
                            'Oslash'   => '&
                            'Ugrave'   => '&
                            'Uacute'   => '&
                            'Ucirc'    => '&
                            'Uuml'     => '&
                            'Yacute'   => '&
                            'THORN'    => '&
                            'szlig'    => '&
                            'agrave'   => '&
                            'aacute'   => '&
                            'acirc'    => '&
                            'atilde'   => '&
                            'auml'     => '&
                            'aring'    => '&
                            'aelig'    => '&
                            'ccedil'   => '&
                            'egrave'   => '&
                            'eacute'   => '&
                            'ecirc'    => '&
                            'euml'     => '&
                            'igrave'   => '&
                            'iacute'   => '&
                            'icirc'    => '&
                            'iuml'     => '&
                            'eth'      => '&
                            'ntilde'   => '&
                            'ograve'   => '&
                            'oacute'   => '&
                            'ocirc'    => '&
                            'otilde'   => '&
                            'ouml'     => '&
                            'divide'   => '&
                            'oslash'   => '&
                            'ugrave'   => '&
                            'uacute'   => '&
                            'ucirc'    => '&
                            'uuml'     => '&
                            'yacute'   => '&
                            'thorn'    => '&
                            'yuml'     => '&

                            );
      
      return isset($var_130[$var_186[1]]) ? $var_130[$var_186[1]] : '';
    }

    static function inlineStyle($var_370, $var_215=array()) {
        foreach ($var_215 as $var_520) {
            $var_370 = str_replace('<' . $var_520['var_233'], '<' . $var_520['var_233'] . ' style="' . $var_520['style'] . '"', $var_370);
        }
        var_64 $var_370;
    }

    
    static function var_521($var_522)
    {
        $var_523 = ($var_522) ? '1' : '0';
        setcookie("jojo_mobile", $var_523, time() + 31536000, '/' . var_272);
        $_SESSION['jojo_mobile'] = $var_522; 
        self::isMobile(true); 
        return true;
    }

    
    var_87 function var_524($var_525 = false)
    {
        
        static $var_522;
        if (isset($var_522) && !$var_525) var_64 $var_522;

        
        $var_526 = Jojo::fn_24('mobile_site', 'no');
        if (($var_526 == 'no')) {
            $var_522 = false;
            return $var_522;
        }

        
        if (isset($_SESSION['jojo_mobile'])) {
            $var_522 = $_SESSION['jojo_mobile'];
            return $var_522;
        }

        
        if (isset($_COOKIE['jojo_mobile'])) {
            $var_522 = ($_COOKIE['jojo_mobile'] == '1') ? true : false;
            $_SESSION['jojo_mobile'] = $var_522;
            return $var_522;
        }

        
        $var_527 = (isset($_SERVER['HTTP_USER_AGENT'])) ? $_SERVER['HTTP_USER_AGENT'] : '';

        
        if(strstr($var_527,'ipad') !== false) {
            $var_522 = false;
            return $var_522;
        }

        
        /* var_528: var_273:
        $var_522 = (preg_match('/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i',$var_527)||preg_match('/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i',substr($var_527,0,4)));
        return $var_522;
    }
}
