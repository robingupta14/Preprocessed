<?php


















abstract class var_0 {
    protected $var_1 = ''; 
    public $var_2 = ''; 
    public $var_3 = null; 


    public $var_4 = ''; 
    public $var_5 = ''; 

    public $var_6 = array(); 
    public $var_7 = array(); 

    
    protected $var_8 = array(  
        'manage'    => 'Manage',
        'configure' => 'Configure',
        'create'    => 'Create',
        'edit'      => 'Edit',
        'delete'    => 'Delete',
    );
    protected $var_9 = array(  
        'activate'  => 'Activate',
        'approve'   => 'Approve',
        'merge'     => 'Merge',
        'rerank'    => 'ReRank',
        'import'    => 'Import Items',
        'export'    => 'Export Items'
    );
    protected $var_10 = array();  
    protected $var_11 = array();  
    protected $var_12 = array();  
    public $var_13 = array();  

    public $var_14 = ''; 
    public $var_15 = ''; 
    public $var_16 = ''; 
    public $var_17 = ''; 

    public $var_18 = array(); 
    public $var_19 = array(); 
    public $var_20 = null; 

    public $var_21 = 'stable'; 

    public $var_22 = false;

    
    public function fn_1($var_23 = null, $var_19 = array()) {
        
        $var_24->var_3 = new class_0($var_24);
        $var_24->var_1 = $var_24->var_3->getName();
        $var_24->var_2 = substr($var_24->var_3->getName(), 0, -10);
        $var_24->var_14 = __realpath($var_24->var_3->getFileName());

        
        $var_27 = explode('/', $var_24->var_14);


        
        array_pop($var_27); 
        $var_27[count($var_27) - 1] = 'views';
        array_push($var_27, $var_24->var_2);
        $var_24->var_16 = implode('/', array_slice($var_27, -3, 3));

        
        $var_28 = array_search('core', $var_27);
        if ($var_28) {
            $var_24->var_15 = var_29 . 'framework/modules/' . $var_24->var_16;
        } else {
            $var_24->var_15 = implode('/', $var_27);
        }

        
        array_pop($var_27);
        $var_27[count($var_27) - 1] = 'assets';

        $var_28 = array_search('framework', $var_27);  
        if (!$var_28) $var_28 = array_search('themes', $var_27);
        $var_24->var_17 = var_30 . implode('/', array_slice($var_27, $var_28)) . "/";

        
        if (empty($var_24->var_4)) $var_24->var_4 = get_model_for_controller($var_24->var_1);
        $var_31 = $var_24->var_4;
        if (class_exists($var_31)) {
            $var_24->$var_31 = new $var_31(null, false, false);
            $var_24->var_5 = $var_24->$var_31->var_32;
        } else {
            $var_24->var_4 = 'expRecord';
            $var_24->$var_31 = new class_1(null, false, false);
            $var_24->var_5 = null;
        }

        
        $var_24->var_20 = expCore::makeLocation($var_24->var_2, $var_23, null);

        
        if (var_33 && $var_24->$var_31->var_34) {
            $var_35 = 99;
            if (expSession::exists("uilevel")) $var_35 = expSession::get("uilevel");
            if (!expPermissions::check('approve', $var_24->var_20)) {
                $var_24->$var_31->var_36 = true;
            } elseif ($var_35 == var_37 && isset($var_35)) {
                $var_24->$var_31->var_36 = true;  
            }
        }

        
        $var_18 = new class_2($var_24->var_20);
        $var_24->var_18 = $var_18->var_18;

        $var_24->var_19 = $var_19;
        if (var_33)
            $var_24->var_8 = array_merge($var_24->var_8, array('approve'=>'Approval'));
    }

    
    public function fn_2() {
        return static::fn_3();
    }

    
    public static function fn_3() {
        return gt("Exponent Base Controller");
    }

    
    public static function fn_4() {
        return gt("This is the base controller which most Exponent modules inherit their methods from.");
    }

    
    public static function fn_5() {
        return "OIC Group, Inc";
    }

    
    public static function fn_6() {
        return true;
    }

      
    public static function fn_7() {
        return true;
    }

      
    public static function fn_8() {
        return true;
    }

    
    public static function fn_9() {
        return false;
    }

    
    public static function fn_10() {
        return false;
    }

    
    public static function fn_11() {
        return false;
    }

    
    public static function fn_12() {
        return false;
    }

      
    public static function fn_13() {
        return false;
    }

    
    public function fn_14() {
        assign_to_template(array(
            'asset_path' => $var_24->var_17,
            'model_name' => $var_24->var_4,
            'table'      => $var_24->var_5,
            'controller' => $var_24->var_2,
            'config'     => $var_24->var_18
        ));
    }

    
    public function fn_15() {
        expHistory::set('viewable', $var_24->var_19);

        $var_42 = new class_3(array(
            'model'      => $var_24->var_4,
            'where'      => static::fn_6() ? $var_24->fn_16() : null,
            'limit'      => (isset($var_24->var_19['limit']) && $var_24->var_19['limit'] != '') ? $var_24->var_19['limit'] : 10,
            'order'      => isset($var_24->var_19['order']) ? $var_24->var_19['order'] : null,
            'page'       => (isset($var_24->var_19['page']) ? $var_24->var_19['page'] : 1),
            'controller' => $var_24->var_2,
            'action'     => $var_24->var_19['action'],
            'src'        => static::fn_6() == true ? $var_24->var_20->var_23 : null,
            'columns'    => array(
                gt('ID
                gt('var_44') => 'title',
                gt('Body')  => 'body'
            ),
        ));

        assign_to_template(array(
            'page'  => $var_42,
            'items' => $var_42->var_45
        ));
    }

    
    public function fn_17() {
        global $var_46;

         
        expHistory::set('viewable', $var_24->var_19);
        $var_31 = $var_24->var_4;

        
        $var_47 = new class_4(expString::escape($var_24->var_19['tag']));

        
        $var_49 = $var_46->selectColumn($var_31, 'id', $var_24->fn_16());

        
        $var_51 = $var_47->findWhereAttachedTo($var_31);

        
        $var_53 = array();
        foreach ($var_51 as $var_54) {
            if (in_array($var_54->var_55, $var_49)) $var_53[] = $var_54;
        }

        
        $var_56 = 'created_at DESC';
        $var_42 = new class_3(array(
            'records'    => $var_53,
            'limit'      => (isset($var_24->var_18['limit']) && $var_24->var_18['limit'] != '') ? $var_24->var_18['limit'] : 10,
            'order'      => $var_56,
            'page'       => (isset($var_24->var_19['page']) ? $var_24->var_19['page'] : 1),
            'controller' => $var_24->var_2,
            'action'     => $var_24->var_19['action'],
            'src'=>$var_24->var_20->var_23,
            'columns'    => array(
                gt('Title') => 'title'
            ),
        ));

        $var_42->var_45 = expSorter::sort(array('array' => $var_42->var_45, 'sortby' => 'created_at', 'order' => 'DESC', 'ignore_case' => true));

        assign_to_template(array(
            'page'        => $var_42,
            'items'       => $var_42->var_45,
            'moduletitle' => ucfirst($var_31) . ' ' . gt('items tagged with') . ' "' . expString::escape($var_24->var_19['tag']) . '"',
            'rank'        => ($var_56 === 'rank') ? 1 : 0
        ));
    }

    
    public function fn_18() {
        expHistory::set('viewable', $var_24->var_19);
        $var_31 = $var_24->var_4;

        $var_51 = $var_24->$var_31->find('all', $var_24->fn_16());
        $var_59 = array();
        foreach ($var_51 as $var_54) {
            foreach ($var_54->var_48 as $var_47) {
                if (isset($var_59[$var_47->var_55])) {
                    $var_59[$var_47->var_55]->var_60++;
                } else {
                    $var_61 = new class_4($var_47->var_55);
                    $var_59[$var_47->var_55] = $var_61;
                    $var_59[$var_47->var_55]->var_60 = 1;
                }
            }
        }





        $var_59 = expSorter::sort(array('array' => $var_59, 'order' => 'count DESC', 'type' => 'a'));
        if (!empty($var_24->var_18['limit'])) $var_59 = array_slice($var_59, 0, $var_24->var_18['limit']);
        $var_56 = isset($var_24->var_18['order']) ? $var_24->var_18['order'] : 'title ASC';
        if ($var_56 != 'hits') {
            $var_59 = expSorter::sort(array('array' => $var_59, 'order' => $var_56, 'ignore_case' => true, 'rank' => ($var_56 === 'rank') ? 1 : 0));
        }

        assign_to_template(array(
            'tags' => $var_59
        ));
    }

    
    public function fn_19() {
        expHistory::set('viewable', $var_24->var_19);
        $var_31 = $var_24->var_4;

        $var_51 = $var_24->$var_31->find('all', $var_24->fn_16());
        $var_62 = array();
        $var_62[0] = new class_5();
        $var_62[0]->var_55 = 0;
        $var_62[0]->var_63 = !empty($var_24->var_18['uncat']) ? $var_24->var_18['uncat'] : gt('Not Categorized');
        $var_62[0]->var_60 = 0;
        foreach ($var_51 as $var_54) {
            if (!empty($var_54->var_64)) {
                if (isset($var_62[$var_54->var_64[0]->var_55])) {
                    $var_62[$var_54->var_64[0]->var_55]->var_60++;
                } else {
                    $var_65 = new class_6($var_54->var_64[0]->var_55);
                    $var_62[$var_54->var_64[0]->var_55] = $var_65;
                    $var_62[$var_54->var_64[0]->var_55]->var_60 = 1;
                }
            } else {
                $var_62[0]->var_60++;
            }
        }





        $var_62 = expSorter::sort(array('array' => $var_62, 'order' => 'count DESC', 'type' => 'a'));
        if (!empty($var_24->var_18['limit'])) $var_62 = array_slice($var_62, 0, $var_24->var_18['limit']);
        $var_56 = isset($var_24->var_18['order']) ? $var_24->var_18['order'] : 'title ASC';
        if ($var_56 != 'count') {
            $var_62 = expSorter::sort(array('array' => $var_62, 'order' => $var_56, 'ignore_case' => true, 'rank' => ($var_56 === 'rank') ? 1 : 0));
        }

        assign_to_template(array(
            'cats' => $var_62
        ));
    }

    
    public function fn_20() {
	    expHistory::set('viewable', $var_24->var_19);
        $var_31 = $var_24->var_4;

        $var_51 = $var_24->$var_31->find('all');
        $var_67 = array();
        
        foreach ($var_51 as $var_54) {
            $var_68 = expCommentController::getComments(array('content_type'=>$var_31,'content_id'=>$var_54->var_55));
            if (!empty($var_68)) {
                foreach ($var_68 as $var_69) {
                    $var_69->var_70 = $var_54->var_63;
                    $var_69->var_71 = $var_54->var_71;
                }
                $var_67 = array_merge($var_67,$var_68);
            }
        }
        
        $var_67 = expSorter::sort(array('array' => $var_67, 'sortby' => 'created_at', 'order' => 'DESC', 'ignore_case' => true));
        $var_72 = (isset($var_24->var_18['headcount']) && $var_24->var_18['headcount'] != '') ? $var_24->var_18['headcount'] : 10;
        $var_66 = array_slice($var_67,0,$var_72);
	    assign_to_template(array(
            'comments'=>$var_66,
        ));
	}

    
    public function fn_21() {
        expHistory::set('viewable', $var_24->var_19);
        $var_31 = $var_24->var_4;

        
        $var_55 = null;
        if (isset($var_24->var_19['id'])) {
            $var_55 = $var_24->var_19['id'];
        } elseif (isset($var_24->var_19['title'])) {
            $var_55 = expString::escape($var_24->var_19['title']);
        }

        $var_73 = new $var_31($var_55);
        if (empty($var_73->var_55))
            redirect_to(array('controller'=>'notfound','action'=>'page_not_found','title'=>$var_24->var_19['title']));

        $var_18 = class_2::getConfig($var_73->var_74);
        if (empty($var_24->var_18))
            $var_24->var_18 = $var_18;
        if (empty($var_24->var_20->var_23)) {
            $var_75 = expUnserialize($var_73->var_74);
            $var_24->var_20 = new class_5();
            $var_24->var_20->var_23 = $var_75->var_23;
        }

        assign_to_template(array(
            'record' => $var_73,
            'config' => $var_18
        ));
    }

    
    public function fn_22() {
        expHistory::set('viewable', $var_24->var_19);
        $var_31 = $var_24->var_4;
        
        
        $var_24->var_19['title'] = expString::escape($var_24->var_19['title']);  
        $var_73 = $var_24->$var_31->find('first', "sef_url='" . $var_24->var_19['title'] . "'");
        if (!is_object($var_73)) {
            $var_73 = $var_24->$var_31->find('first', "title='" . $var_24->var_19['title'] . "'");
        }
        $var_24->var_20 = unserialize($var_73->var_74);

        assign_to_template(array(
            'record' => $var_73,
        ));
    }

    
    public function fn_23() {
        expHistory::set('viewable', $var_24->var_19);
        $var_76 = static::fn_6() ? $var_24->fn_16() : null;
        $var_72 = isset($var_24->var_19['limit']) ? $var_24->var_19['limit'] : 1;
        $var_56 = 'RAND()';
        assign_to_template(array(
            'items' => $var_24->var_77->find('all', $var_76, $var_56, $var_72)
        ));
    }

    
    public function fn_24() {
        global $var_46;

        
        expHistory::set('viewable', $var_24->var_19);

        
        $var_78 = new class_4();
        $var_31 = empty($var_24->var_19['model']) ? $var_24->var_4 : $var_24->var_19['model'];
        $var_79 = new $var_31();

        
        $var_80 = 'SELECT DISTINCT m.id FROM ' . $var_46->var_81 . $var_79->var_32 . ' m ';
        $var_80 .= 'JOIN ' . $var_46->var_81 . $var_78->var_82 . ' ct ';
        $var_80 .= 'ON m.id = ct.content_id WHERE (';
        $var_83 = true;

        if (isset($var_24->var_19['tags'])) {
            $var_57 = is_array($var_24->var_19['tags']) ? $var_24->var_19['tags'] : array($var_24->var_19['tags']);
        } elseif (isset($var_24->var_18['expTags'])) {
            $var_57 = $var_24->var_18['expTags'];
        } else {
            $var_57 = array();
        }

        foreach ($var_57 as $var_84) {
            $var_80 .= ($var_83) ? 'exptags_id=' . intval($var_84) : ' OR exptags_id=' . intval($var_84);
            $var_83 = false;
        }
        $var_80 .= ") AND content_type='" . $var_79->var_1 . "'";

        
        $var_85 = $var_46->selectObjectsBySql($var_80);
        $var_45 = array();
        foreach ($var_85 as $var_87) {
            $var_45[] = new $var_31($var_87->var_55);
        }

        assign_to_template(array(
            'items' => $var_45
        ));
    }

    
    public function fn_25() {
        $var_88 = array('controller' => $var_24->var_19['controller'], 'action' => 'edit');
        
        if (!empty($var_24->var_19['src'])) $var_88['src'] = $var_24->var_19['src'];
        redirect_to($var_88);
    }

    
    public function fn_26() {
        expHistory::set('editable', $var_24->var_19);
        $var_89 = class_4::getAllTags();
        $var_31 = $var_24->var_4;

        if (isset($var_24->var_19['id'])) {
            if (!isset($var_24->var_19['revision_id'])) {
                $var_73 = $var_24->$var_31->find($var_24->var_19['id']);
            } else {
                $var_90 = $var_24->$var_31->find($var_24->var_19['id']);
                $var_45 = $var_24->$var_31->find('revisions', $var_24->$var_31->var_91 . '=' . intval($var_24->var_19['id']) . ' AND revision_id=' . intval($var_24->var_19['revision_id']));
                $var_73 = $var_45[0];
                $var_73->var_92 = $var_90->var_93;
            }
        } else {
            $var_73 = new $var_31($var_24->var_19);
        }
        if (!empty($var_24->var_19['copy'])) {
            $var_73->var_55 = null;
            if (isset($var_73->var_71)) $var_73->var_71 = null;
        }
        assign_to_template(array(
            'record'     => $var_73,


            'taglist'    => $var_89
        ));
    }

    
    public function fn_27() {
        expHistory::set('editable', $var_24->var_19);
        $var_31 = $var_24->var_4;
        $var_73 = $var_24->$var_31->find($var_24->var_19['id']);

        $var_20 = expUnserialize($var_73->var_74);
        $var_20->var_23 = $var_24->var_20->var_23;
        $var_73->var_74 = serialize($var_20);

        $var_73->fn_28();

        expHistory::back();
    }

    
    public function fn_28() {
        global $var_46;

        
        if (array_key_exists('expTag', $var_24->var_19)) {
            if (isset($var_24->var_19['id'])) {
                $var_46->fn_29('content_expTags', 'content_type="' . (!empty($var_24->var_19['content_type']) ? $var_24->var_19['content_type'] : $var_24->var_4) . '" AND content_id=' . $var_24->var_19['id']);
            }
            $var_57 = explode(",", trim($var_24->var_19['expTag']));
            unset($var_24->var_19['expTag']);

            foreach ($var_57 as $var_47) {
                if (!empty($var_47)) {
                    $var_47 = strtolower(trim($var_47));
                    $var_47 = str_replace(array('"', "'"), "", $var_47); 
                    if (!empty($var_47)) {
                        $var_48 = new class_4($var_47);
                        if (empty($var_48->var_55))
                            $var_48->fn_28(array('title' => $var_47));
                        $var_24->var_19['expTag'][] = $var_48->var_55;
                    }
                }
            }
        }

        
        if (array_key_exists('expCat', $var_24->var_19) && !empty($var_24->var_19['expCat'])) {
            $var_96 = $var_24->var_19['expCat'];
            unset($var_24->var_19['expCat']);
            $var_24->var_19['expCat'][] = $var_96;
        }

        $var_31 = $var_24->var_4;
        $var_24->$var_31->fn_28($var_24->var_19);

        if ($var_24->fn_10()) {
            $var_24->fn_30($var_24->var_19);
        }

        
        if (!empty($var_24->var_19['send_status'])) {
            if ($var_24->var_1 == 'eventController') {
                facebookController::postEvent(
                    array('model' => $var_31, 'id' => $var_24->var_19['date_id'], 'src' => $var_24->var_20->var_23, 'config' => $var_24->var_18, 'orig_controller' => expModules::getControllerName($var_24->var_1))
                );
            } else {
                facebookController::postStatus(
                    array('model' => $var_31, 'id' => $var_24->$var_31->var_55, 'src' => $var_24->var_20->var_23, 'config' => $var_24->var_18, 'orig_controller' => expModules::getControllerName($var_24->var_1))
                );
            }
        }

        
        if (!empty($var_24->var_19['send_tweet'])) {
            if ($var_24->var_1 == 'eventController') {
                twitterController::postEventTweet(
                    array('model' => $var_31, 'id' => $var_24->var_19['date_id'], 'src' => $var_24->var_20->var_23, 'config' => $var_24->var_18, 'orig_controller' => expModules::getControllerName($var_24->var_1))
                );
            } else {
                twitterController::postTweet(
                    array('model' => $var_31, 'id' => $var_24->$var_31->var_55, 'src' => $var_24->var_20->var_23, 'config' => $var_24->var_18, 'orig_controller' => expModules::getControllerName($var_24->var_1))
                );
            }
        }

        
        if (!empty($var_24->var_19['send_ealerts'])) {
            redirect_to(array('controller' => 'ealert', 'action' => 'send_confirm', 'model' => $var_31, 'id' => $var_24->$var_31->var_55, 'src' => $var_24->var_20->var_23, 'orig_controller' => expModules::getControllerName($var_24->var_1)));
        } else {
            expHistory::back();
        }
    }

    
    public function fn_29() {
        $var_31 = $var_24->var_4;
        if (empty($var_24->var_19['id'])) {
            flash('error', gt('Missing id for the') . ' ' . $var_31 . ' ' . gt('you would like to delete'));
            expHistory::back();
        }

        $var_98 = new $var_31($var_24->var_19['id']);
        $var_99 = $var_98->fn_29();

        
        if ($var_24->fn_10()) {
            $var_100 = new class_7();

            $var_101 = $var_100->find('first', 'original_id=' . $var_24->var_19['id'] . " AND ref_module='" . $var_24->var_2 . "'");
            if (!empty($var_101->var_55)) $var_101->fn_29();
        }

        expHistory::back();
    }

    
    public function fn_31() {
        $var_31 = $var_24->var_4;
        $var_98 = new $var_31($var_24->var_19['id']);
        $var_98->fn_31($var_24->var_19['push']);
        expHistory::back();
    }

    
    public function fn_32() {
        expHistory::set('manageable', $var_24->var_19);

        $var_42 = new class_3(array(
            'model'      => $var_24->var_4,
            'where'      => static::fn_6() ? $var_24->fn_16() : null,
            'limit'      => isset($var_24->var_19['limit']) ? $var_24->var_19['limit'] : 10,
            'order'      => isset($var_24->var_19['order']) ? $var_24->var_19['order'] : null,
            'page'       => (isset($var_24->var_19['page']) ? $var_24->var_19['page'] : 1),
            'controller' => $var_24->var_2,
            'action'     => $var_24->var_19['action'],
            'src'        => static::fn_6() == true ? $var_24->var_20->var_23 : null,
            'columns'    => array(
                gt('ID
                gt('var_44') => 'title',
                gt('Body')  => 'body'
            ),
        ));

        assign_to_template(array(
            'page'  => $var_42,
            'items' => $var_42->var_45
        ));
    }

    
    public function fn_33() {
        $var_103 = 1;
        foreach ($var_24->var_19['rerank'] as $var_55) {
            $var_31 = $var_24->var_19['model'];
            $var_98 = new $var_31($var_55);
            $var_98->var_103 = $var_103;
            $var_98->save(false, true);
            $var_103++;
        }

        if (!expJavascript::inAjaxAction())
            redirect_to($var_24->var_19['lastpage']);
    }

    
    public function fn_34() {
        global $var_46;

        expHistory::set('editable', $var_24->var_19);
        $var_105 = expTemplate::get_config_templates($var_24, $var_24->var_20);

        
        $var_106 = expModules::listInstalledControllers($var_24->var_2, $var_24->var_20);
        $var_42 = new class_3(array(
            'records' => $var_106,
            'controller' => $var_24->var_20->var_107,
            'action' => $var_24->var_19['action'],
            'order'   => isset($var_24->var_19['order']) ? $var_24->var_19['order'] : 'section',
            'dir'     => isset($var_24->var_19['dir']) ? $var_24->var_19['dir'] : '',
            'page'    => (isset($var_24->var_19['page']) ? $var_24->var_19['page'] : 1),
            'columns' => array(
                gt('Title') => 'title',
                gt('Page')  => 'section'
            ),
        ));


            $var_108 = expCore::makeLocation(expModules::getModuleName($var_24->var_20->var_107),$var_24->var_20->var_23);
            $var_109 = $var_46->selectObject('container', "internal='" . serialize($var_108) . "'");
            if (empty($var_109)) {
                $var_109 = new class_5();
                $var_109->var_111 = 'showall';
            } else {
                $var_109->var_112 = unserialize($var_109->var_112);
            }
            if (empty($var_109->var_111)) {
                $var_109->var_111 = 'showall';
            }






























            $var_113 = $var_24->var_6;
            $var_114 = array();
            if (!empty($var_113)) {
                  
                foreach ($var_113 as $var_115 => $var_116) {
                    $var_113[$var_115] = gt($var_116);
                }
                $var_114 = expTemplate::get_action_views($var_24->var_1, $var_109->var_111, $var_113[$var_109->var_111]);
                if (count($var_114) < 1) $var_114[$var_109->var_111] = $var_113[$var_109->var_111] . ' - Default View';
            }

            assign_to_template(array(
                'container' => $var_109,
                'actions'   => $var_113,
                'mod_views' => $var_114,
            ));

        if (!empty($var_24->var_19['hcview'])) {
            
            assign_to_template(array(
                'hcview' => $var_24->var_19['hcview'],
            ));
        }

        $var_65 = new class_6();
        $var_117 = $var_65->find('all','module="file"');
        $var_118 = array();
        $var_118[] = 'Root Folder';
        foreach ($var_117 as $var_119) {
            $var_118[$var_119->var_55] = $var_119->var_63;
        }

        assign_to_template(array(

            'page'              => $var_42, 
            'views'             => $var_105,
            'title'             =>static::fn_3(),
            'current_section'   => expSession::get('last_section'),

            'viewpath'          => $var_24->var_15,
            'relative_viewpath' => $var_24->var_16,
            'folders'           => $var_118,
        ));

    }

    
    public function fn_35() {
        global $var_46;

        
        if (!empty($var_24->var_19['container_id'])) {
            $var_109 = $var_46->selectObject('container', "id=" . $var_24->var_19['container_id']);
            if (!empty($var_109)) {
                $var_109->var_63 = $var_24->var_19['moduletitle'];
                $var_109->var_111 = $var_24->var_19['actions'];
                $var_109->var_120 = $var_24->var_19['views'];
                $var_109->var_121 = $var_24->var_19['is_private'];
                $var_46->updateObject($var_109, 'container');
                expSession::clearAllUsersSessionCache('containermodule');
            }
            unset(
                $var_24->var_19['container_id'],
                $var_24->var_19['moduletitle'],
                $var_24->var_19['modcntrol'],
                $var_24->var_19['actions'],
                $var_24->var_19['views'],
                $var_24->var_19['actions'],
                $var_24->var_19['is_private']
            );
        }

        
        $var_19 = $var_24->var_19;
        if (!empty($var_24->var_19['enable_rss'])) {
            $var_19['title'] = $var_19['feed_title'];
            unset($var_19['feed_title']);
            $var_19['sef_url'] = $var_19['feed_sef_url'];
            unset($var_19['feed_sef_url']);
            $var_123 = new class_8($var_19);
            $var_123->fn_28($var_19);
            $var_24->var_19['feed_sef_url'] = $var_123->var_71;
        } else {
            $var_123 = new class_8($var_24->var_19);
            $var_19['enable_rss'] = false;
            if (empty($var_19['advertise']))
                $var_19['advertise'] = false;
            $var_19['title'] = $var_19['feed_title'];
            unset($var_19['feed_title']);
            $var_19['sef_url'] = $var_19['feed_sef_url'];
            unset($var_19['feed_sef_url']);
            if (!empty($var_123->var_55)) { 
                $var_123->fn_28($var_19);
                $var_24->var_19['feed_sef_url'] = $var_123->var_71;
            }
        }

        
        if (!empty($var_24->var_19['enable_ealerts'])) {
            $var_124 = new class_9($var_24->var_19);
            $var_124->fn_28($var_24->var_19);
        }

        
        unset(
            $var_24->var_19['module'],
            $var_24->var_19['controller'],
            $var_24->var_19['src'],
            $var_24->var_19['int'],
            $var_24->var_19['id'],
            $var_24->var_19['cid'],
            $var_24->var_19['action'],
            $var_24->var_19['PHPSESSID'],
            $var_24->var_19['__utma'],
            $var_24->var_19['__utmb'],
            $var_24->var_19['__utmc'],
            $var_24->var_19['__utmz'],
            $var_24->var_19['__utmt'],
            $var_24->var_19['__utmli'],
            $var_24->var_19['__cfduid']
        );

        
        $var_18 = new class_2($var_24->var_20);
        $var_18->fn_28(array('config' => $var_24->var_19));

        flash('message', gt('Configuration updated'));
        expHistory::back();
    }

    
    public function var_125($var_72 = 0) {
        $var_126 = new $var_24->var_4;
        $var_51 = $var_126->find('all', $var_24->fn_16(), isset($var_24->var_18['order']) ? $var_24->var_18['order'] : 'created_at DESC', $var_72);

        
        $var_127 = array();
        foreach ($var_51 as $var_115 => $var_54) {
            $var_128 = new class_10();
            $var_128->var_63 = expString::convertSmartQuotes($var_54->var_63);
            $var_128->var_129 = $var_128->var_130 = makeLink(array('controller' => $var_24->var_2, 'action' => 'show', 'title' => $var_54->var_71));
            $var_128->var_39 = expString::convertSmartQuotes($var_54->var_131);
            $var_128->var_40 = user::getUserById($var_54->var_132)->var_133 . ' ' . user::getUserById($var_54->var_132)->var_134;
            $var_128->var_135 = user::getEmailById($var_54->var_132);

            $var_128->var_136 = isset($var_54->var_137) ? $var_54->var_137 : $var_54->var_138;
            if (!empty($var_54->var_64[0]->var_63)) $var_128->var_139 = array($var_54->var_64[0]->var_63);
            $var_140 = expCommentController::countComments(array('content_id' => $var_54->var_55, 'content_type' => $var_24->var_4));
            if ($var_140) {
                $var_128->var_66 = makeLink(array('controller' => $var_24->var_2, 'action' => 'show', 'title' => $var_54->var_71)) . '

                $rss_item->commentsCount = $comment_count;
            }
            $rssitems[$key] = $rss_item;

            if ($limit && count($rssitems) >= $limit)
                break;
        }
        return $rssitems;
    }

    
    public function rss() {

        $id = isset($this->params['var_63']) ? expString::escape($var_24->var_19['title']) : (isset($var_24->var_19['id']) ? $var_24->var_19['id'] : null);
        if (empty($var_55)) {
            $var_141 = !empty($var_24->var_19['module']) ? $var_24->var_19['module'] : $var_24->var_19['controller'];
            $var_55 = array('module' => $var_141, 'src' => $var_24->var_19['src']);
        }
        $var_142 = new class_8($var_55);
        if ($var_142->var_143 == true && !empty($var_142->var_55)) {
            $var_142->var_63 = empty($var_142->var_63) ? gt('RSS for') . ' ' . var_144 : $var_142->var_63;
            $var_142->var_145 = empty($var_142->var_145) ? gt('This is an RSS syndication from') . ' ' . var_146 : $var_142->var_145;



            if ($var_142->var_147 == 0) {
                $var_142->var_147 = 1440;
            }

            if (!empty($var_142->var_148)) {
                $var_149 = explode(";", $var_142->var_148);
                $var_150 = 0;
                $var_148 = array();
                foreach ($var_149 as $var_119) {
                    $var_151 = explode(":", $var_119);
                    $var_148[$var_150]->var_139 = $var_151[0];
                    if (isset($var_151[1])) {
                        $var_148[$var_150]->var_152 = $var_151[1];
                    }
                    $var_150++;
                }
            }

            
            ob_end_clean();

            header('Content-Type: ' . 'application/rss+xml');


            header('Content-Encoding:');
            
            if (var_153 == 'IE') {
                header('Cache-Control: must-revalidate, post-check=0, pre-check=0');
                header('Pragma: public');
                header('Vary: User-Agent');
            } else {
                header('Pragma: no-cache');
            }

            if ($var_142->var_22) {
                $var_154 = "PODCAST";
            } else {
                $var_154 = "RSS2.0";
            }
            $var_155 = var_29 . 'tmp/rsscache/' . $var_142->var_71 . '.xml';

            $var_156 = new class_11();


            if (file_exists(var_157 . "rss/feed.xsl"))  
                $var_156->var_158 = var_159 . "rss/feed.xsl";
            $var_156->useCached($var_154, $var_155, $var_142->var_147);  

            $var_156->var_63 = $var_142->var_63;
            if (!empty($var_24->var_19['type']))
                $var_156->var_63 .= ' ' . ucfirst($var_24->var_19['type']);
            $var_156->var_39 = $var_142->var_145;
            $var_156->var_161 = new class_12();
            $var_156->var_161->var_162 = !empty($var_142->expFile['album'][0]) ? $var_142->expFile['album'][0]->var_162 : var_144 . 'themes/' . var_163 . '/images/logo.png';
            $var_156->var_161->var_63 = $var_142->var_63;
            $var_156->var_161->var_129 = var_144;
            
            
            $var_156->var_164 = $var_142->var_147;
            $var_156->var_129 = var_144;
            $var_156->var_165 = var_166;
            $var_156->var_167 = makeLink(array('module'=>$var_142->var_141, 'src'=>$var_142->var_23));
            if ($var_142->var_22) {
                $var_156->var_168 = new class_13();
                $var_156->var_168->var_40 = !empty($var_142->var_169) ? $var_142->var_169 : var_170;
                $var_156->var_168->var_161 = !empty($var_142->expFile['album'][0]) ? $var_142->expFile['album'][0]->var_162 :var_144 . 'themes/' . var_163 . '/images/logo.png';
                $var_156->var_168->var_171 = $var_142->var_145;
                if (!empty($var_148)) {
                    $var_156->var_168->var_139 = $var_148[0]->var_139;
                    $var_156->var_168->var_152 = $var_148[0]->var_152;
                }
                

                $var_156->var_168->var_172 = $var_142->var_145;
                
                $var_156->var_168->var_173 = var_174;
                $var_156->var_168->var_175 = var_170;
            }

            $var_176 = '';
            $var_142->var_19 = $var_24->var_19;
            foreach ($var_142->getFeedItems($var_142->var_178) as $var_54) {
                if ($var_54->var_136 > $var_176) {
                    $var_176 = $var_54->var_136;
                }
                $var_156->addItem($var_54);
            }
            if (!empty($var_142->var_178)) {
                $var_156->var_51 = array_slice($var_156->var_51, 0, $var_142->var_178);
            }
            $var_156->var_176 = $var_176;


              
        } else {
            flash('notice', gt("This RSS feed is not available."));
            expHistory::back();
        }

        
        exit();
    }

    
    public function fn_36() {
        if (!isset($var_24->var_18['allowdownloads']) || $var_24->var_18['allowdownloads'] == true) {
            
            expFile::download($var_24->var_19['id']);
            
        } else {
            flash('error', gt('Downloads have not been enabled for this file'));
            expHistory::back();
        }

    }

    
    public function fn_0() {
        
        $var_180 = array();
        foreach ($var_24->var_8 as $var_181 => $var_38) {
            if (!in_array($var_181, $var_24->var_10)) $var_180[$var_181] = $var_38;
        }
        $var_180 = array_merge($var_180, $var_24->var_11);
        return $var_180;
    }

    
    public function fn_37() {
        
        $var_180 = array();
        foreach ($var_24->var_8 as $var_181 => $var_38) {
            if (!in_array($var_181, $var_24->var_10)) $var_180[$var_181] = $var_38;
        }
        $var_180 = array_merge($var_180, $var_24->var_9, $var_24->var_11, $var_24->var_12);
        return $var_180;
    }

    
    public static function fn_38($var_182, $var_183) {
        return false;
    }

    
    public function fn_39() {
        return isset($var_24->var_184) ? $var_24->var_184 : array($var_24->var_4);
    }

    
    public function fn_40() {
        return static::fn_3();
    }

    
    public function fn_41() {
        return $var_24->var_4;
    }

    
    public function fn_30() {

        global $var_46;

        $var_60 = 0;
        $var_79 = new $var_24->var_4(null, false, false);
        $var_76 = (!empty($var_24->var_19['id'])) ? 'id=' . $var_24->var_19['id'] : null;
        $var_101 = $var_46->selectArrays($var_79->var_32, $var_76);
        foreach ($var_101 as $var_188) {
            $var_189 = $var_188['id'];
            unset($var_188['id']);
           

            $var_80 = "original_id=" . $var_189 . " AND ref_module='" . $var_24->var_2 . "'";
            $var_190 = $var_46->selectObject('search', $var_80);
            if (!empty($var_190)) {
                $var_191 = new class_7($var_190->var_55, false, false);
                $var_191->fn_28($var_188);
            } else {
                $var_191 = new class_7($var_188, false, false);
            }

            
            $var_191->var_192 = $var_189;
            $var_191->var_193 = empty($var_188['created_at']) ? null : $var_188['created_at'];
            
            if (isset($var_188['location_data']))
                $var_20 = expUnserialize($var_188['location_data']);
            $var_23 = isset($var_20->var_23) ? $var_20->var_23 : null;
            if (!empty($var_188['sef_url'])) {
                $var_129 = str_replace(var_144, '', makeLink(array('controller' => $var_24->var_2, 'action' => 'show', 'title' => $var_188['sef_url'])));
            } else {
                $var_129 = str_replace(var_144, '', makeLink(array('controller' => $var_24->var_2, 'action' => 'show', 'id' => $var_189, 'src' => $var_23)));
            }

            $var_191->var_194 = $var_129;

            $var_191->var_195 = $var_24->var_2;
            $var_191->var_139 = $var_24->fn_40();
            $var_191->var_196 = $var_24->fn_41();
            $var_191->save();
            $var_60++;
        }

        return $var_60;
    }

    
    public static function fn_42($var_73) {
        return true;  
    }

    
    public function fn_43() {
        global $var_46;
        
        if ($var_24->fn_10()) {

            $var_76 = "ref_module='" . $var_24->var_2 . "' AND location_data='" . serialize($var_24->var_20) . "'";

            $var_46->fn_29('search', $var_76);
        }
    }

    
    public function fn_44($var_20) {
        $var_24->fn_45($var_20);
    }

    
    public function fn_45($var_20 = false) {
        $var_79 = new $var_24->var_4();
        $var_76 = 1;
        if ($var_20 || static::fn_6())
            $var_76 = "location_data='" . serialize($var_24->var_20) . "'";
        $var_51 = $var_79->find('all',$var_76);
        foreach ($var_51 as $var_54) {
            $var_54->fn_29();  
        }
        $var_198 = new class_2($var_24->var_20);
        $var_198->fn_29();
    }

    
    public function fn_46() {
        global $var_200;

        if (empty($var_200->var_19['action'])) return false;

        
        $var_111 = $var_200->var_19['action'];
        $var_199 = array('title' => '', 'keywords' => '', 'description' => '', 'canonical' => '', 'noindex' => false, 'nofollow' => false);
        $var_31 = $var_24->var_4;

        switch ($var_111) {
            case 'showall':
                $var_199['title'] = gt("Showing") . " " . static::fn_3() . ' - ' . var_201;
                $var_199['keywords'] = var_202;
                $var_199['description'] = var_203;
                break;
            case 'show':
            case 'showByTitle':
                
                if (isset($var_200->var_19['id']) || isset($var_200->var_19['title'])) {
                    $var_204 = isset($var_200->var_19['id']) ? $var_200->var_19['id'] : $var_200->var_19['title'];
                    $var_205 = new $var_31($var_204);
                    
                    if (!empty($var_205)) {
                        if (!empty($var_205->var_131)) {
                            $var_206 = str_replace('"',"'",expString::summarize($var_205->var_131,'html','para'));
                        } else {
                            $var_206 = var_203;
                        }
                        if (!empty($var_205->var_48)) {
                            $var_207 = '';
                            foreach ($var_205->var_48 as $var_47) {
                                if (!empty($var_207)) $var_207 .= ', ';
                                $var_207 .= $var_47->var_63;
                            }
                        } else {
                            $var_207 = var_202;
                        }
                        $var_199['title'] = empty($var_205->var_208) ? $var_205->var_63 : $var_205->var_208;
                        $var_199['keywords'] = empty($var_205->var_209) ? $var_207 : $var_205->var_209;
                        $var_199['description'] = empty($var_205->var_210) ? $var_206 : $var_205->var_210;

                        $var_199['canonical'] = empty($var_205->var_211) ? $var_200->plainPath() : $var_205->var_211;
                        $var_199['noindex'] = empty($var_205->var_213) ? false : $var_205->var_213;
                        $var_199['nofollow'] = empty($var_205->var_214) ? false : $var_205->var_214;
                        $var_199['rich'] = $var_24->fn_47($var_200->var_19, $var_205);
                        $var_199['fb'] = $var_24->fn_48($var_200->var_19, $var_205, $var_199['canonical']);
                        $var_199['tw'] = $var_24->fn_49($var_200->var_19, $var_205, $var_199['canonical']);
                    }
                    break;
                }
            default:
                
                $var_218 = $var_111 . "_meta";
                $var_107 = new $var_24->var_1;
                if (method_exists($var_107, $var_218)) {
                    $var_199 = $var_107->$var_218($var_200->var_19);
                } else {
                    $var_199['title'] = static::fn_3() . " - " . var_201;
                    $var_199['keywords'] = var_202;
                    $var_199['description'] = var_203;

                    $var_199['canonical'] = $var_200->plainPath();
                }
        }

        return $var_199;
    }

    
    public function fn_47($var_219, $var_205) {
        return null;
    }

    
    public function fn_48($var_219, $var_205, $var_211) {
        return array();
    }

    
    public function fn_49($var_219, $var_205, $var_211) {
        return array();
    }

    
    public function fn_50($var_219) {
        global $var_200;

        
        if (isset($var_219['tag'])) {
            $var_199 = array('title' => '', 'keywords' => '', 'description' => '', 'canonical' => '', 'noindex' => false, 'nofollow' => false);
            $var_47 = $var_219['tag'];
            
            $var_199['title'] = gt('Showing all') . ' ' . ucwords($var_24->var_4) . ' ' . gt('tagged as') . ' ' . $var_47;

            $var_199['keywords'] = $var_219['tag'];

            $var_199['description'] = var_203;


            $var_199['canonical'] = $var_200->plainPath();
            return $var_199;
        }
        return null;
    }

    
    public function fn_51($var_219) {
        global $var_200;

        
        if (isset($var_219['month'])) {
            $var_199 = array('title' => '', 'keywords' => '', 'description' => '', 'canonical' => '', 'noindex' => false, 'nofollow' => false);
            $var_220 = mktime(0, 0, 0, $var_219['month'], 1, $var_219['year']);
            $var_221 = strftime('%B, %Y', $var_220);
            
            $var_199['title'] = gt('Showing all') . ' ' . ucwords($var_24->var_4) . ' ' . gt('written in') . ' ' . $var_221;

            $var_199['keywords'] = var_202;

            $var_199['description'] = var_203;


            $var_199['canonical'] = $var_200->plainPath();
            return $var_199;
        }
        return null;
    }

    
    public function fn_52() {
        $var_31 = $var_24->var_4;
        $var_204 = isset($var_24->var_19['id']) ? $var_24->var_19['id'] : $var_24->var_19['title'];
        $var_205 = new $var_31($var_204);
        $var_205->var_222 = true;
        $var_205->save(false, true);  
        expHistory::back();
    }

    
    public function fn_16($var_223='') {
        global $var_224;

        $var_80 = '';

        if (empty($var_24->var_18['add_source']) && !static::fn_6()) {
            return $var_80;
        }

        if (!empty($var_24->var_18['aggregate'])) $var_80 .= '(';

        $var_80 .= "location_data ='" . serialize($var_24->var_20) . "'";

        if (!empty($var_24->var_18['aggregate'])) {
            foreach ($var_24->var_18['aggregate'] as $var_23) {
                $var_20 = expCore::makeLocation($var_24->var_2, $var_23);
                $var_80 .= " OR location_data ='" . serialize($var_20) . "'";
            }

            $var_80 .= ')';
        }
        $var_79 = $var_24->var_4;
        if (var_33 && $var_24->$var_79->var_36) {
            if ($var_224->var_55) {
                $var_80 .= ' AND (approved=1 OR poster=' . $var_224->var_55 . ' OR editor=' . $var_224->var_55 . ')';
            } else {
                $var_80 .= ' AND approved=1';
            }
        }

        return $var_80;
    }

}

?>