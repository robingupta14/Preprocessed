<?php


class var_0 extends var_1
{
    
    public $var_2;

    
    public static $var_3;

    
    public $var_4;

    
    public $var_5 = [];

    
    public $var_6 = [];

    
    public $var_7 = [];

    
    public $var_8 = false;

    
    public $var_9 = [];

    
    public $var_10;

    
    public $var_11;

    
    public $var_12 = 'layout.tpl';

    
    public $var_13 = false;

    
    protected $var_14 = [];

    
    public $var_15 = 'content.tpl';

    
    public $var_16 = 'configuration';

    
    public $var_17;

    
    protected $var_18 = false;

    
    protected $var_19 = 'name';

    
    public $var_20;

    
    public $var_21;

    
    public $var_22 = -1;

    
    public $var_23 = false;

    
    public $var_24;

    
    public $var_25;

    
    protected $var_26 = false;

    
    protected $var_27 = 'ASC';

    
    public $var_28 = [];

    
    public $var_29 = [];

    
    public $var_30 = [];

    
    public $var_31 = [];

    
    public $var_32 = [];

    
    public $var_33 = [];

    
    public $var_34 = null;

    
    public $var_35 = null;

    
    public $var_36 = false;

    
    public $var_37 = false;

    
    public $var_38 = [];

    
    protected $var_39;

    
    protected $var_40;

    
    protected $var_41 = null;

    
    protected $var_42 = [];

    
    protected $var_43;

    
    protected $var_44;

    
    protected $var_45;

    
    protected $var_46 = [];

    
    protected $var_47;

    
    protected $var_48 = '';

    
    protected $var_49 = [];

    
    protected $var_50;

    
    protected $var_51;

    
    protected $var_52 = null;

    
    protected $var_53 = true;

    
    protected $var_54 = true;

    
    protected $var_55 = false;

    
    protected $var_56 = 0;

    
    public $var_57 = false;

    
    protected $var_58;

    
    protected $var_59;

    
    protected $var_60 = '';

    
    protected $var_61 = [20, 50, 100, 300, 1000];

    
    protected $var_62 = 50;

    
    protected $var_63;

    
    protected $var_64;

    
    protected $var_65 = ['view', 'edit', 'duplicate', 'delete'];

    
    protected $var_66 = [];

    
    protected $var_67 = [];

    
    protected $var_68 = false;

    
    protected $var_69 = false;

    
    protected $var_70 = false;

    
    public static $var_71 = [];

    
    public $var_72 = [];

    
    protected $var_73;

    
    private $var_74 = false;

    
    const var_75 = 4;

    
    const var_76 = 3;

    
    const var_77 = 2;

    
    const var_78 = 1;

    
    protected $var_79;

    
    protected $var_80;

    
    protected $var_81 = false;

    
    protected $var_82;

    
    protected $var_83;

    
    protected $var_84;

    
    protected $var_85;

    
    protected $var_86;

    
    protected $var_87 = true;

    
    protected $var_88 = false;

    
    protected $var_89;

    
    protected $var_90;

    
    protected $var_91 = false;

    
    protected $var_92;

    
    protected $var_93;

    
    protected $var_94 = null;

    
    protected $var_95;

    
    protected $var_96 = true;

    
    protected $var_97;

    
    protected $var_98;

    
    protected $var_99 = ['default_list' => [], 'slider_list' => []];

    
    public $var_100;

    
    protected $var_101;

    
    protected $var_102 = true;

    
    public $var_103 = [];

    
    public $var_104 = 'jpg';

    
    protected $var_105;

    
    protected $var_106;

    
    public $var_107;

    
    public $var_108 = -1;

    
    public $var_109 = true;

    
    protected $var_110;

    
    public $var_111 = false;

    
    public $var_112;

    
    public $var_113 = [];

    
    public $var_114;

    
    public $var_115;

    
    protected $var_116 = [];

    
    protected $var_117 = [];

    
    public $var_118 = [];

    
    protected $var_119 = false;

    
    protected $var_120 = false;

    
    protected $var_121;

    
    const var_122 = 3600;

    public function fn_1($var_123 = '', $var_124 = 'default')
    {
        global $var_125;
        $var_126->var_125 = $var_125;

        $var_126->var_127 = 'admin';
        $var_126->var_107 = !empty($var_123) ? $var_123 : get_class($var_126);
        if (strpos($var_126->var_107, 'ControllerOverride')) {
            $var_126->var_107 = substr($var_126->var_107, 0, -18);
        }
        if (strpos($var_126->var_107, 'Controller')) {
            $var_126->var_107 = substr($var_126->var_107, 0, -10);
        }
        parent::fn_1();

        if ($var_126->var_108 == -1) {
            $var_126->var_108 = var_128::var_129 | var_128::var_130 | var_128::var_131;
        }

        if (defined('_PS_BO_ALL_THEMES_DIR_')) {
            if (defined('_PS_BO_DEFAULT_THEME_') && var_132
                && @filemtime(var_133 . var_132 . var_134 . 'template')) {
                $var_124 = var_132;
            }

            $var_126->var_101 = $var_124;
            if (!@filemtime(var_133 . $var_126->var_101 . var_134 . 'template')) {
                $var_126->var_101 = 'default';
            }

            $var_126->var_135->var_136->var_101 = (
                Validate::isLoadedObject($var_126->var_135->var_136)
                && $var_126->var_135->var_136->var_101
            ) ? $var_126->var_135->var_136->var_101 : $var_126->var_101;

            $var_126->var_137 = (
                Validate::isLoadedObject($var_126->var_135->var_136)
                && $var_126->var_135->var_136->var_137
            ) ? $var_126->var_135->var_136->var_137 : 'theme.css';
            $var_126->var_135->var_136->var_137 = $var_126->var_137;

            $var_138 = var_133 . $var_126->var_101 . var_134 . 'public' . var_134 . $var_126->var_137;

            if (file_exists($var_138)) {
                $var_126->var_137 = 'theme.css';
            }

            $var_126->var_135->var_139->setTemplateDir([
                var_133 . $var_126->var_101 . var_134 . 'template',
                var_141 . 'controllers' . var_134 . 'admin' . var_134 . 'templates',
            ]);
        }

        $var_126->var_22 = Tab::getIdFromClassName($var_126->var_107);
        $var_126->var_24 = Tools::getAdminToken($var_126->var_107 . (int) $var_126->var_22 . (int) $var_126->var_135->var_136->var_22);

        $var_126->var_142 = [
            1 => $var_126->trans('Successful deletion.', [], 'Admin.Notifications.Success'),
            2 => $var_126->trans('The selection has been successfully deleted.', [], 'Admin.Notifications.Success'),
            3 => $var_126->trans('Successful creation.', [], 'Admin.Notifications.Success'),
            4 => $var_126->trans('Successful update.', [], 'Admin.Notifications.Success'),
            5 => $var_126->trans('The status has been successfully updated.', [], 'Admin.Notifications.Success'),
            6 => $var_126->trans('The settings have been successfully updated.', [], 'Admin.Notifications.Success'),
            7 => $var_126->trans('The image was successfully deleted.', [], 'Admin.Notifications.Success'),
            8 => $var_126->trans('The module was successfully downloaded.', [], 'Admin.Modules.Notification'),
            9 => $var_126->trans('The thumbnails were successfully regenerated.', [], 'Admin.Notifications.Success'),
            10 => $var_126->trans('The message was successfully sent to the customer.', [], 'Admin.Orderscustomers.Notification'),
            11 => $var_126->trans('Comment successfully added.', [], 'Admin.Notifications.Success'),
            12 => $var_126->trans('Module(s) installed successfully.', [], 'Admin.Modules.Notification'),
            13 => $var_126->trans('Module(s) uninstalled successfully.', [], 'Admin.Modules.Notification'),
            14 => $var_126->trans('The translation was successfully copied.', [], 'Admin.International.Notification'),
            15 => $var_126->trans('The translations have been successfully added.', [], 'Admin.International.Notification'),
            16 => $var_126->trans('The module transplanted successfully to the hook.', [], 'Admin.Modules.Notification'),
            17 => $var_126->trans('The module was successfully removed from the hook.', [], 'Admin.Modules.Notification'),
            18 => $var_126->trans('Successful upload.', [], 'Admin.Notifications.Success'),
            19 => $var_126->trans('Duplication was completed successfully.', [], 'Admin.Notifications.Success'),
            20 => $var_126->trans('The translation was added successfully, but the language has not been created.', [], 'Admin.International.Notification'),
            21 => $var_126->trans('Module reset successfully.', [], 'Admin.Modules.Notification'),
            22 => $var_126->trans('Module deleted successfully.', [], 'Admin.Modules.Notification'),
            23 => $var_126->trans('Localization pack imported successfully.', [], 'Admin.International.Notification'),
            24 => $var_126->trans('Localization pack imported successfully.', [], 'Admin.International.Notification'),
            25 => $var_126->trans('The selected images have successfully been moved.', [], 'Admin.Notifications.Success'),
            26 => $var_126->trans('Your cover image selection has been saved.', [], 'Admin.Notifications.Success'),
            27 => $var_126->trans('The image\'s shop association has been modified.', [], 'Admin.Notifications.Success'),
            28 => $var_126->trans('A zone has been assigned to the selection successfully.', [], 'Admin.Notifications.Success'),
            29 => $var_126->trans('Successful upgrade.', [], 'Admin.Notifications.Success'),
            30 => $var_126->trans('A partial refund was successfully created.', [], 'Admin.Orderscustomers.Notification'),
            31 => $var_126->trans('The discount was successfully generated.', [], 'Admin.Catalog.Notification'),
            32 => $var_126->trans('Successfully signed in to PrestaShop Addons.', [], 'Admin.Modules.Notification'),
        ];

        $var_126->var_144 = [
            1 => $var_126->trans(
                'The root category of the shop %shop% is not associated with the current shop. You can\'t access this page. Please change the root category of the shop.',
                [
                    '%shop%' => $var_126->var_135->var_145->var_146,
                ],
                'Admin.Catalog.Notification'
            ),
        ];

        if (!$var_126->var_18) {
            $var_126->var_18 = 'id_' . $var_126->var_16;
        }
        if (!$var_126->var_26) {
            $var_126->var_26 = $var_126->var_18;
        }

        
        if ($var_126->var_107 == 'AdminDashboard') {
            $var_197['token'] = $var_126->var_24;
        }

        if (!class_0::isFeatureActive()) {
            $var_126->var_25 = '';
        }

        
        $var_126->var_147 = Tools::toUnderscoreCase(substr($var_126->var_107, 5)) . '/';
        
        $var_126->var_100 = Tools::toUnderscoreCase(substr($var_126->var_107, 5)) . '/';

        $var_126->initShopContext();

        if (defined('_PS_ADMIN_DIR_')) {
            $var_126->var_115 = str_ireplace(var_149, '', var_150);
            $var_126->var_115 = preg_replace('/^' . preg_quote(var_134, '/') . '/', '', $var_126->var_115);
        }

        
        $var_126->var_119 = false;
        if (isset($var_126->var_135->var_151->var_152, $var_126->var_135->var_151->var_153) && !empty($var_126->var_135->var_151->var_152) && !empty($var_126->var_135->var_151->var_153)) {
            $var_126->var_119 = true;
        }

        
        if (defined('_PS_HOST_MODE_') && var_154) {
            if (isset($var_126->var_135->var_151->var_155) && (int) $var_126->var_135->var_151->var_155 === 1) {
                $var_126->var_135->var_156 = var_157::var_158;
            } else {
                $var_126->var_135->var_156 = var_157::var_159;
            }
        } elseif (isset($var_126->var_135->var_151->var_155) && (int) $var_126->var_135->var_151->var_155 === 1) {
            $var_126->var_135->var_156 = var_157::var_160;
        } else {
            $var_126->var_135->var_156 = var_157::var_161;
        }

        
        $var_162 = Profile::getProfileAccess($var_126->var_135->var_136->var_163, Tab::getIdFromClassName('AdminImport'));
        if (is_array($var_162) && isset($var_162['view']) && $var_162['view'] == 1) {
            $var_126->var_120 = true;
        }

        $var_126->var_135->var_139->assign([
            'context_mode' => $var_126->var_135->var_156,
            'logged_on_addons' => $var_126->var_119,
            'can_import' => $var_126->var_120,
        ]);
    }

    
    public function fn_2($var_166 = null, $var_167 = null)
    {
        if (!is_array($var_167)) {
            $var_167 = [];
        }

        if (null === $var_166) {
            $var_166 = $var_126->var_22;
        }

        $var_167 = Tab::recursiveTab($var_166, $var_167);

        $var_168 = ['name' => '', 'href' => '', 'icon' => ''];
        $var_169 = [
            'container' => $var_168,
            'tab' => $var_168,
            'action' => $var_168,
        ];
        if (!empty($var_167[0])) {
            $var_126->addMetaTitle($var_167[0]['name']);
            $var_169['tab']['name'] = $var_167[0]['name'];
            $var_169['tab']['href'] = $var_126->var_135->var_171->getTabLink($var_167[0]);
            if (!isset($var_167[1])) {
                $var_169['tab']['icon'] = 'icon-' . $var_167[0]['class_name'];
            }
        }
        if (!empty($var_167[1])) {
            $var_169['container']['name'] = $var_167[1]['name'];
            $var_169['container']['href'] = $var_126->var_135->var_171->getTabLink($var_167[1]);
            $var_169['container']['icon'] = 'icon-' . $var_167[1]['class_name'];
        }

        
        switch ($var_126->var_98) {
            case 'add':
                $var_169['action']['name'] = $var_126->trans('Add');
                $var_169['action']['icon'] = 'icon-plus';

                break;
            case 'edit':
                $var_169['action']['name'] = $var_126->trans('Edit');
                $var_169['action']['icon'] = 'icon-pencil';

                break;
            case '':
            case 'list':
                $var_169['action']['name'] = $var_126->trans('List');
                $var_169['action']['icon'] = 'icon-th-list';

                break;
            case 'details':
            case 'view':
                $var_169['action']['name'] = $var_126->trans('View details');
                $var_169['action']['icon'] = 'icon-zoom-in';

                break;
            case 'options':
                $var_169['action']['name'] = $var_126->trans('Options');
                $var_169['action']['icon'] = 'icon-cogs';

                break;
            case 'generator':
                $var_169['action']['name'] = $var_126->trans('Generator');
                $var_169['action']['icon'] = 'icon-flask';

                break;
        }

        $var_126->var_135->var_139->assign([
            'breadcrumbs2' => $var_169,
            'quick_access_current_link_name' => Tools::safeOutput($var_169['tab']['name'] . (isset($var_169['action']) ? ' - ' . $var_169['action']['name'] : '')),
            'quick_access_current_link_icon' => $var_169['container']['icon'],
        ]);

        
        $var_126->var_110[] = $var_167[0]['name'];
        $var_173 = (Configuration::get('PS_NAVIGATION_PIPE') ? Configuration::get('PS_NAVIGATION_PIPE') : '>');
        $var_126->var_135->var_139->assign('navigationPipe', $var_173);
        
    }

    
    public function fn_3()
    {
        $var_126->var_51 = is_array($var_126->var_110) ? array_unique($var_126->var_110) : [$var_126->var_110];

        switch ($var_126->var_98) {
            case 'edit':
                $var_126->var_51[] = $var_126->trans('Edit');
                $var_126->addMetaTitle($var_126->trans('Edit'));

                break;

            case 'add':
                $var_126->var_51[] = $var_126->trans('Add new');
                $var_126->addMetaTitle($var_126->trans('Add new'));

                break;

            case 'view':
                $var_126->var_51[] = $var_126->trans('View');
                $var_126->addMetaTitle($var_126->trans('View'));

                break;
        }

        if ($var_92 = $var_126->fn_4()) {
            $var_126->var_51[] = $var_92;
        }
    }

    
    public function fn_4()
    {
        if ($var_126->var_92 && is_array($var_126->var_40)) {
            $var_176 = [];

            foreach ($var_126->var_40 as $var_177 => $var_178) {
                if (isset($var_178['filter_key'])) {
                    $var_177 = $var_178['filter_key'];
                }

                if (($var_179 = Tools::getValue($var_126->var_16 . 'Filter_' . $var_177)) || $var_179 = $var_126->var_135->var_151->{$var_126->fn_5() . $var_126->var_16 . 'Filter_' . $var_177}) {
                    if (!is_array($var_179)) {
                        $var_181 = '';
                        if (isset($var_178['type']) && $var_178['type'] == 'bool') {
                            $var_181 = ((bool) $var_179) ? $var_126->trans('yes') : $var_126->trans('no');
                        } elseif (isset($var_178['type']) && $var_178['type'] == 'date' || isset($var_178['type']) && $var_178['type'] == 'datetime') {
                            $var_182 = json_decode($var_179, true);
                            if (isset($var_182[0])) {
                                $var_181 = $var_182[0];
                                if (isset($var_182[1]) && !empty($var_182[1])) {
                                    $var_181 .= ' - ' . $var_182[1];
                                }
                            }
                        } elseif (is_string($var_179)) {
                            $var_181 = htmlspecialchars($var_179, var_183, 'UTF-8');
                        }
                        if (!empty($var_181)) {
                            $var_176[] = $var_126->trans('%s: %s', [$var_178['title'], $var_181]);
                        }
                    } else {
                        $var_181 = '';
                        foreach ($var_179 as $var_184) {
                            if (is_string($var_184) && !empty($var_184)) {
                                $var_181 .= ' - ' . htmlspecialchars($var_184, var_183, 'UTF-8');
                            }
                        }
                        $var_181 = ltrim($var_181, ' -');
                        if (!empty($var_181)) {
                            $var_176[] = $var_126->trans('%s: %s', [$var_178['title'], $var_181]);
                        }
                    }
                }
            }

            if (count($var_176)) {
                return $var_126->trans('filter by %s', [implode(', ', $var_176)]);
            }
        }
    }

    
    public function fn_6($var_97, $var_186 = false)
    {
        if (empty($var_126->var_21[$var_97])) {
            $var_187 = [];

            foreach ((array) Access::getAuthorizationFromLegacy($var_97) as $var_188) {
                $var_187[] = $var_126->getTabSlug() . $var_188;
            }

            $var_126->var_21[$var_97] = Access::isGranted(
                $var_187,
                $var_126->var_135->var_136->var_163
            );
        }

        return $var_126->var_21[$var_97];
    }

    
    public function fn_7($var_186 = false)
    {
        return $var_126->fn_6('view', $var_186);
    }

    
    public function fn_8()
    {
        if (var_192\var_192\var_193\var_194\var_195::isDisabled() || $var_126->isAnonymousAllowed()) {
            return true;
        }

        $var_24 = Tools::getValue('token');
        if ($var_24 === $var_126->var_24) {
            return true;
        }

        if (count($var_197) || !isset($var_198['controller']) || !Validate::isControllerName($var_198['controller']) || !$var_24) {
            return false;
        }

        foreach ($var_198 as $var_199 => $var_200) {
            if (is_array($var_200) || !in_array($var_199, ['controller', 'controllerUri'])) {
                return false;
            }
        }

        $var_151 = Context::getContext()->var_151;
        $var_201 = ['date_add', 'id_lang', 'id_employee', 'email', 'profile', 'passwd', 'remote_addr', 'shopContext', 'collapse_menu', 'checksum'];
        foreach ($var_151->getAll() as $var_199 => $var_200) {
            if (!in_array($var_199, $var_201)) {
                unset($var_151->$var_199);
            }
        }

        $var_151->write();

        return true;
    }

    
    protected function fn_5()
    {
        return str_replace(['admin', 'controller'], '', Tools::strtolower(get_class($var_126)));
    }

    public function fn_9()
    {
        Hook::exec('action' . $var_126->var_107 . 'ListingFieldsModifier', [
            'fields' => &$var_126->var_40,
        ]);

        if (!isset($var_126->var_17)) {
            $var_126->var_17 = $var_126->var_16;
        }

        $var_205 = $var_126->fn_5();

        if (isset($var_126->var_17)) {
            foreach ($var_197 as $var_199 => $var_200) {
                if ($var_200 === '') {
                    unset($var_126->var_135->var_151->{$var_205 . $var_199});
                } elseif (stripos($var_199, $var_126->var_17 . 'Filter_') === 0) {
                    $var_126->var_135->var_151->{$var_205 . $var_199} = !is_array($var_200) ? $var_200 : json_encode($var_200);
                } elseif (stripos($var_199, 'submitFilter') === 0) {
                    $var_126->var_135->var_151->$var_199 = !is_array($var_200) ? $var_200 : json_encode($var_200);
                }
            }

            foreach ($var_198 as $var_199 => $var_200) {
                if (stripos($var_199, $var_126->var_17 . 'Filter_') === 0) {
                    $var_126->var_135->var_151->{$var_205 . $var_199} = !is_array($var_200) ? $var_200 : json_encode($var_200);
                } elseif (stripos($var_199, 'submitFilter') === 0) {
                    $var_126->var_135->var_151->$var_199 = !is_array($var_200) ? $var_200 : json_encode($var_200);
                }
                if (stripos($var_199, $var_126->var_17 . 'Orderby') === 0 && Validate::isOrderBy($var_200)) {
                    if ($var_200 === '' || $var_200 == $var_126->var_26) {
                        unset($var_126->var_135->var_151->{$var_205 . $var_199});
                    } else {
                        $var_126->var_135->var_151->{$var_205 . $var_199} = $var_200;
                    }
                } elseif (stripos($var_199, $var_126->var_17 . 'Orderway') === 0 && Validate::isOrderWay($var_200)) {
                    if ($var_200 === '' || $var_200 == $var_126->var_27) {
                        unset($var_126->var_135->var_151->{$var_205 . $var_199});
                    } else {
                        $var_126->var_135->var_151->{$var_205 . $var_199} = $var_200;
                    }
                }
            }
        }

        $var_176 = $var_126->var_135->var_151->getFamily($var_205 . $var_126->var_17 . 'Filter_');
        $var_207 = false;
        if (isset($var_126->var_20) && $var_126->var_20) {
            $var_207 = ObjectModel::getDefinition($var_126->var_20);
        }

        foreach ($var_176 as $var_199 => $var_200) {
            
            if ($var_200 != null && !strncmp($var_199, $var_205 . $var_126->var_17 . 'Filter_', 7 + Tools::strlen($var_205 . $var_126->var_17))) {
                $var_199 = Tools::substr($var_199, 7 + Tools::strlen($var_205 . $var_126->var_17));
                
                $var_208 = explode('!', $var_199);
                $var_92 = count($var_208) > 1 ? $var_208[1] : $var_208[0];

                if ($var_177 = $var_126->fn_10($var_199, $var_92)) {
                    $var_210 = (array_key_exists('filter_type', $var_177) ? $var_177['filter_type'] : (array_key_exists('type', $var_177) ? $var_177['type'] : false));
                    if (($var_210 == 'date' || $var_210 == 'datetime') && is_string($var_200)) {
                        $var_200 = json_decode($var_200, true);
                    }
                    $var_199 = isset($var_208[1]) ? $var_208[0] . '.`' . $var_208[1] . '`' : '`' . $var_208[0] . '`';

                    
                    if (array_key_exists('tmpTableFilter', $var_177)) {
                        $var_211 = &$var_126->var_60;
                    } elseif (array_key_exists('havingFilter', $var_177)) {
                        $var_211 = &$var_126->var_59;
                    } else {
                        $var_211 = &$var_126->var_58;
                    }

                    
                    if (is_array($var_200)) {
                        if (isset($var_200[0]) && !empty($var_200[0])) {
                            if (!Validate::isDate($var_200[0])) {
                                $var_126->var_38[] = $var_126->trans('The \'From\' date format is invalid (YYYY-MM-DD)', [], 'Admin.Notifications.Error');
                            } else {
                                $var_211 .= ' AND ' . pSQL($var_199) . ' >= \'' . pSQL(Tools::dateFrom($var_200[0])) . '\'';
                            }
                        }

                        if (isset($var_200[1]) && !empty($var_200[1])) {
                            if (!Validate::isDate($var_200[1])) {
                                $var_126->var_38[] = $var_126->trans('The \'To\' date format is invalid (YYYY-MM-DD)', [], 'Admin.Notifications.Error');
                            } else {
                                $var_211 .= ' AND ' . pSQL($var_199) . ' <= \'' . pSQL(Tools::dateTo($var_200[1])) . '\'';
                            }
                        }
                    } else {
                        $var_211 .= ' AND ';
                        $var_212 = ($var_199 == $var_126->var_18 || $var_199 == '`' . $var_126->var_18 . '`');
                        $var_213 = ($var_207 && !empty($var_207['fields'][$var_92]['shop'])) ? 'sa' : 'a';

                        if ($var_210 == 'int' || $var_210 == 'bool') {
                            $var_211 .= (($var_212 || $var_199 == '`active`') ? $var_213 . '.' : '') . pSQL($var_199) . ' = ' . (int) $var_200 . ' ';
                        } elseif ($var_210 == 'decimal') {
                            $var_211 .= ($var_212 ? $var_213 . '.' : '') . pSQL($var_199) . ' = ' . (float) $var_200 . ' ';
                        } elseif ($var_210 == 'select') {
                            $var_211 .= ($var_212 ? $var_213 . '.' : '') . pSQL($var_199) . ' = \'' . pSQL($var_200) . '\' ';
                        } elseif ($var_210 == 'price') {
                            $var_200 = (float) str_replace(',', '.', $var_200);
                            $var_211 .= ($var_212 ? $var_213 . '.' : '') . pSQL($var_199) . ' = ' . pSQL(trim($var_200)) . ' ';
                        } else {
                            $var_211 .= ($var_212 ? $var_213 . '.' : '') . pSQL($var_199) . ' LIKE \'%' . pSQL(trim($var_200)) . '%\' ';
                        }
                    }
                }
            }
        }
    }

    
    public function fn_11()
    {
        try {
            if ($var_126->var_214) {
                
                $var_97 = Tools::getValue('action');
                
                if (!empty($var_97) && method_exists($var_126, 'ajaxProcess' . Tools::toCamelCase($var_97))) {
                    Hook::exec('actionAdmin' . ucfirst($var_126->var_97) . 'Before', ['controller' => $var_126]);
                    Hook::exec('action' . get_class($var_126) . ucfirst($var_126->var_97) . 'Before', ['controller' => $var_126]);

                    $var_215 = $var_126->{'ajaxProcess' . Tools::toCamelCase($var_97)}();

                    Hook::exec('actionAdmin' . ucfirst($var_126->var_97) . 'After', ['controller' => $var_126, 'return' => $var_215]);
                    Hook::exec('action' . get_class($var_126) . ucfirst($var_126->var_97) . 'After', ['controller' => $var_126, 'return' => $var_215]);

                    return $var_215;
                } elseif (!empty($var_97) && $var_126->var_107 == 'AdminModules' && Tools::getIsset('configure')) {
                    $var_216 = Module::getInstanceByName(Tools::getValue('configure'));
                    if (Validate::isLoadedObject($var_216) && method_exists($var_216, 'ajaxProcess' . $var_97)) {
                        return $var_216->{'ajaxProcess' . $var_97}();
                    }
                } elseif (method_exists($var_126, 'ajaxProcess')) {
                    return $var_126->ajaxProcess();
                }
            } else {
                
                if ($var_126->var_92 && $var_126->var_97 != 'reset_filters') {
                    $var_126->fn_9();
                }

                if (isset($var_197) && count($var_197) && (int) Tools::getValue('submitFilter' . $var_126->var_17) || Tools::isSubmit('submitReset' . $var_126->var_17)) {
                    $var_126->setRedirectAfter(self::$var_3 . '&token=' . $var_126->var_24 . (Tools::isSubmit('submitFilter' . $var_126->var_17) ? '&submitFilter' . $var_126->var_17 . '=' . (int) Tools::getValue('submitFilter' . $var_126->var_17) : ''));
                }

                
                if (!empty($var_126->var_97) && method_exists($var_126, 'process' . ucfirst(Tools::toCamelCase($var_126->var_97)))) {
                    
                    Hook::exec('actionAdmin' . ucfirst($var_126->var_97) . 'Before', ['controller' => $var_126]);
                    Hook::exec('action' . get_class($var_126) . ucfirst($var_126->var_97) . 'Before', ['controller' => $var_126]);
                    
                    $var_215 = $var_126->{'process' . Tools::toCamelCase($var_126->var_97)}();

                    
                    Hook::exec('actionAdmin' . ucfirst($var_126->var_97) . 'After', ['controller' => $var_126, 'return' => $var_215]);
                    Hook::exec('action' . get_class($var_126) . ucfirst($var_126->var_97) . 'After', ['controller' => $var_126, 'return' => $var_215]);

                    return $var_215;
                }
            }
        } catch (var_219 $var_220) {}

        return false;
    }

    
    public function fn_12()
    {
        if (Validate::isLoadedObject($var_105 = $var_126->fn_13())) {
            if (($var_105->deleteImage())) {
                $var_223 = self::$var_3 . '&update' . $var_126->var_16 . '&' . $var_126->var_18 . '=' . Tools::getValue($var_126->var_18) . '&conf=7&token=' . $var_126->var_24;
                if (!$var_126->var_214) {
                    $var_126->var_224 = $var_223;
                } else {
                    $var_126->var_4 = 'ok';
                }
            }
        }
        $var_126->var_38[] = $var_126->trans('An error occurred while attempting to delete the image. (cannot load object).', [], 'Admin.Notifications.Error');

        return $var_105;
    }

    
    public function fn_15($var_225 = '"')
    {
        
        if (ob_get_level() && ob_get_length() > 0) {
            ob_clean();
        }
        $var_126->getList($var_126->var_135->var_227->var_22, null, null, 0, false);
        if (!count($var_126->var_49)) {
            return;
        }

        header('Content-type: text/csv');
        header('Content-Type: application/force-download; charset=UTF-8');
        header('Cache-Control: no-store, no-cache');
        header('Content-disposition: attachment; filename="' . $var_126->var_16 . '_' . date('Y-m-d_His') . '.csv"');

        $var_228 = fopen('php:
        $headers = [];
        foreach ($this->fields_list as $key => $datas) {
            if ('var_229' === $datas['title']) {
                unset($var_126->var_40[$var_199]);
            } var_560 {
                if ('ID' === $datas['title']) {
                    $var_231[] = strtolower(Tools::htmlentitiesDecodeUTF8($datas['title']));
                } var_560 {
                    $var_231[] = Tools::htmlentitiesDecodeUTF8($datas['title']);
                }
            }
        }
        var_230($var_228, $var_231, ';', $var_225);

        foreach ($var_126->var_49 as $var_232 => $var_233) {
            $var_4 = [];
            $var_234 = false;
            foreach ($var_126->var_40 as $var_199 => $var_235) {
                $var_236 = isset($var_233[$var_199]) ? Tools::htmlentitiesDecodeUTF8(Tools::nl2br($var_233[$var_199])) : '';
                if ($var_199 == 'image') {
                    if ($var_235['image'] != 'p' || Configuration::get('PS_LEGACY_IMAGES')) {
                        $var_234 = Tools::getShopDomain(true) . var_237 . $var_235['image'] . '/' . $var_233['id_' . $var_126->var_16] . (isset($var_233['id_image']) ? '-' . (int) $var_233['id_image'] : '') . '.' . $var_126->var_104;
                    } else {
                        $var_234 = Tools::getShopDomain(true) . var_237 . $var_235['image'] . '/' . Image::getImgFolderStatic($var_233['id_image']) . (int) $var_233['id_image'] . '.' . $var_126->var_104;
                    }
                    if ($var_234) {
                        $var_236 = $var_234;
                    }
                }
                if (isset($var_235['callback'])) {
                    $var_238 = (isset($var_235['callback_object'])) ? $var_235['callback_object'] : $var_126->var_135->var_239;
                    if (!preg_match('/<([a-z]+)([^<]+)*(?:>(.*)<\/\1>|\s+\/>)/ism', call_user_func_array([$var_238, $var_235['callback']], [$var_236, $var_233]))) {
                        $var_236 = call_user_func_array([$var_238, $var_235['callback']], [$var_236, $var_233]);
                    }
                }
                $var_4[] = $var_236;
            }
            fputcsv($var_228, $var_4, ';', $var_225);
        }
        @fclose($var_228);
        var_240;
    }

    
    public function fn_16()
    {
        if (Validate::isLoadedObject($var_105 = $var_126->fn_13())) {
            $var_241 = true;
            
            if (isset($var_105->var_242) && count(call_user_func([$var_126->var_20, $var_105->var_242])) <= 1) {
                $var_126->var_38[] = $var_126->trans('You need at least one object.', [], 'Admin.Notifications.Error') .
                    ' <b>' . $var_126->var_16 . '</b><br />' .
                    $var_126->trans('You cannot delete all of the items.', [], 'Admin.Notifications.Error');
            } elseif (array_key_exists('delete', $var_126->var_67) && in_array($var_105->var_22, $var_126->var_67['delete'])) { 
                $var_126->var_38[] = $var_126->trans('You cannot delete this item.', [], 'Admin.Notifications.Error');
            } else {
                if ($var_126->var_91) {
                    if (!empty($var_126->var_103)) {
                        $var_241 = $var_105->deleteImage();
                    }

                    if (!$var_241) {
                        $var_126->var_38[] = $var_126->trans('Unable to delete associated images.', [], 'Admin.Notifications.Error');
                    }

                    $var_105->var_91 = 1;
                    if ($var_241 = $var_105->update()) {
                        $var_126->var_224 = self::$var_3 . '&conf=1&token=' . $var_126->var_24;
                    }
                } elseif ($var_241 = $var_105->delete()) {
                    $var_126->var_224 = self::$var_3 . '&conf=1&token=' . $var_126->var_24;
                }
                $var_126->var_38[] = $var_126->trans('An error occurred during deletion.', [], 'Admin.Notifications.Error');
                if ($var_241) {
                    PrestaShopLogger::addLog(
                        $var_126->trans('%s deletion', [$var_126->var_20]),
                        1,
                        null,
                        $var_126->var_20,
                        (int) $var_126->var_105->var_22,
                        true,
                        (int) $var_126->var_135->var_136->var_22
                    );
                }
            }
        } else {
            $var_126->var_38[] = $var_126->trans('An error occurred while deleting the object.', [], 'Admin.Notifications.Error') .
                ' <b>' . $var_126->var_16 . '</b> ' .
                $var_126->trans('(cannot load object)', [], 'Admin.Notifications.Error');
        }

        return $var_105;
    }

    
    public function fn_17()
    {
        if ($var_126->var_106) {
            $var_126->var_105 = $var_126->fn_13();

            return $var_126->fn_18();
        } else {
            return $var_126->fn_19();
        }
    }

    
    public function fn_19()
    {
        if (!isset($var_126->var_20) || empty($var_126->var_20)) {
            return false;
        }

        $var_126->validateRules();
        if (count($var_126->var_38) <= 0) {
            $var_126->var_105 = new $var_126->var_20();

            $var_126->copyFromPost($var_126->var_105, $var_126->var_16);
            $var_126->beforeAdd($var_126->var_105);
            if (method_exists($var_126->var_105, 'add') && !$var_126->var_105->add()) {
                $var_126->var_38[] = $var_126->trans('An error occurred while creating an object.', [], 'Admin.Notifications.Error') .
                    ' <b>' . $var_126->var_16 . ' (' . Db::getInstance()->getMsgError() . ')</b>';
            } elseif (($var_197[$var_126->var_18] = $var_126->var_105->var_22 ) && $var_126->postImage($var_126->var_105->var_22) && !count($var_126->var_38) && $var_126->var_102) {
                PrestaShopLogger::addLog(
                    $var_126->trans('%s addition', [$var_126->var_20]),
                    1,
                    null,
                    $var_126->var_20,
                    (int) $var_126->var_105->var_22,
                    true,
                    (int) $var_126->var_135->var_136->var_22
                );
                $var_253 = (int) Tools::getValue('id_parent', 1);
                $var_126->afterAdd($var_126->var_105);
                $var_126->updateAssoShop($var_126->var_105->var_22);
                
                if (empty($var_126->var_224) && $var_126->var_224 !== false && Tools::isSubmit('submitAdd' . $var_126->var_16 . 'AndStay')) {
                    $var_126->var_224 = self::$var_3 . '&' . $var_126->var_18 . '=' . $var_126->var_105->var_22 . '&conf=3&update' . $var_126->var_16 . '&token=' . $var_126->var_24;
                }
                
                if (empty($var_126->var_224) && $var_126->var_224 !== false && Tools::isSubmit('submitAdd' . $var_126->var_16 . 'AndBackToParent')) {
                    $var_126->var_224 = self::$var_3 . '&' . $var_126->var_18 . '=' . $var_253 . '&conf=3&token=' . $var_126->var_24;
                }
                
                if (empty($var_126->var_224) && $var_126->var_224 !== false) {
                    $var_126->var_224 = self::$var_3 . ($var_253 ? '&' . $var_126->var_18 . '=' . $var_126->var_105->var_22 : '') . '&conf=3&token=' . $var_126->var_24;
                }
            }
        }

        $var_126->var_38 = array_unique($var_126->var_38);
        if (!empty($var_126->var_38)) {
            
            $var_126->var_98 = 'edit';

            return false;
        }

        return $var_126->var_105;
    }

    
    public function fn_18()
    {
        
        $var_126->validateRules();
        if (empty($var_126->var_38)) {
            $var_22 = (int) Tools::getValue($var_126->var_18);

            
            if (isset($var_22) && !empty($var_22)) {
                
                $var_105 = new $var_126->var_20($var_22);
                if (Validate::isLoadedObject($var_105)) {
                    
                    if ($var_126->var_91 && $var_126->beforeDelete($var_105)) {
                        
                        
                        $var_257 = $var_105->duplicateObject();
                        if (Validate::isLoadedObject($var_257)) {
                            
                            $var_105->var_91 = 1;
                            $var_105->update();

                            
                            $var_126->copyFromPost($var_257, $var_126->var_16);
                            $var_259 = $var_257->update();
                            if (Validate::isLoadedObject($var_257)) {
                                $var_126->afterDelete($var_257, $var_105->var_22);
                            }
                        }
                    } else {
                        $var_126->copyFromPost($var_105, $var_126->var_16);
                        $var_259 = $var_105->update();
                        $var_126->afterUpdate($var_105);
                    }

                    if ($var_105->var_22) {
                        $var_126->updateAssoShop($var_105->var_22);
                    }

                    if (!$var_259) {
                        $var_126->var_38[] = $var_126->trans('An error occurred while updating an object.', [], 'Admin.Notifications.Error') .
                            ' <b>' . $var_126->var_16 . '</b> (' . Db::getInstance()->getMsgError() . ')';
                    } elseif ($var_126->postImage($var_105->var_22) && !count($var_126->var_38) && $var_126->var_102) {
                        $var_253 = (int) Tools::getValue('id_parent', 1);
                        
                        if ($var_262 = Tools::getValue('back')) {
                            $var_126->var_224 = urldecode($var_262) . '&conf=4';
                        }
                        
                        
                        if (Tools::isSubmit('submitAdd' . $var_126->var_16 . 'AndStay')) {
                            $var_126->var_224 = self::$var_3 . '&' . $var_126->var_18 . '=' . $var_105->var_22 . '&conf=4&update' . $var_126->var_16 . '&token=' . $var_126->var_24;
                        }
                        
                        if (Tools::isSubmit('submitAdd' . $var_126->var_16 . 'AndBackToParent')) {
                            $var_126->var_224 = self::$var_3 . '&' . $var_126->var_18 . '=' . $var_253 . '&conf=4&token=' . $var_126->var_24;
                        }

                        
                        if (empty($var_126->var_224) && $var_126->var_224 !== false) {
                            $var_126->var_224 = self::$var_3 . ($var_253 ? '&' . $var_126->var_18 . '=' . $var_105->var_22 : '') . '&conf=4&token=' . $var_126->var_24;
                        }
                    }
                    PrestaShopLogger::addLog(
                        $var_126->trans('%s modification', [$var_126->var_20]),
                        1,
                        null,
                        $var_126->var_20,
                        (int) $var_105->var_22,
                        true,
                        (int) $var_126->var_135->var_136->var_22
                    );
                } else {
                    $var_126->var_38[] = $var_126->trans('An error occurred while updating an object.', [], 'Admin.Notifications.Error') .
                        ' <b>' . $var_126->var_16 . '</b> ' . $var_126->trans('(cannot load object)', [], 'Admin.Notifications.Error');
                }
            }
        }
        $var_126->var_38 = array_unique($var_126->var_38);
        if (!empty($var_126->var_38)) {
            
            $var_126->var_98 = 'edit';

            return false;
        }

        if (isset($var_105)) {
            return $var_105;
        }
    }

    
    public function fn_20()
    {
        if (!is_array($var_263 = Tools::getValue('fieldsBox'))) {
            $var_263 = [];
        }

        
        $var_105 = new $var_126->var_20();

        if (!$var_105->addFieldsRequiredDatabase($var_263)) {
            $var_126->var_38[] = $var_126->trans('An error occurred when attempting to update the required fields.', [], 'Admin.Notifications.Error');
        } else {
            $var_126->var_224 = self::$var_3 . '&conf=4&token=' . $var_126->var_24;
        }

        return $var_105;
    }

    
    public function fn_21()
    {
        if (Validate::isLoadedObject($var_105 = $var_126->fn_13())) {
            if ($var_105->toggleStatus()) {
                $var_266 = [];
                if (preg_match('/[\?|&]controller=([^&]*)/', (string) $_SERVER['HTTP_REFERER'], $var_266) !== false
                    && strtolower($var_266[1]) != strtolower(preg_replace('/controller/i', '', get_class($var_126)))) {
                    $var_126->var_224 = preg_replace('/[\?|&]conf=([^&]*)/i', '', (string) $_SERVER['HTTP_REFERER']);
                } else {
                    $var_126->var_224 = self::$var_3 . '&token=' . $var_126->var_24;
                }

                $var_267 = (($var_267 = (int) Tools::getValue('id_category')) && Tools::getValue('id_product')) ? '&id_category=' . $var_267 : '';

                $var_268 = (int) Tools::getValue('page');
                $var_268 = $var_268 > 1 ? '&submitFilter' . $var_126->var_16 . '=' . (int) $var_268 : '';
                $var_126->var_224 .= '&conf=5' . $var_267 . $var_268;
            } else {
                $var_126->var_38[] = $var_126->trans('An error occurred while updating the status.', [], 'Admin.Notifications.Error');
            }
        } else {
            $var_126->var_38[] = $var_126->trans('An error occurred while updating the status for an object.', [], 'Admin.Notifications.Error') .
                ' <b>' . $var_126->var_16 . '</b> ' .
                $var_126->trans('(cannot load object)', [], 'Admin.Notifications.Error');
        }

        return $var_105;
    }

    
    public function fn_22()
    {
        if (!Validate::isLoadedObject($var_105 = $var_126->fn_13())) {
            $var_126->var_38[] = $var_126->trans('An error occurred while updating the status for an object.', [], 'Admin.Notifications.Error') .
                ' <b>' . $var_126->var_16 . '</b> ' . $var_126->trans('(cannot load object)', [], 'Admin.Notifications.Error');
        } elseif (!$var_105->updatePosition((int) Tools::getValue('way'), (int) Tools::getValue('position'))) {
            $var_126->var_38[] = $var_126->trans('Failed to update the position.', [], 'Admin.Notifications.Error');
        } else {
            $var_270 = ($var_271 = (int) Tools::getValue($var_126->var_18)) ? '&' . $var_126->var_18 . '=' . $var_271 : '';
            $var_223 = self::$var_3 . '&' . $var_126->var_16 . 'Orderby=position&' . $var_126->var_16 . 'Orderway=asc&conf=5' . $var_270 . '&token=' . $var_126->var_24;
            $var_126->var_224 = $var_223;
        }

        return $var_105;
    }

    
    public function fn_23($var_17 = null)
    {
        if ($var_17 === null) {
            $var_17 = isset($var_126->var_17) ? $var_126->var_17 : $var_126->var_16;
        }

        $var_205 = $var_126->getCookieOrderByPrefix();
        $var_176 = $var_126->var_135->var_151->getFamily($var_205 . $var_17 . 'Filter_');
        foreach ($var_176 as $var_273 => $var_92) {
            if (strncmp($var_273, $var_205 . $var_17 . 'Filter_', 7 + Tools::strlen($var_205 . $var_17)) == 0) {
                $var_199 = substr($var_273, 7 + Tools::strlen($var_205 . $var_17));
                if (is_array($var_126->var_40) && array_key_exists($var_199, $var_126->var_40)) {
                    $var_126->var_135->var_151->$var_273 = null;
                }
                unset($var_126->var_135->var_151->$var_273);
            }
        }

        if (isset($var_126->var_135->var_151->{'submitFilter' . $var_17})) {
            unset($var_126->var_135->var_151->{'submitFilter' . $var_17});
        }
        if (isset($var_126->var_135->var_151->{$var_205 . $var_17 . 'Orderby'})) {
            unset($var_126->var_135->var_151->{$var_205 . $var_17 . 'Orderby'});
        }
        if (isset($var_126->var_135->var_151->{$var_205 . $var_17 . 'Orderway'})) {
            unset($var_126->var_135->var_151->{$var_205 . $var_17 . 'Orderway'});
        }

        $var_197 = [];
        $var_126->var_58 = false;
        unset(
            $var_126->var_59,
            $var_126->var_86
        );
    }

    
    protected function fn_24()
    {
        $var_126->beforeUpdateOptions();

        $var_275 = class_9::getLanguages(false);

        $var_276 = (class_0::getTotalShops(false, null) < 2) ? true : false;
        foreach ($var_126->var_46 as $var_277) {
            if (!isset($var_277['fields'])) {
                continue;
            }

            $var_263 = $var_277['fields'];

            foreach ($var_263 as $var_177 => $var_278) {
                if (isset($var_278['type']) && $var_278['type'] == 'selectLang') {
                    foreach ($var_275 as $var_57) {
                        if (Tools::getValue($var_177 . '_' . strtoupper($var_57['iso_code']))) {
                            $var_263[$var_177 . '_' . strtoupper($var_57['iso_code'])] = [
                                'type' => 'select',
                                'cast' => 'strval',
                                'identifier' => 'mode',
                                'list' => $var_278['list'],
                            ];
                        }
                    }
                }
            }

            
            foreach ($var_263 as $var_177 => $var_278) {
                
                if (!$var_276 && class_0::isFeatureActive() && isset($var_278['visibility']) && $var_278['visibility'] > class_0::getContext()) {
                    continue;
                }

                
                if ((!class_0::isFeatureActive() && !empty($var_278['required']))
                    || (class_0::isFeatureActive() && isset($var_197['multishopOverrideOption'][$var_177]) && !empty($var_278['required']))) {
                    if (isset($var_278['type']) && $var_278['type'] == 'textLang') {
                        foreach ($var_275 as $var_227) {
                            if (($var_200 = Tools::getValue($var_177 . '_' . $var_227['id_lang'])) == false && (string) $var_200 != '0') {
                                $var_126->var_38[] = $var_126->trans('field %s is required.', [$var_278['title']], 'Admin.Notifications.Error');
                            }
                        }
                    } elseif (($var_200 = Tools::getValue($var_177)) == false && (string) $var_200 != '0') {
                        $var_126->var_38[] = $var_126->trans('field %s is required.', [$var_278['title']], 'Admin.Notifications.Error');
                    }
                }

                
                if (isset($var_278['type']) && $var_278['type'] == 'textLang') {
                    foreach ($var_275 as $var_227) {
                        if (Tools::getValue($var_177 . '_' . $var_227['id_lang']) && isset($var_278['validation'])) {
                            $var_279 = $var_278['validation'];
                            if (!Validate::$var_279(Tools::getValue($var_177 . '_' . $var_227['id_lang']))) {
                                $var_126->var_38[] = $var_126->trans('The %s field is invalid.', [$var_278['title']], 'Admin.Notifications.Error');
                            }
                        }
                    }
                } elseif (Tools::getValue($var_177) && isset($var_278['validation'])) {
                    $var_279 = $var_278['validation'];
                    if (!Validate::$var_279(Tools::getValue($var_177))) {
                        $var_126->var_38[] = $var_126->trans('The %s field is invalid.', [$var_278['title']], 'Admin.Notifications.Error');
                    }
                }

                
                if (Tools::getValue($var_177) === false && isset($var_278['default'])) {
                    $var_197[$var_177] = $var_278['default'];
                }
            }

            if (!count($var_126->var_38)) {
                foreach ($var_263 as $var_199 => $var_280) {
                    if (class_0::isFeatureActive() && isset($var_280['visibility']) && $var_280['visibility'] > class_0::getContext()) {
                        continue;
                    }

                    if (!$var_276 && class_0::isFeatureActive() && class_0::getContext() != var_128::var_129 && empty($var_280['no_multishop_checkbox']) && empty($var_197['multishopOverrideOption'][$var_199])) {
                        Configuration::deleteFromContext($var_199);

                        continue;
                    }

                    
                    $var_281 = 'updateOption' . Tools::toCamelCase($var_199, true);
                    if (method_exists($var_126, $var_281)) {
                        $var_126->$var_281(Tools::getValue($var_199));
                    } elseif (isset($var_280['type']) && in_array($var_280['type'], ['textLang', 'textareaLang'])) {
                        $var_282 = [];
                        foreach ($var_275 as $var_227) {
                            $var_283 = Tools::getValue($var_199 . '_' . $var_227['id_lang']);
                            $var_179 = (isset($var_280['cast']) ? $var_280['cast']($var_283) : $var_283);
                            if ($var_126->validateField($var_179, $var_280)) {
                                if (Validate::isCleanHtml($var_179)) {
                                    $var_282[$var_227['id_lang']] = $var_179;
                                } else {
                                    $var_126->var_38[] = $var_126->trans('Cannot add configuration %1$s for %2$s language', [$var_199, class_9::getIsoById((int) $var_227['id_lang'])], 'Admin.International.Notification');
                                }
                            }
                        }
                        Configuration::updateValue($var_199, $var_282, isset($var_280['validation']) && $var_280['validation'] == 'isCleanHtml' ? true : false);
                    } else {
                        $var_179 = (isset($var_280['cast']) ? $var_280['cast'](Tools::getValue($var_199)) : Tools::getValue($var_199));
                        if ($var_126->validateField($var_179, $var_280)) {
                            if (Validate::isCleanHtml($var_179)) {
                                Configuration::updateValue($var_199, $var_179);
                            } else {
                                $var_126->var_38[] = $var_126->trans('Cannot add configuration %s', [$var_199], 'Admin.Notifications.Error');
                            }
                        }
                    }
                }
            }
        }

        $var_126->var_98 = 'list';
        if (empty($var_126->var_38)) {
            $var_126->var_7[] = $var_126->var_142[6];
        }
    }

    public function fn_25()
    {
        if (empty($var_126->var_51)) {
            $var_126->fn_3();
        }

        if (!is_array($var_126->var_51)) {
            $var_126->var_51 = [$var_126->var_51];
        }

        switch ($var_126->var_98) {
            case 'view':
                
                $var_262 = Tools::safeOutput(Tools::getValue('back', ''));
                if (empty($var_262)) {
                    $var_262 = self::$var_3 . '&token=' . $var_126->var_24;
                }
                if (!Validate::isCleanHtml($var_262)) {
                    die(Tools::displayError());
                }
                if (!$var_126->var_68) {
                    $var_126->var_113['back'] = [
                        'href' => $var_262,
                        'desc' => $var_126->trans('Back to list'),
                    ];
                }
                $var_286 = $var_126->fn_13(true);
                if (Validate::isLoadedObject($var_286) && isset($var_286->{$var_126->var_19}) && !empty($var_286->{$var_126->var_19})) {
                    array_pop($var_126->var_51);
                    array_pop($var_126->var_14);
                    $var_126->var_51[] = is_array($var_286->{$var_126->var_19}) ? $var_286->{$var_126->var_19}[$var_126->var_135->var_136->var_290] : $var_286->{$var_126->var_19};
                    $var_126->addMetaTitle($var_126->var_51[count($var_126->var_51) - 1]);
                }

                break;
            case 'edit':
                $var_286 = $var_126->fn_13(true);
                if (Validate::isLoadedObject($var_286) && isset($var_286->{$var_126->var_19}) && !empty($var_286->{$var_126->var_19})) {
                    array_pop($var_126->var_51);
                    array_pop($var_126->var_14);
                    $var_126->var_51[] = $var_126->trans(
                        'Edit: %s',
                        [
                            (is_array($var_286->{$var_126->var_19})
                                && isset($var_286->{$var_126->var_19}[$var_126->var_135->var_136->var_290])
                            )
                                ? $var_286->{$var_126->var_19}[$var_126->var_135->var_136->var_290]
                                : $var_286->{$var_126->var_19},
                        ]
                    );
                    $var_126->addMetaTitle($var_126->var_51[count($var_126->var_51) - 1]);
                }

                break;
        }

        if (is_array($var_126->var_113)
            && $var_126->var_113 instanceof var_287
            || count($var_126->var_51)) {
            $var_126->var_111 = true;
        }

        if (empty($var_126->var_112)) {
            $var_126->var_112 = $var_126->var_51[count($var_126->var_51) - 1];
        }

        $var_126->addPageHeaderToolBarModulesListButton();

        $var_126->var_135->var_139->assign('help_link', 'https:
            . Tools::getValue('var_239') . '?version=' . var_289 . '&country=' . class_9::getIsoById($var_126->var_135->var_136->var_290));
    }

    
    public function fn_26()
    {
        switch ($var_126->var_98) {
            case 'add':
            case 'edit':
                
                $var_126->var_52['save'] = [
                    'href' => '
                    'var_292' => $var_126->trans('Save'),
                ];
                $var_262 = Tools::safeOutput(Tools::getValue('back', ''));
                if (empty($var_262)) {
                    $var_262 = self::$var_3 . '&token=' . $var_126->var_24;
                }
                if (!Validate::isCleanHtml($var_262)) {
                    die(Tools::displayError());
                }
                if (!$var_126->var_68) {
                    $var_126->var_52['cancel'] = [
                        'href' => $var_262,
                        'desc' => $var_126->trans('Cancel'),
                    ];
                }

                break;
            case 'view':
                
                $var_262 = Tools::safeOutput(Tools::getValue('back', ''));
                if (empty($var_262)) {
                    $var_262 = self::$var_3 . '&token=' . $var_126->var_24;
                }
                if (!Validate::isCleanHtml($var_262)) {
                    die(Tools::displayError());
                }
                if (!$var_126->var_68) {
                    $var_126->var_52['back'] = [
                        'href' => $var_262,
                        'desc' => $var_126->trans('Back to list'),
                    ];
                }

                break;
            case 'options':
                $var_126->var_52['save'] = [
                    'href' => '
                    'var_292' => $var_126->trans('Save'),
                ];

                break;
            default:
                
                $var_126->var_52['new'] = [
                    'href' => self::$var_3 . '&add' . $var_126->var_16 . '&token=' . $var_126->var_24,
                    'desc' => $var_126->trans('Add new'),
                ];
                if ($var_126->var_70) {
                    $var_126->var_52['export'] = [
                        'href' => self::$var_3 . '&export' . $var_126->var_16 . '&token=' . $var_126->var_24,
                        'desc' => $var_126->trans('Export'),
                    ];
                }
        }
        $var_126->addToolBarModulesListButton();
    }

    
    protected function fn_13($var_294 = false)
    {
        if (!isset($var_126->var_20) || empty($var_126->var_20)) {
            return true;
        }

        $var_22 = (int) Tools::getValue($var_126->var_18);
        if ($var_22 && Validate::isUnsignedId($var_22)) {
            if (!$var_126->var_105) {
                $var_126->var_105 = new $var_126->var_20($var_22);
            }
            if (Validate::isLoadedObject($var_126->var_105)) {
                return $var_126->var_105;
            }
            
            $var_126->var_38[] = $var_126->trans('The object cannot be loaded (or found)', [], 'Admin.Notifications.Error');

            return false;
        } elseif ($var_294) {
            if (!$var_126->var_105) {
                $var_126->var_105 = new $var_126->var_20();
            }

            return $var_126->var_105;
        } else {
            $var_126->var_38[] = $var_126->trans('The object cannot be loaded (the identifier is missing or invalid)', [], 'Admin.Notifications.Error');

            return false;
        }
    }

    
    public function fn_27()
    {
        if (!$var_126->fn_8()) {
            
            
            
            $var_295 = preg_replace('/([&?]token=)[^&]*(&.*)?$/', '${1}' . $var_126->var_24 . '$2', $_SERVER['REQUEST_URI']);
            if (false === strpos($var_295, '?token=') && false === strpos($var_295, '&token=')) {
                $var_295 .= '&token=' . $var_126->var_24;
            }
            if (strpos($var_295, '?') === false) {
                $var_295 = str_replace('&token', '?controller=AdminDashboard&token', $var_295);
            }

            $var_126->var_135->var_139->assign('url', htmlentities($var_295));

            return false;
        }

        return true;
    }

    
    protected function fn_10($var_199, $var_92)
    {
        if (!isset($var_126->var_40)) {
            return false;
        }

        foreach ($var_126->var_40 as $var_177) {
            if (array_key_exists('filter_key', $var_177) && $var_177['filter_key'] == $var_199) {
                return $var_177;
            }
        }
        if (array_key_exists($var_92, $var_126->var_40)) {
            return $var_126->var_40[$var_92];
        }

        return false;
    }

    public function fn_28()
    {
        if ($var_126->var_296) {
            $var_126->var_135->var_139->assign([
                'json' => true,
                'status' => $var_126->var_297,
            ]);
        }
        $var_126->var_12 = 'layout-ajax.tpl';
        $var_126->var_298 = false;
        $var_126->var_299 = false;
        $var_126->var_300 = false;

        return $var_126->fn_0();
    }

    protected function fn_14()
    {
        Tools::redirectAdmin($var_126->var_224);
    }

    
    public function fn_0()
    {
        $var_126->var_135->var_139->assign([
            'display_header' => $var_126->var_298,
            'display_header_javascript' => $var_126->var_299,
            'display_footer' => $var_126->var_300,
            'js_def' => Media::getJsDef(),
            'toggle_navigation_url' => $var_126->var_135->var_171->getAdminLink('AdminEmployees', true, [], [
                'action' => 'toggleMenu',
            ]),
        ]);

        
        if (!$var_126->var_14) {
            $var_126->var_14 = $var_126->var_51;
        }
        if (is_array($var_126->var_14)) {
            $var_126->var_14 = strip_tags(implode(' ' . Configuration::get('PS_NAVIGATION_PIPE') . ' ', $var_126->var_14));
        }
        $var_126->var_135->var_139->assign('meta_title', $var_126->var_14);

        $var_302 = $var_126->var_135->var_139->getTemplateDir();

        
        $var_304 = $var_126->var_135->var_139->getTemplateDir(0) . 'controllers' . var_134 . trim($var_126->var_147, '\\/') . var_134;
        $var_305 = $var_126->var_135->var_139->getTemplateDir(0) . 'helpers' . var_134 . 'modules_list' . var_134;

        $var_306 = file_exists($var_304 . 'header.tpl') ? $var_304 . 'header.tpl' : 'header.tpl';
        $var_307 = file_exists($var_304 . 'page_header_toolbar.tpl') ? $var_304 . 'page_header_toolbar.tpl' : 'page_header_toolbar.tpl';
        $var_308 = file_exists($var_304 . 'footer.tpl') ? $var_304 . 'footer.tpl' : 'footer.tpl';
        $var_309 = file_exists($var_305 . 'modal.tpl') ? $var_305 . 'modal.tpl' : '';
        $var_310 = $var_126->var_100 . $var_126->var_98 . '.tpl';

        
        foreach ($var_302 as $var_311) {
            if (file_exists($var_311 . var_134 . $var_310) && $var_126->var_98 != 'view' && $var_126->var_98 != 'options') {
                if (method_exists($var_126, $var_126->var_98 . Tools::toCamelCase($var_126->var_20))) {
                    $var_126->{$var_126->var_98 . Tools::toCamelCase($var_126->var_20)}();
                }
                $var_126->var_135->var_139->assign('content', $var_126->var_135->var_139->fetch($var_310));

                break;
            }
        }

        if (!$var_126->var_214) {
            $var_15 = $var_126->createTemplate($var_126->var_15);
            $var_268 = $var_15->fetch();
        } else {
            $var_268 = $var_126->var_4;
        }

        if ($var_314 = Tools::getValue('conf')) {
            $var_126->var_135->var_139->assign('conf', $var_126->var_296 ? json_encode($var_126->var_142[(int) $var_314]) : $var_126->var_142[(int) $var_314]);
        }

        if ($var_315 = Tools::getValue('error')) {
            $var_126->var_135->var_139->assign('error', $var_126->var_296 ? json_encode($var_126->var_144[(int) $var_315]) : $var_126->var_144[(int) $var_315]);
        }

        foreach (['errors', 'warnings', 'informations', 'confirmations'] as $var_210) {
            if (!is_array($var_126->$var_210)) {
                $var_126->$var_210 = (array) $var_126->$var_210;
            }
            $var_126->var_135->var_139->assign($var_210, $var_126->var_296 ? json_encode(array_unique($var_126->$var_210)) : array_unique($var_126->$var_210));
        }

        if ($var_126->var_111 && !$var_126->var_68) {
            $var_126->var_135->var_139->assign(
                [
                    'page_header_toolbar' => $var_126->var_135->var_139->fetch($var_307),
                ]
            );
            if (!empty($var_309)) {
                $var_126->var_135->var_139->assign(
                    [
                        'modal_module_list' => $var_126->var_135->var_139->fetch($var_309),
                    ]
                );
            }
        }

        $var_126->var_135->var_139->assign('baseAdminUrl', var_316 . basename(var_150) . '/');

        $var_126->var_135->var_139->assign(
            [
                'page' => $var_126->var_296 ? json_encode($var_268) : $var_268,
                'header' => $var_126->var_135->var_139->fetch($var_306),
                'footer' => $var_126->var_135->var_139->fetch($var_308),
            ]
        );

        $var_126->smartyOutputContent($var_126->var_12);
    }

    
    protected function fn_29($var_318)
    {
        $var_126->var_5[] = $var_318;
    }

    
    protected function fn_30($var_318)
    {
        $var_126->var_6[] = $var_318;
    }

    
    public function var_319()
    {
        header('Cache-Control: no-store, no-cache');

        
        $var_320 = class_0::isFeatureActive();

        
        if ((int) $var_126->var_135->var_136->var_22) {
            $var_321 = QuickAccess::getQuickAccessesWithToken($var_126->var_135->var_227->var_22, (int) $var_126->var_135->var_136->var_22);
        }

        $var_167 = $var_126->getTabs();
        $var_323 = 0;
        foreach ($var_167 as $var_324) {
            $var_323 = isset($var_324['current_level']) ? $var_324['current_level'] : $var_323;
        }

        if (Validate::isLoadedObject($var_126->var_135->var_136)) {
            $var_325 = Profile::getProfileAccesses($var_126->var_135->var_136->var_163, 'class_name');
            $var_326 = new class_2();
            
            $var_327 = empty($var_126->var_135->var_136->var_327) ? '
            $this->context->smarty->assign([
                'var_328' => var_329::get('PS_HELPBOX'),
                'round_mode' => Configuration::get('PS_PRICE_ROUND_MODE'),
                'brightness' => Tools::getBrightness($var_327) < 128 ? 'white' : '
                'var_330' => (var_331) $var_126->var_135->var_136->var_330,
                'bo_color' => isset($var_126->var_135->var_136->var_327) ? Tools::htmlentitiesUTF8($var_126->var_135->var_136->var_327) : null,
                'show_new_orders' => Configuration::get('PS_SHOW_NEW_ORDERS') && isset($var_325['AdminOrders']) && $var_325['AdminOrders']['view'],
                'show_new_customers' => Configuration::get('PS_SHOW_NEW_CUSTOMERS') && isset($var_325['AdminCustomers']) && $var_325['AdminCustomers']['view'],
                'show_new_messages' => Configuration::get('PS_SHOW_NEW_MESSAGES') && isset($var_325['AdminCustomerThreads']) && $var_325['AdminCustomerThreads']['view'],
                'employee' => $var_126->var_135->var_136,
                'search_type' => Tools::getValue('bo_search_type'),
                'bo_query' => Tools::safeOutput(Tools::stripslashes(Tools::getValue('bo_query'))),
                'quick_access' => empty($var_321) ? false : $var_321,
                'multi_shop' => class_0::isFeatureActive(),
                'shop_list' => $var_326->getRenderedShopList(),
                'current_shop_name' => $var_326->getCurrentShopName(),
                'shop' => $var_126->var_135->var_145,
                'shop_group' => new class_3((int) class_0::getContextShopGroupID()),
                'is_multishop' => $var_320,
                'multishop_context' => $var_126->var_108,
                'default_tab_link' => $var_126->var_135->var_171->getAdminLink(Tab::getClassNameById((int) Context::getContext()->var_136->var_334)),
                'login_link' => $var_126->var_135->var_171->getAdminLink('AdminLogin'),
                'logout_link' => $var_126->var_135->var_171->getAdminLink('AdminLogin', true, [], ['logout' => 1]),
                'collapse_menu' => isset($var_126->var_135->var_151->var_335) ? (int) $var_126->var_135->var_151->var_335 : 0,
            ]);
        } else {
            $var_126->var_135->var_139->assign('default_tab_link', $var_126->var_135->var_171->getAdminLink('AdminDashboard'));
        }

        
        $var_126->var_135->var_145 = new class_0((int) $var_126->var_135->var_145->var_22);

        $var_126->var_135->var_139->assign([
            'img_dir' => var_237,
            'iso' => $var_126->var_135->var_227->var_336,
            'class_name' => $var_126->var_20,
            'iso_user' => $var_126->var_135->var_227->var_336,
            'lang_is_rtl' => $var_126->var_135->var_227->var_337,
            'country_iso_code' => $var_126->var_135->var_338->var_336,
            'version' => var_289,
            'lang_iso' => $var_126->var_135->var_227->var_336,
            'full_language_code' => $var_126->var_135->var_227->var_339,
            'full_cldr_language_code' => $var_126->var_135->getCurrentLocale()->getCode(),
            'link' => $var_126->var_135->var_171,
            'shop_name' => Configuration::get('PS_SHOP_NAME'),
            'base_url' => $var_126->var_135->var_145->getBaseURL(),
            'current_parent_id' => (int) Tab::getCurrentParentId(),
            'tabs' => $var_167,
            'current_tab_level' => $var_323,
            'install_dir_exists' => file_exists(var_150 . '/../install'),
            'pic_dir' => var_343,
            'controller_name' => htmlentities(Tools::getValue('controller')),
            'currentIndex' => self::$var_3,
            'bootstrap' => $var_126->var_13,
            'default_language' => (int) Configuration::get('PS_LANG_DEFAULT'),
            'display_addons_connection' => Tab::checkTabRights(Tab::getIdFromClassName('AdminModulesController')),
        ]);
    }

    private function getNotificationTip($var_210)
    {
        $var_344 = [
            'order' => [
                $var_126->trans('Did you check your conversion rate lately?', [], 'Admin.Navigation.Notification'),
                $var_126->trans('How about some seasonal discounts?', [], 'Admin.Navigation.Notification'),
                $var_126->trans(
                    'Have you checked your [1][2]abandoned carts[/2][/1]?[3]Your next order could be hiding there!',
                        [
                            '[1]' => '<strong>',
                            '[/1]' => '</strong>',
                            '[2]' => '<a href="' . $var_126->var_135->var_171->getAdminLink('AdminCarts', true, [], ['action' => 'filterOnlyAbandonedCarts']) . '">',
                            '[/2]' => '</a>',
                            '[3]' => '<br>',
                        ],
                        'Admin.Navigation.Notification'
                ),
            ],
            'customer' => [
                $var_126->trans('Have you sent any acquisition email lately?', [], 'Admin.Navigation.Notification'),
                $var_126->trans('Are you active on social media these days?', [], 'Admin.Navigation.Notification'),
                $var_126->trans('Have you considered selling on marketplaces?', [], 'Admin.Navigation.Notification'),
            ],
            'customer_message' => [
                $var_126->trans('That\'s more time for something else!', [], 'Admin.Navigation.Notification'),
                $var_126->trans('No news is good news, isn\'t it?', [], 'Admin.Navigation.Notification'),
                $var_126->trans('Seems like all your customers are happy :)', [], 'Admin.Navigation.Notification'),
            ],
        ];

        if (!var_345($var_344[$var_210])) {
            return '';
        }

        return $var_344[$var_210][array_rand($var_344[$var_210])];
    }

    var_346 function var_322($var_347 = 0, $var_348 = 0)
    {
        $var_167 = Tab::getTabs($var_126->var_135->var_227->var_22, $var_347);
        $var_349 = Tab::getCurrentParentId($var_126->var_107 ? $var_126->var_107 : '');

        foreach ($var_167 as $var_350 => $var_324) {
            if (!Tab::checkTabRights($var_324['id_tab'])
                || !$var_324['enabled']
                || ($var_324['class_name'] == 'AdminStock' && Configuration::get('PS_ADVANCED_STOCK_MANAGEMENT') == 0)
                || $var_324['class_name'] == 'AdminCarrierWizard') {
                unset($var_167[$var_350]);

                continue;
            }

            
            var_351 (($var_324['class_name'] . 'Controller' == get_class($var_126)) || ($var_349 == $var_324['id_tab']) || $var_324['class_name'] == $var_126->var_107) {
                $var_167[$var_350]['current'] = true;
                $var_167[$var_350]['current_level'] = $var_348;
            } var_560 {
                $var_167[$var_350]['current'] = false;
            }
            $var_167[$var_350]['img'] = null;
            $var_167[$var_350]['href'] = $var_126->var_135->var_171->getTabLink($var_324);
            $var_167[$var_350]['sub_tabs'] = array_values($var_126->getTabs($var_324['id_tab'], $var_348 + 1));

            $var_352 = $var_126->getTabLinkFromSubTabs($var_167[$var_350]['sub_tabs']);
            if (!empty($var_352)) {
                $var_167[$var_350]['href'] = $var_352;
            } elseif (0 == $var_167[$var_350]['id_parent'] && '' == $var_167[$var_350]['icon']) {
                unset($var_167[$var_350]);
            } elseif (empty($var_167[$var_350]['icon'])) {
                $var_167[$var_350]['icon'] = 'extension';
            }

            if (array_key_exists($var_350, $var_167) && array_key_exists('sub_tabs', $var_167[$var_350])) {
                foreach ($var_167[$var_350]['sub_tabs'] as $var_354) {
                    if ((int) $var_354['current'] == true) {
                        $var_167[$var_350]['current'] = true;
                        $var_167[$var_350]['current_level'] = $var_354['current_level'];
                    }
                }
            }
        }

        var_215 $var_167;
    }

    
    var_355 function var_356($var_97)
    {
        $var_97 = strtolower($var_97);
        $var_126->var_66[] = $var_97;
    }

    
    var_355 function var_357($var_97, $var_282)
    {
        $var_97 = strtolower($var_97);
        $var_282 = (array) $var_282;

        if (array_key_exists($var_97, $var_126->var_67)) {
            $var_126->var_67[$var_97] = array_merge($var_126->var_67[$var_97], $var_282);
        } var_560 {
            $var_126->var_67[$var_97] = $var_282;
        }
    }

    
    var_355 function var_358()
    {
        if (!$var_126->fn_7()) {
            $var_126->var_38[] = $var_126->trans('You do not have permission to view this.', [], 'Admin.Notifications.Error');

            return;
        }

        var_351 ($var_126->var_98 == 'edit' || $var_126->var_98 == 'add') {
            if (!$var_126->fn_13(true)) {
                var_215;
            }

            $var_126->var_4 .= $var_126->renderForm();
        } var_360 ($var_126->var_98 == 'view') {
            
            if ($var_126->var_20) {
                $var_126->fn_13(true);
            }
            $var_126->var_4 .= $var_126->renderView();
        } var_360 ($var_126->var_98 == 'details') {
            $var_126->var_4 .= $var_126->renderDetails();
        } var_360 (!$var_126->var_214) {
            
            if (get_class($var_126) != 'AdminCarriersController') {
                $var_126->var_4 .= $var_126->renderModulesList();
            }
            $var_126->var_4 .= $var_126->renderKpis();
            $var_126->var_4 .= $var_126->renderList();
            $var_126->var_4 .= $var_126->renderOptions();

            
            if ($var_126->var_23) {
                $var_126->var_4 .= $var_126->displayRequiredFields();
            }
        }

        $var_126->var_135->var_139->assign([
            'content' => $var_126->var_4,
        ]);
    }

    var_355 function var_368()
    {
        $var_126->getLanguages();

        $var_126->fn_26();
        $var_126->initTabModuleList();
        $var_126->fn_25();

        $var_126->var_135->var_139->assign([
            'maintenance_mode' => !(bool) Configuration::get('PS_SHOP_ENABLE'),
            'debug_mode' => (bool) var_371,
            'lite_display' => $var_126->var_68,
            'url_post' => self::$var_3 . '&token=' . $var_126->var_24,
            'show_page_header_toolbar' => $var_126->var_111,
            'page_header_toolbar_title' => $var_126->var_112,
            'title' => $var_126->var_112,
            'toolbar_btn' => $var_126->var_113,
            'page_header_toolbar_btn' => $var_126->var_113,
        ]);
    }

    
    var_372 function var_370()
    {
        if (!$var_126->isFresh(var_374::var_375, 86400)) {
            @file_put_contents(var_376 . var_374::var_375, Tools::addonsRequest('must-have'));
        }
        var_351 (!$var_126->isFresh(var_374::var_377, 604800)) {
            $var_126->refresh(var_374::var_377, var_378);
        }

        $var_126->var_99 = Tab::getTabModulesList($var_126->var_22);

        if (is_array($var_126->var_99['default_list']) && count($var_126->var_99['default_list'])) {
            $var_126->var_41 = $var_126->var_99['default_list'];
        } elseif (is_array($var_126->var_99['slider_list']) && count($var_126->var_99['slider_list'])) {
            $var_126->addToolBarModulesListButton();
            $var_126->addPageHeaderToolBarModulesListButton();
            $var_126->var_135->var_139->assign([
                'tab_modules_list' => implode(',', $var_126->var_99['slider_list']),
                'admin_module_ajax_url' => $var_126->var_135->var_171->getAdminLink('AdminModules'),
                'back_tab_modules_list' => $var_126->var_135->var_171->getAdminLink(Tools::getValue('controller')),
                'tab_modules_open' => (int) Tools::getValue('tab_modules_open'),
            ]);
        }
    }

    var_372 function var_288()
    {
        $var_126->filterTabModuleList();

        if (is_array($var_126->var_99['slider_list']) && count($var_126->var_99['slider_list'])) {
            $var_126->var_113['modules-list'] = [
                'href' => $var_126->getAdminModulesUrl(),
                'desc' => $var_126->trans('Recommended Modules'),
            ];
        }
    }

    protected function var_293()
    {
        $var_126->var_379();

        if (is_array($var_126->var_99['slider_list']) && count($var_126->var_99['slider_list'])) {
            $var_126->var_52['modules-list'] = [
                'href' => $var_126->getAdminModulesUrl(),
                'desc' => $var_126->trans('Recommended Modules'),
            ];
        }
    }

    protected function var_380()
    {
        return $var_126->var_135->var_171->getAdminLink('AdminModulesCatalog');
    }

    var_372 function var_379()
    {
        static $var_381 = null;

        if ($var_381 !== null) {
            var_215;
        }

        if (!$var_126->isFresh(var_374::var_382, 86400)) {
            file_put_contents(var_376 . var_374::var_382, Tools::addonsRequest('native'));
        }

        if (!$var_126->isFresh(var_374::var_383, 86400)) {
            file_put_contents(var_376 . var_374::var_383, Tools::addonsRequest('native_all'));
        }

        if (!$var_126->isFresh(var_374::var_375, 86400)) {
            @file_put_contents(var_376 . var_374::var_375, Tools::addonsRequest('must-have'));
        }

        libxml_use_internal_errors(true);

        $var_384 = file_get_contents(var_376 . var_374::var_382);
        $var_385 = file_get_contents(var_376 . var_374::var_375);
        $var_386 = [];

        if (!empty($var_384) && $var_387 = @simplexml_load_string($var_384)) {
            $var_388 = [];
            if (is_object($var_387->var_389)) {
                foreach ($var_387->var_389 as $var_390 => $var_391) {
                    $var_386[] = (string) $var_391->var_146;
                }
            }
        } var_560 {
            foreach (libxml_get_errors() as $var_315) {
                $var_126->var_38[] = $var_126->trans('Error found : %1$s in country_module_list.xml file.', [$var_315->var_392], 'Admin.Modules.Notification');
            }
        }

        var_393();

        if (!empty($var_385) && $var_394 = @simplexml_load_string($var_385)) {
            $var_395 = [];
            if (is_object($var_387->var_389)) {
                foreach ($var_394->var_389 as $var_396 => $var_397) {
                    $var_386[] = (string) $var_397->var_146;
                }
            }
        } var_560 {
            foreach (libxml_get_errors() as $var_315) {
                $var_126->var_38[] = $var_126->trans('Error found : %1$s in must_have_module_list.xml file.', [$var_315->var_392], 'Admin.Modules.Notification');
            }
        }

        var_393();

        $var_126->var_99['slider_list'] = array_intersect($var_126->var_99['slider_list'], $var_386);

        $var_381 = true;
    }

    
    var_355 function var_398()
    {
        $var_126->var_12 = 'invalid_token.tpl';
    }

    
    var_355 function var_399()
    {
        
        
        
        if ($var_126->var_135->var_227->var_337) {
            $var_126->addJS(var_401 . 'rtl.js');
            $var_126->addCSS(var_316 . $var_126->var_115 . '/themes/' . $var_126->var_101 . '/css/' . $var_126->var_135->var_227->var_336 . '.css', 'all', false);
        }

        
        $var_126->var_135->var_139->assign('css_files', $var_126->var_402);
        $var_126->var_135->var_139->assign('js_files', array_unique($var_126->var_403));

        $var_126->var_135->var_139->assign([
            'ps_version' => var_289,
            'timer_start' => $var_126->var_125,
            'iso_is_fr' => strtoupper($var_126->var_135->var_227->var_336) == 'FR',
            'modals' => $var_126->renderModal(),
        ]);
    }

    
    var_355 function var_405()
    {
        if ($var_126->var_119) {
            $var_126->var_135->var_139->assign([
                'logged_on_addons' => 1,
                'username_addons' => $var_126->var_135->var_151->var_152,
            ]);
        }

        
        $var_406 = strtoupper($var_126->var_135->var_227->var_336);

        $var_126->var_135->var_139->assign([
            'img_base_path' => var_316 . basename(var_150) . '/',
            'check_url_fopen' => (ini_get('allow_url_fopen') ? 'ok' : 'ko'),
            'check_openssl' => (extension_loaded('openssl') ? 'ok' : 'ko'),
            'add_permission' => 1,
            'addons_register_link' => 'https:
                . 'var_407=' . urlencode($var_126->var_135->var_136->var_407)
                . '&firstname=' . urlencode($var_126->var_135->var_136->var_408)
                . '&lastname=' . urlencode($var_126->var_135->var_136->var_409)
                . '&website=' . urlencode($var_126->var_135->var_145->getBaseURL())
                . '&utm_source=back-office&utm_medium=connect-to-addons'
                . '&utm_campaign=back-office-' . Tools::strtoupper($var_126->var_135->var_227->var_336)
                . '&utm_content=' . (defined('_PS_HOST_MODE_') ? 'cloud' : 'download') . '
            'var_410' => '
        ]);

        $var_126->var_118[] = [
            'modal_id' => 'modal_addons_connect',
            'modal_class' => 'modal-md',
            'modal_title' => '<i class="icon-puzzle-piece"></i> <a target="_blank" href="https:
            . '?var_411=var_262-var_412&var_413=var_414'
            . '&utm_campaign=back-office-' . Tools::strtoupper($var_126->var_135->var_227->var_336)
            . '&utm_content=' . (defined('_PS_HOST_MODE_') ? 'cloud' : 'download') . '">PrestaShop Addons</a>',
            'modal_content' => $var_126->var_135->var_139->fetch('controllers/modules/login_addons.tpl'),
        ];
    }

    
    var_355 function var_404()
    {
        $var_415 = '';
        if (is_array($var_126->var_118) && count($var_126->var_118)) {
            foreach ($var_126->var_118 as $var_416) {
                $var_126->var_135->var_139->assign($var_416);
                $var_415 .= $var_126->var_135->var_139->fetch('modal.tpl');
            }
        }

        var_215 $var_415;
    }

    
    var_355 function var_363($var_417 = false)
    {
        var_215 '';
    }

    
    var_355 function var_365()
    {
        if (!($var_126->var_40 && is_array($var_126->var_40))) {
            var_215 false;
        }
        $var_126->getList($var_126->var_135->var_227->var_22);

        
        if (isset($var_126->var_40) && is_array($var_126->var_40) && array_key_exists('active', $var_126->var_40)
            && !empty($var_126->var_40['active'])) {
            if (!is_array($var_126->var_79)) {
                $var_126->var_79 = [];
            }

            $var_126->var_79 = array_merge([
                'enableSelection' => [
                    'text' => $var_126->trans('Enable selection'),
                    'icon' => 'icon-power-off text-success',
                ],
                'disableSelection' => [
                    'text' => $var_126->trans('Disable selection'),
                    'icon' => 'icon-power-off text-danger',
                ],
                'divider' => [
                    'text' => 'divider',
                ],
            ], $var_126->var_79);
        }

        $var_73 = new class_4();

        
        if (!is_array($var_126->var_49)) {
            $var_126->fn_29($var_126->trans('Bad SQL query') . '<br />' . htmlspecialchars($var_126->var_50));

            return false;
        }

        $var_126->setHelperDisplay($var_73);
        $var_73->var_62 = $var_126->var_62;
        $var_73->var_61 = $var_126->var_61;
        $var_73->var_419 = $var_126->getTemplateListVars();
        $var_73->var_30 = $var_126->var_30;

        
        foreach ($var_126->var_65 as $var_97) {
            if (!in_array($var_97, $var_126->var_66) && isset($var_126->$var_97) && $var_126->$var_97) {
                $var_126->var_66[] = $var_97;
            }
        }

        $var_73->var_88 = $var_126->var_88;
        $var_73->var_421 = $var_126->var_48;
        $var_282 = $var_73->generateList($var_126->var_49, $var_126->var_40);

        return $var_282;
    }

    var_355 function var_420()
    {
        var_215 $var_126->var_29;
    }

    
    var_355 function var_361()
    {
        $var_73 = new class_5($var_126);
        $var_126->setHelperDisplay($var_73);
        $var_73->var_419 = $var_126->getTemplateViewVars();
        if (null !== $var_126->var_34) {
            $var_73->var_424 = $var_126->var_34;
        }
        $var_425 = $var_73->generateView();

        return $var_425;
    }

    var_355 function var_423()
    {
        var_215 $var_126->var_32;
    }

    
    var_355 function var_362()
    {
        var_215 $var_126->renderList();
    }

    
    var_355 function var_359()
    {
        if (!$var_126->var_10) {
            $var_126->getLanguages();
        }

        var_351 (Tools::getValue('submitFormAjax')) {
            $var_126->var_4 .= $var_126->var_135->var_139->fetch('form_submit_ajax.tpl');
        }

        var_351 ($var_126->var_43 && is_array($var_126->var_43)) {
            if (!$var_126->var_36) {
                $var_126->var_43 = [['form' => $var_126->var_43]];
            }

            
            if (is_array($var_126->var_44) && !empty($var_126->var_44)) {
                $var_126->var_43[0]['form']['input'] = array_merge($var_126->var_43[0]['form']['input'], $var_126->var_44);
            }

            $var_37 = $var_126->getFieldsValue($var_126->var_105);

            Hook::exec('action' . $var_126->var_107 . 'FormModifier', [
                'object' => &$var_126->var_105,
                'fields' => &$var_126->var_43,
                'fields_value' => &$var_37,
                'form_vars' => &$var_126->var_28,
            ]);

            $var_73 = new class_6($var_126);
            $var_126->setHelperDisplay($var_73);
            $var_73->var_37 = $var_37;
            $var_73->var_45 = $var_126->var_45;
            $var_73->var_419 = $var_126->getTemplateFormVars();
            $var_73->var_429 = (isset($var_126->var_114)) ? $var_126->var_114 : ($var_126->var_98 == 'add' || $var_126->var_98 == 'edit');

            $var_262 = urldecode(Tools::getValue('back', ''));
            if (empty($var_262)) {
                $var_262 = self::$var_3 . '&token=' . $var_126->var_24;
            }
            if (!Validate::isCleanHtml($var_262)) {
                die(Tools::displayError());
            }

            $var_73->var_430 = $var_262;
            null !== $var_126->var_35 ? $var_73->var_424 = $var_126->var_35 : '';
            if ($var_126->fn_6('view')) {
                if (Tools::getValue('back')) {
                    $var_73->var_419['back'] = Tools::safeOutput(Tools::getValue('back'));
                } var_560 {
                    $var_73->var_419['back'] = Tools::safeOutput(Tools::getValue(self::$var_3 . '&token=' . $var_126->var_24));
                }
            }
            $var_431 = $var_73->generateForm($var_126->var_43);

            return $var_431;
        }
    }

    var_355 function var_428()
    {
        var_215 $var_126->var_28;
    }

    var_355 function var_364()
    {
    }

    
    public function renderOptions()
    {
        Hook::exec('action' . $var_126->var_107 . 'OptionsModifier', [
            'options' => &$var_126->var_46,
            'option_vars' => &$var_126->var_31,
        ]);

        if ($var_126->var_46 && is_array($var_126->var_46)) {
            if (isset($var_126->var_98) && $var_126->var_98 != 'options' && $var_126->var_98 != 'list') {
                $var_126->var_54 = false;
            } var_560 {
                $var_126->var_98 = 'options';
            }

            var_433($var_126->var_52);
            $var_126->fn_26();
            $var_73 = new class_7($var_126);
            $var_126->setHelperDisplay($var_73);
            $var_73->var_22 = $var_126->var_22;
            $var_73->var_419 = $var_126->var_31;
            $var_280 = $var_73->generateOptions($var_126->var_46);

            return $var_280;
        }
    }

    
    var_355 function var_418(var_435 $var_73)
    {
        if (empty($var_126->var_51)) {
            $var_126->fn_3();
        }
        
        var_351 ($var_126->var_105 && $var_126->var_105->var_22) {
            $var_73->var_22 = $var_126->var_105->var_22;
        }

        
        $var_73->var_436 = is_array($var_126->var_51) ? implode(' ' . Configuration::get('PS_NAVIGATION_PIPE') . ' ', $var_126->var_51) : $var_126->var_51;
        $var_73->var_52 = $var_126->var_52;
        $var_73->var_54 = $var_126->var_54;
        $var_73->var_53 = $var_126->var_53;
        $var_73->var_147 = $var_126->var_100;
        $var_73->var_66 = $var_126->var_66;
        $var_73->var_437 = $var_126->var_39;
        $var_73->var_79 = $var_126->var_79;
        $var_73->var_3 = self::$var_3;
        $var_73->var_20 = $var_126->var_20;
        $var_73->var_16 = $var_126->var_16;
        $var_73->var_438 = Tools::getValue('controller');
        $var_73->var_439 = $var_126->var_63;
        $var_73->var_440 = $var_126->var_64;
        $var_73->var_441 = $var_126->var_56;
        $var_73->var_47 = $var_126->var_47;
        $var_73->var_25 = $var_126->var_25;
        $var_73->var_18 = $var_126->var_18;
        $var_73->var_24 = $var_126->var_24;
        $var_73->var_275 = $var_126->var_9;
        $var_73->var_94 = $var_126->var_94;
        $var_73->var_104 = $var_126->var_104;
        $var_73->var_442 = $var_126->var_69;
        $var_73->var_95 = $var_126->var_95;
        $var_73->var_443 = (isset($var_126->var_443) ? $var_126->var_443 : null);
        $var_73->var_10 = $var_126->var_10;
        $var_73->var_11 = $var_126->var_11;
        $var_73->var_36 = $var_126->var_36;
        $var_73->var_96 = $var_126->var_96;
        $var_73->var_89 = $var_126->var_89;
        $var_73->var_90 = $var_126->var_90;
        $var_73->var_107 = $var_126->var_107;
        $var_73->var_17 = isset($var_126->var_17) ? $var_126->var_17 : $var_126->var_16;
        $var_73->var_13 = $var_126->var_13;

        
        $var_73->var_67 = $var_126->var_67;

        $var_126->var_73 = $var_73;
    }

    
    var_355 function var_444()
    {
    }

    public function setMedia($var_445 = false)
    {
        if ($var_445) {
            $var_126->addCSS(var_316 . $var_126->var_115 . '/themes/new-theme/public/theme.css', 'all', 1);
            $var_126->addJS(var_316 . $var_126->var_115 . '/themes/new-theme/public/main.bundle.js');
            $var_126->addJqueryPlugin(['chosen']);
        } var_560 {
            
            $var_126->addCSS(var_316 . $var_126->var_115 . '/themes/' . $var_126->var_101 . '/css/' . $var_126->var_137, 'all', 0);
            $var_126->addCSS(var_316 . $var_126->var_115 . '/themes/' . $var_126->var_101 . '/css/vendor/titatoggle-min.css', 'all', 0);
            $var_126->addCSS(var_316 . $var_126->var_115 . '/themes/' . $var_126->var_101 . '/public/theme.css', 'all', 0);

            
            $var_126->addJs(var_401 . 'jquery/jquery-3.4.1.min.js');
            $var_126->addJs(var_401 . 'jquery/jquery-migrate-3.1.0.min.js');
            
            $var_126->addJs(var_401 . 'jquery/jquery.browser-0.1.0.min.js');
            $var_126->addJs(var_401 . 'jquery/jquery.live-polyfill-1.0.3.min.js');

            $var_126->addJqueryPlugin(['scrollTo', 'alerts', 'chosen', 'autosize', 'fancybox']);
            $var_126->addJqueryPlugin('growl', null, false);
            $var_126->addJqueryUI(['ui.slider', 'ui.datepicker']);

            $var_126->addJS(var_316 . $var_126->var_115 . '/themes/' . $var_126->var_101 . '/js/vendor/bootstrap.min.js');
            $var_126->addJS(var_316 . $var_126->var_115 . '/themes/' . $var_126->var_101 . '/js/vendor/modernizr.min.js');
            $var_126->addJS(var_316 . $var_126->var_115 . '/themes/' . $var_126->var_101 . '/js/modernizr-loads.js');
            $var_126->addJS(var_316 . $var_126->var_115 . '/themes/' . $var_126->var_101 . '/js/vendor/moment-with-langs.min.js');
            $var_126->addJS(var_316 . $var_126->var_115 . '/themes/' . $var_126->var_101 . '/public/bundle.js');

            $var_126->addJS(var_401 . 'jquery/plugins/timepicker/jquery-ui-timepicker-addon.js');

            if (!$var_126->var_68) {
                $var_126->addJS(var_316 . $var_126->var_115 . '/themes/' . $var_126->var_101 . '/js/help.js');
            }

            if (!Tools::getValue('submitFormAjax')) {
                $var_126->addJS(var_401 . 'admin/notifications.js');
            }

            if (defined('_PS_HOST_MODE_') && var_154) {
                $var_126->addJS('https:

                Media::addJsDefL('var_450', $var_126->trans('Operational'));
                Media::addJsDefL('status_degraded_performance', $var_126->trans('Degraded Performance'));
                Media::addJsDefL('status_partial_outage', $var_126->trans('Partial Outage'));
                Media::addJsDefL('status_major_outage', $var_126->trans('Major Outage'));
                Media::addJsDef(['host_cluster' => defined('_PS_HOST_CLUSTER_') ? var_451 : 'fr1']);
            }

            
            $var_126->addCSS(var_316 . $var_126->var_115 . '/themes/' . $var_126->var_101 . '/css/overrides.css', 'all', var_452);
        }

        $var_126->addJS([
            var_401 . 'admin.js?v=' . var_289, 
            var_316 . $var_126->var_115 . '/themes/new-theme/public/cldr.bundle.js',
            var_401 . 'tools.js?v=' . var_289,
            var_316 . $var_126->var_115 . '/public/bundle.js',
        ]);

        var_453::var_454([
            'var_455' => $var_126->var_135->var_171->var_301(
                'var_456',
                true,
                [],
                ['var_97' => 'var_457']
            ),
        ]);
        var_453::var_454(['var_458' => (var_459('var_154') && var_154)]);
        var_453::var_454(['var_460' => var_316]);
        var_453::var_454(['var_461' => var_316 . basename(var_150) . '/']);
        Media::addJsDef(['currency' => [
            'iso_code' => Context::getContext()->var_462->var_336,
            'sign' => Context::getContext()->var_462->var_463,
            'name' => Context::getContext()->var_462->var_146,
            'format' => Context::getContext()->var_462->var_464,
        ]]);
        var_453::var_454(
            [
                'currency_specifications' => $var_126->var_729($var_126->var_135),
                'number_specifications' => $var_126->var_737($var_126->var_135),
            ]
        );

        
        var_521::var_522('actionAdminControllerSetMedia');
    }

    
    var_372 function var_396($var_465, $var_466 = null, $var_467 = false, $var_468 = true)
    {
        $var_469 = $var_126->var_470->trans($var_465);
        if ($var_469 !== $var_465) {
            var_215 $var_469;
        }

        if ($var_466 === null || $var_466 == 'AdminTab') {
            $var_466 = substr(get_class($var_126), 0, -10);
        } elseif (strtolower(substr($var_466, -10)) == 'controller') {
            
            $var_466 = substr($var_466, 0, -10);
        }

        var_215 Translate::getAdminTranslation($var_465, $var_466, $var_467, $var_468);
    }

    
    var_355 function var_471()
    {
        parent::init();

        if (Tools::getValue('ajax')) {
            $var_126->var_214 = '1';
        }

        if (null === $var_126->var_135->var_171) {
            $var_472 = (Tools::usingSecureMode() && Configuration::get('PS_SSL_ENABLED')) ? 'https:
            $protocol_content = (Tools::usingSecureMode() && Configuration::get('var_473')) ? 'https:
            $this->context->link = new Link($protocol_link, $protocol_content);
        }

        if (isset($_GET['logout'])) {
            $var_126->var_135->var_136->logout();
        }
        var_351 (isset(Context::getContext()->var_151->var_474)) {
            if ($var_126->var_135->var_151->var_474 + self::var_122 < time()) {
                $var_126->var_135->var_136->logout();
            } var_560 {
                $var_126->var_135->var_151->var_474 = time();
            }
        }

        var_351 (
            !$var_126->isAnonymousAllowed()
            && (
                $var_126->var_107 != 'AdminLogin'
                && (
                    !isset($var_126->var_135->var_136)
                    || !$var_126->var_135->var_136->isLoggedBack()
                )
            )
        ) {
            if (isset($var_126->var_135->var_136)) {
                $var_126->var_135->var_136->logout();
            }
            $var_407 = false;
            if (Tools::getValue('email') && Validate::isEmail(Tools::getValue('email'))) {
                $var_407 = Tools::getValue('email');
            }
            Tools::redirectAdmin($var_126->var_135->var_171->getAdminLink('AdminLogin') . ((!isset($var_198['logout']) && $var_126->var_107 != 'AdminNotFound' && Tools::getValue('controller')) ? '&redirect=' . $var_126->var_107 : '') . ($var_407 ? '&email=' . $var_407 : ''));
        }

        
        $var_476 = 'index.php' . (($var_239 = Tools::getValue('controller')) ? '?controller=' . $var_239 : '');
        if ($var_262 = Tools::getValue('back')) {
            $var_476 .= '&back=' . urlencode($var_262);
        }
        self::$var_3 = $var_476;

        if ((int) Tools::getValue('liteDisplaying')) {
            $var_126->var_298 = false;
            $var_126->var_299 = true;
            $var_126->var_300 = false;
            $var_126->var_477 = false;
            $var_126->var_68 = true;
        }

        if ($var_126->var_214 && method_exists($var_126, 'ajaxPreprocess')) {
            $var_126->ajaxPreProcess();
        }

        $var_126->var_135->var_139->assign([
            'table' => $var_126->var_16,
            'current' => self::$var_3,
            'token' => $var_126->var_24,
            'host_mode' => defined('_PS_HOST_MODE_') ? 1 : 0,
            'stock_management' => (int) Configuration::get('PS_STOCK_MANAGEMENT'),
            'no_order_tip' => $var_126->getNotificationTip('order'),
            'no_customer_tip' => $var_126->getNotificationTip('customer'),
            'no_customer_message_tip' => $var_126->getNotificationTip('customer_message'),
        ]);

        if ($var_126->var_298) {
            $var_126->var_135->var_139->assign('displayBackOfficeHeader', Hook::exec('displayBackOfficeHeader', []));
        }

        $var_126->var_135->var_139->assign([
            'displayBackOfficeTop' => Hook::exec('displayBackOfficeTop', []),
            'submit_form_ajax' => (int) Tools::getValue('submitFormAjax'),
        ]);

        Employee::setLastConnectionDate($var_126->var_135->var_136->var_22);

        $var_126->initProcess();
        $var_126->fn_2();
        $var_126->initModal();
        $var_126->initToolbarFlags();
        $var_126->initNotifications();
    }

    
    public function initNotifications()
    {
        $var_481 = [
            'show_new_orders' => Configuration::get('PS_SHOW_NEW_ORDERS'),
            'show_new_customers' => Configuration::get('PS_SHOW_NEW_CUSTOMERS'),
            'show_new_messages' => Configuration::get('PS_SHOW_NEW_MESSAGES '),
        ];

        $var_126->var_135->var_139->var_164($var_481);

        Media::addJsDef($var_481);
    }

    
    var_355 function var_148()
    {
        
        if (defined('PS_INSTALLATION_IN_PROGRESS')) {
            var_215;
        }

        
        var_351 (class_0::isFeatureActive() && Tools::getValue('setShopContext') !== false) {
            $var_126->var_135->var_151->var_482 = Tools::getValue('setShopContext');
            $var_295 = parse_url($_SERVER['REQUEST_URI']);
            $var_483 = (isset($var_295['query'])) ? $var_295['query'] : '';
            parse_str($var_483, $var_484);
            unset($var_484['setShopContext'], $var_484['conf']);
            $var_485 = http_build_query($var_484, '', '&');
            $var_126->var_224 = $var_295['path'] . ($var_485 ? '?' . $var_485 : '');
        } var_360 (!class_0::isFeatureActive()) {
            $var_126->var_135->var_151->var_482 = 's-' . (int) Configuration::get('PS_SHOP_DEFAULT');
        } var_360 (class_0::getTotalShops(false, null) < 2 && $var_126->var_135->var_136->isLoggedBack()) {
            $var_126->var_135->var_151->var_482 = 's-' . (int) $var_126->var_135->var_136->getDefaultShopID();
        }

        $var_487 = null;
        var_128::var_488(var_128::var_129);
        if ($var_126->var_135->var_151->var_482 && $var_126->var_135->var_136->isLoggedBack()) {
            $var_489 = var_490('-', $this->context->cookie->shopContext);
            if (count($split) == 2) {
                if ($split[0] == 'g') {
                    if ($var_126->var_135->var_136->hasAuthOnShopGroup((int) $var_489[1])) {
                        class_0::setContext(var_128::var_130, (int) $var_489[1]);
                    } var_560 {
                        $var_487 = (int) $var_126->var_135->var_136->getDefaultShopID();
                        class_0::setContext(var_128::var_131, $var_487);
                    }
                } var_360 (class_0::getShop($var_489[1]) && $var_126->var_135->var_136->hasAuthOnShop($var_489[1])) {
                    $var_487 = (int) $var_489[1];
                    class_0::setContext(var_128::var_131, $var_487);
                } var_560 {
                    $var_487 = (int) $var_126->var_135->var_136->getDefaultShopID();
                    class_0::setContext(var_128::var_131, $var_487);
                }
            }
        }

        
        if (!($var_126->var_108 & class_0::getContext())) {
            if (var_128::var_493() == var_128::var_131 && !($var_126->var_108 & var_128::var_131)) {
                var_128::var_488(var_128::var_130, var_128::var_494());
            }
            if (var_128::var_493() == var_128::var_130 && !($var_126->var_108 & var_128::var_130)) {
                var_128::var_488(var_128::var_129);
            }
        }

        
        if (!$var_487) {
            $var_126->var_135->var_145 = new var_128((int) var_329::var_495('var_496'));
        } elseif ($var_126->var_135->var_145->var_22 != $var_487) {
            $var_126->var_135->var_145 = new var_128((int) $var_487);
        }

        
        $var_126->var_135->var_338 = new var_497((int) var_329::var_495('var_498'));
        $var_126->var_135->var_462 = new var_499(var_329::var_495('var_500'));
    }

    
    public function var_479()
    {
        if (!var_345($var_126->var_17)) {
            $var_126->var_17 = $var_126->var_16;
        }

        
        if (var_501::var_502('var_503' . $var_126->var_17)
            || $var_126->var_135->var_151->{'submitFilter' . $var_126->var_17} !== false
            || Tools::getValue($var_126->var_17 . 'Orderby')
            || Tools::getValue($var_126->var_17 . 'Orderway')) {
            $var_126->var_92 = true;
        }

        $var_126->var_106 = (int) var_501::var_504($var_126->var_18);

        
        if (var_345($var_198['var_222'])) {
            if ($var_126->var_185('var_244')) {
                $var_126->var_97 = 'var_505';
            } else {
                $var_126->var_38[] = $var_126->var_143('var_506 do var_507 var_508 var_509 var_510 var_244 var_126.', [], 'var_511.var_512.Error');
            }
        } elseif (isset($var_198['delete' . $var_126->var_16])) {
            
            if ($var_126->fn_6('delete')) {
                $var_126->var_97 = 'delete';
            } var_560 {
                $var_126->var_38[] = $var_126->trans('You do not have permission to delete this.', [], 'Admin.Notifications.Error');
            }
        } var_360 ((isset($var_198['status' . $var_126->var_16]) || isset($var_198['status'])) && Tools::getValue($var_126->var_18)) {
            
            if ($var_126->fn_6('edit')) {
                $var_126->var_97 = 'status';
            } var_560 {
                $var_126->var_38[] = $var_126->trans('You do not have permission to edit this.', [], 'Admin.Notifications.Error');
            }
        } var_360 (isset($var_198['position'])) {
            
            if ($var_126->fn_6('edit') == '1') {
                $var_126->var_97 = 'position';
            } var_560 {
                $var_126->var_38[] = $var_126->trans('You do not have permission to edit this.', [], 'Admin.Notifications.Error');
            }
        } var_360 (Tools::isSubmit('submitAdd' . $var_126->var_16)
                 || Tools::isSubmit('submitAdd' . $var_126->var_16 . 'AndStay')
                 || Tools::isSubmit('submitAdd' . $var_126->var_16 . 'AndPreview')
                 || Tools::isSubmit('submitAdd' . $var_126->var_16 . 'AndBackToParent')) {
            
            if ($var_126->var_106) {
                if ($var_126->fn_6('edit')) {
                    $var_126->var_97 = 'save';
                    if (Tools::isSubmit('submitAdd' . $var_126->var_16 . 'AndStay')) {
                        $var_126->var_98 = 'edit';
                    } var_560 {
                        $var_126->var_98 = 'list';
                    }
                } var_560 {
                    $var_126->var_38[] = $var_126->trans('You do not have permission to edit this.', [], 'Admin.Notifications.Error');
                }
            } var_560 {
                
                if ($var_126->fn_6('add')) {
                    $var_126->var_97 = 'save';
                    if (Tools::isSubmit('submitAdd' . $var_126->var_16 . 'AndStay')) {
                        $var_126->var_98 = 'edit';
                    } var_560 {
                        $var_126->var_98 = 'list';
                    }
                } var_560 {
                    $var_126->var_38[] = $var_126->trans('You do not have permission to add this.', [], 'Admin.Notifications.Error');
                }
            }
        } var_360 (isset($var_198['add' . $var_126->var_16])) {
            if ($var_126->fn_6('add')) {
                $var_126->var_97 = 'new';
                $var_126->var_98 = 'add';
            } var_560 {
                $var_126->var_38[] = $var_126->trans('You do not have permission to add this.', [], 'Admin.Notifications.Error');
            }
        } var_360 (isset($var_198['update' . $var_126->var_16], $var_198[$var_126->var_18])) {
            $var_126->var_98 = 'edit';
            if (!$var_126->fn_6('edit')) {
                $var_126->var_38[] = $var_126->trans('You do not have permission to edit this.', [], 'Admin.Notifications.Error');
            }
        } var_360 (isset($var_198['view' . $var_126->var_16])) {
            if ($var_126->fn_6('view')) {
                $var_126->var_98 = 'view';
                $var_126->var_97 = 'view';
            } var_560 {
                $var_126->var_38[] = $var_126->trans('You do not have permission to view this.', [], 'Admin.Notifications.Error');
            }
        } var_360 (isset($var_198['details' . $var_126->var_16])) {
            if ($var_126->fn_6('view')) {
                $var_126->var_98 = 'details';
                $var_126->var_97 = 'details';
            } var_560 {
                $var_126->var_38[] = $var_126->trans('You do not have permission to view this.', [], 'Admin.Notifications.Error');
            }
        } var_360 (isset($var_198['export' . $var_126->var_16])) {
            if ($var_126->fn_6('view')) {
                $var_126->var_97 = 'export';
            }
        } var_360 (isset($var_197['submitReset' . $var_126->var_17])) {
            
            $var_126->var_97 = 'reset_filters';
        } var_360 (Tools::isSubmit('submitOptions' . $var_126->var_16) || Tools::isSubmit('submitOptions')) {
            
            $var_126->var_98 = 'options';
            if ($var_126->fn_6('edit')) {
                $var_126->var_97 = 'update_options';
            } var_560 {
                $var_126->var_38[] = $var_126->trans('You do not have permission to edit this.', [], 'Admin.Notifications.Error');
            }
        } var_360 (Tools::getValue('action') && method_exists($var_126, 'process' . ucfirst(Tools::toCamelCase(Tools::getValue('action'))))) {
            $var_126->var_97 = Tools::getValue('action');
        } var_360 (Tools::isSubmit('submitFields') && $var_126->var_23 && $var_126->fn_6('add') && $var_126->fn_6('delete')) {
            $var_126->var_97 = 'update_fields';
        } var_360 (is_array($var_126->var_79)) {
            $var_513 = array_merge([
                'enableSelection' => [
                    'text' => $var_126->trans('Enable selection'),
                    'icon' => 'icon-power-off text-success',
                ],
                'disableSelection' => [
                    'text' => $var_126->trans('Disable selection'),
                    'icon' => 'icon-power-off text-danger',
                ],
            ], $var_126->var_79);
            foreach ($var_513 as $var_514 => $var_235) {
                if (Tools::isSubmit('submitBulk' . $var_514 . $var_126->var_16) || Tools::isSubmit('submitBulk' . $var_514)) {
                    if ($var_514 === 'delete') {
                        if ($var_126->fn_6('delete')) {
                            $var_126->var_97 = 'bulk' . $var_514;
                            $var_126->var_80 = Tools::getValue($var_126->var_16 . 'Box');
                            if (empty($var_126->var_80) && $var_126->var_16 == 'attribute') {
                                $var_126->var_80 = Tools::getValue($var_126->var_16 . '_valuesBox');
                            }
                        } var_560 {
                            $var_126->var_38[] = $var_126->trans('You do not have permission to delete this.', [], 'Admin.Notifications.Error');
                        }

                        var_545;
                    } var_360 ($var_126->fn_6('edit')) {
                        $var_126->var_97 = 'bulk' . $var_514;
                        $var_126->var_80 = Tools::getValue($var_126->var_16 . 'Box');
                    } var_560 {
                        $var_126->var_38[] = $var_126->trans('You do not have permission to edit this.', [], 'Admin.Notifications.Error');
                    }

                    var_545;
                } var_360 (Tools::isSubmit('submitBulk')) {
                    if ($var_514 === 'delete') {
                        if ($var_126->fn_6('delete')) {
                            $var_126->var_97 = 'bulk' . $var_514;
                            $var_126->var_80 = Tools::getValue($var_126->var_16 . 'Box');
                        } var_560 {
                            $var_126->var_38[] = $var_126->trans('You do not have permission to delete this.', [], 'Admin.Notifications.Error');
                        }

                        var_545;
                    } var_360 ($var_126->fn_6('edit')) {
                        $var_126->var_97 = 'bulk' . Tools::getValue('select_submitBulk');
                        $var_126->var_80 = Tools::getValue($var_126->var_16 . 'Box');
                    } var_560 {
                        $var_126->var_38[] = $var_126->trans('You do not have permission to edit this.', [], 'Admin.Notifications.Error');
                    }

                    var_545;
                }
            }
        } elseif (!var_515($var_126->var_46) && empty($var_126->var_40)) {
            $var_126->var_98 = 'var_280';
        }
    }

    
    public function var_226(
        $var_290,
        $var_516 = null,
        $var_517 = null,
        $var_518 = 0,
        $var_519 = null,
        $var_520 = false
    ) {
        var_521::var_522('var_97' . $var_126->var_107 . 'ListingFieldsModifier', [
            'select' => &$var_126->var_82,
            'join' => &$var_126->var_83,
            'where' => &$var_126->var_84,
            'group_by' => &$var_126->var_85,
            'order_by' => &$var_126->var_63,
            'order_way' => &$var_126->var_64,
            'fields' => &$var_126->var_40,
        ]);

        if (!var_345($var_126->var_17)) {
            $var_126->var_17 = $var_126->var_16;
        }

        if (!Validate::isTableOrIdentifier($var_126->var_16)) {
            throw new class_1(sprintf('Table name %s is invalid:', $var_126->var_16));
        }

        
        if (!is_numeric($var_518) || !Validate::isUnsignedId($var_290)) {
            throw new class_1('get list params is not valid');
        }

        $var_519 = $var_126->checkSqlLimit($var_519);

        
        $var_518 = 0;
        if ((int) Tools::getValue('submitFilter' . $var_126->var_17)) {
            $var_518 = ((int) Tools::getValue('submitFilter' . $var_126->var_17) - 1) * $var_519;
        } elseif (
            empty($var_518)
            && isset($var_126->var_135->var_151->{$var_126->var_17 . '_start'})
            && Tools::isSubmit('export' . $var_126->var_16)
        ) {
            $var_518 = $var_126->var_135->var_151->{$var_126->var_17 . '_start'};
        }

        
        if ($var_518) {
            $var_126->var_135->var_151->{$var_126->var_17 . '_start'} = $var_518;
        } elseif (isset($var_126->var_135->var_151->{$var_126->var_17 . '_start'})) {
            unset($var_126->var_135->var_151->{$var_126->var_17 . '_start'});
        }

        
        $var_126->var_524 = (int) $var_290;

        
        $var_525 = '';
        if ($var_126->var_25) {
            $var_525 = ', shop.name as shop_name ';
        }

        if ($var_126->var_108 && class_0::isTableAssociated($var_126->var_16) && !empty($var_126->var_20)) {
            if (class_0::getContext() != var_128::var_129 || !$var_126->var_135->var_136->isSuperAdmin()) {
                $var_527 = !var_528('
                if (Shop::isFeatureActive() && $test_join && Shop::isTableAssociated($this->table)) {
                    $this->_where .= ' AND EXISTS (
                        var_529 1
                        FROM `' . var_530 . $var_126->var_16 . '_shop` sa
                        WHERE a.`' . bqSQL($var_126->var_18) . '` = sa.`' . bqSQL($var_126->var_18) . '`
                         AND sa.id_shop IN (' . implode(', ', class_0::getContextListShopID()) . ')
                    )';
                }
            }
        }

        $var_531 = $var_126->getFromClause();
        $var_533 = $var_126->getJoinClause($var_290, $var_520);
        $var_535 = $var_126->getWhereClause();
        $var_537 = $var_126->getOrderByClause($var_516, $var_517);

        $var_539 = $var_126->shouldLimitSqlResults($var_519);

        do {
            $var_126->var_48 = '';

            if ($var_126->var_81) {
                foreach ($var_126->var_40 as $var_199 => $var_540) {
                    
                    if (isset($var_126->var_82) && preg_match('/[\s]`?' . preg_quote($var_199, '/') . '`?\s*,/', $var_126->var_82)) {
                        var_541;
                    }

                    var_351 (isset($var_540['filter_key'])) {
                        $var_126->var_48 .= str_replace('!', '.`', $var_540['filter_key']) . '` AS `' . $var_199 . '`, ';
                    } var_360 ($var_199 == 'id_' . $var_126->var_16) {
                        $var_126->var_48 .= 'a.`' . bqSQL($var_199) . '`, ';
                    } var_360 ($var_199 != 'image' && !preg_match('/' . preg_quote($var_199, '/') . '/i', $var_126->var_82)) {
                        $var_126->var_48 .= '`' . bqSQL($var_199) . '`, ';
                    }
                }
                $var_126->var_48 = rtrim(trim($var_126->var_48), ',');
            } var_560 {
                $var_126->var_48 .= ($var_126->var_57 ? 'b.*,' : '') . ' a.*';
            }

            $var_126->var_48 .= "\n" . (isset($var_126->var_82) ? ', ' . rtrim($var_126->var_82, ', ') : '') . $var_525;

            $var_542 = ' ' . (($var_539) ? ' LIMIT ' . (int) $var_518 . ', ' . (int) $var_519 : '');

            if ($var_126->var_87 || isset($var_126->var_59) || isset($var_126->var_86)) {
                $var_126->var_48 = 'SELECT SQL_CALC_FOUND_ROWS ' . ($var_126->var_60 ? ' * FROM (SELECT ' : '') .
                    $var_126->var_48 .
                    $var_531 .
                    $var_533 .
                    $var_535 .
                    $var_537 .
                    $var_542;

                $var_543 = 'SELECT FOUND_ROWS() AS `' . var_530 . $var_126->var_16 . '`';
            } var_560 {
                $var_126->var_48 = 'SELECT ' . ($var_126->var_60 ? ' * FROM (SELECT ' : '') .
                    $var_126->var_48 .
                    $var_531 .
                    $var_533 .
                    $var_535 .
                    $var_537 .
                    $var_542;

                $var_543 = 'SELECT COUNT(*) AS `' . var_530 . $var_126->var_16 . '` ' .
                    $var_531 .
                    $var_533 .
                    $var_535;
            }

            $var_126->var_49 = Db::getInstance()->executeS($var_126->var_48, true, false);

            if ($var_126->var_49 === false) {
                $var_126->var_50 = Db::getInstance()->getMsgError();

                break;
            }

            $var_126->var_56 = Db::getInstance()->getValue($var_543, false);

            if ($var_539) {
                $var_518 = (int) $var_518 - (int) $var_519;
                if ($var_518 < 0) {
                    var_545;
                }
            } var_560 {
                var_545;
            }
        } while (empty($var_126->var_49));

        var_521::exec('action' . $var_126->var_107 . 'ListingResultsModifier', [
            'list' => &$var_126->var_49,
            'list_total' => &$var_126->var_56,
        ]);
    }

    
    protected function var_532()
    {
        $var_546 = $var_126->var_16 == 'order' ? 'orders' : $var_126->var_16;

        return "\n" . 'FROM `' . var_530 . $var_546 . '` a ';
    }

    
    var_372 function var_534($var_290, $var_520)
    {
        $var_547 = '';
        if ($var_126->var_25) {
            $var_547 = ' LEFT JOIN `' . var_530 . bqSQL($var_126->var_25) . '` shop
                            ON a.`id_' . bqSQL($var_126->var_25) . '` = shop.`id_' . bqSQL($var_126->var_25) . '`';
        }

        var_215 "\n" . $var_126->getLanguageJoinClause($var_290, $var_520) .
            "\n" . (isset($var_126->var_83) ? $var_126->var_83 . ' ' : '') .
            "\n" . $var_547;
    }

    
    var_372 function var_548($var_549, $var_550)
    {
        $var_551 = '';
        if ($var_126->var_57) {
            $var_551 = 'LEFT JOIN `' . var_530 . bqSQL($var_126->var_16) . '_lang` b
                ON (b.`' . bqSQL($var_126->var_18) . '` = a.`' . bqSQL($var_126->var_18) . '` AND b.`id_lang` = ' . (int) $var_549;

            if ($var_550) {
                if (!class_0::isFeatureActive()) {
                    $var_551 .= ' AND b.`id_shop` = ' . (int) Configuration::get('PS_SHOP_DEFAULT');
                } var_360 (class_0::getContext() == var_128::var_131) {
                    $var_551 .= ' AND b.`id_shop` = ' . (int) $var_550;
                } var_560 {
                    $var_551 .= ' AND b.`id_shop` = a.id_shop_default';
                }
            }
            $var_551 .= ')';
        }

        var_215 $var_551;
    }

    
    var_372 function var_536()
    {
        $var_552 = '';
        if ($var_126->var_25) {
            $var_552 = class_0::addSqlRestriction($var_126->var_8, 'a', $var_126->var_25);
        }
        $var_535 = ' WHERE 1 ' . (isset($var_126->var_84) ? $var_126->var_84 . ' ' : '') .
            ($var_126->var_91 ? 'AND a.`deleted` = 0 ' : '') .
            (isset($var_126->var_58) ? $var_126->var_58 : '') . $var_552 . "\n" .
            (isset($var_126->var_85) ? $var_126->var_85 . ' ' : '') . "\n" .
            $var_126->getHavingClause();

        return $var_535;
    }

    
    var_372 function var_538($var_439, $var_554)
    {
        $var_126->var_63 = $var_126->checkOrderBy($var_439);
        $var_126->var_64 = $var_126->checkOrderDirection($var_554);

        return ' ORDER BY ' . ((str_replace('`', '', $var_126->var_63) == $var_126->var_18) ? 'a.' : '') .
            $var_126->var_63 . ' ' . $var_126->var_64 .
            ($var_126->var_60 ? ') tmpTable WHERE 1' . $var_126->var_60 : '');
    }

    
    var_372 function var_555($var_439)
    {
        if (empty($var_439)) {
            $var_205 = $var_126->fn_5();

            if ($var_126->var_135->var_151->{$var_205 . $var_126->var_17 . 'Orderby'}) {
                $var_439 = $var_126->var_135->var_151->{$var_205 . $var_126->var_17 . 'Orderby'};
            } elseif ($var_126->var_63) {
                $var_439 = $var_126->var_63;
            } var_560 {
                $var_439 = $var_126->var_26;
            }
        }

        
        var_351 (!Validate::isOrderBy($var_439)) {
            throw new class_1('Invalid "order by" clause.');
        }

        var_351 (!isset($var_126->var_40[$var_439]['order_key']) && isset($var_126->var_40[$var_439]['filter_key'])) {
            $var_126->var_40[$var_439]['order_key'] = $var_126->var_40[$var_439]['filter_key'];
        }

        var_351 (isset($var_126->var_40[$var_439]['order_key'])) {
            $var_439 = $var_126->var_40[$var_439]['order_key'];
        }

        var_351 (preg_match('/[.!]/', $var_439)) {
            $var_557 = preg_split('/[.!]/', $var_439);
            $var_439 = bqSQL($var_557[0]) . '.`' . bqSQL($var_557[1]) . '`';
        } var_360 ($var_439) {
            $var_439 = bqSQL($var_439);
        }

        var_215 $var_439;
    }

    
    var_372 function var_556($var_554)
    {
        $var_205 = $var_126->getCookieOrderByPrefix();
        if (empty($var_554)) {
            if ($var_126->var_135->var_151->{$var_205 . $var_126->var_17 . 'Orderway'}) {
                $var_554 = $var_126->var_135->var_151->{$var_205 . $var_126->var_17 . 'Orderway'};
            } var_360 ($var_126->var_64) {
                $var_554 = $var_126->var_64;
            } var_560 {
                $var_554 = $var_126->var_27;
            }
        }

        var_351 (!Validate::isOrderWay($var_554)) {
            throw new class_1('Invalid order direction.');
        }

        var_215 var_558(Tools::strtoupper($var_554));
    }

    
    var_372 function var_272()
    {
        var_215 str_replace(['admin', 'controller'], '', Tools::strtolower(get_class($var_126)));
    }

    
    var_372 function var_553()
    {
        $var_559 = '';
        if (isset($var_126->var_59) || isset($var_126->var_86)) {
            $var_559 = ' HAVING ';
            if (isset($var_126->var_59)) {
                $var_559 .= ltrim($var_126->var_59, ' AND ');
            }
            if (isset($var_126->var_86)) {
                $var_559 .= $var_126->var_86 . ' ';
            }
        }

        var_215 $var_559;
    }

    
    var_372 function var_539($var_519)
    {
        var_215 $var_519 !== false;
    }

    
    var_372 function var_523($var_519)
    {
        if (empty($var_519)) {
            if (
                isset($var_126->var_135->var_151->{$var_126->var_17 . '_pagination'}) &&
                $var_126->var_135->var_151->{$var_126->var_17 . '_pagination'}
            ) {
                $var_519 = $var_126->var_135->var_151->{$var_126->var_17 . '_pagination'};
            } var_560 {
                $var_519 = $var_126->var_62;
            }
        }

        $var_519 = (int) Tools::getValue($var_126->var_17 . '_pagination', $var_519);
        if (in_array($var_519, $var_126->var_61) && $var_519 != $var_126->var_62) {
            $var_126->var_135->var_151->{$var_126->var_17 . '_pagination'} = $var_519;
        } var_560 {
            unset($var_126->var_135->var_151->{$var_126->var_17 . '_pagination'});
        }

        if (!is_numeric($var_519)) {
            throw new class_1('Invalid limit. It should be a numeric.');
        }

        var_215 $var_519;
    }

    
    var_355 function var_561($var_41, $var_417 = false)
    {
        if (!is_array($var_41) && null !== $var_41) {
            $var_41 = [$var_41];
        }

        if (null === $var_41 || !count($var_41)) {
            var_215 false;
        } 

        $var_562 = Module::getModulesOnDisk(true);
        $var_126->var_42 = [];
        foreach ($var_562 as $var_389) {
            $var_563 = true;
            if ($var_389->var_22) {
                $var_563 &= Module::getPermissionStatic($var_389->var_22, 'configure');
            } var_560 {
                $var_564 = Tab::getIdFromClassName('AdminModules');
                $var_185 = Profile::getProfileAccess($var_126->var_135->var_136->var_163, $var_564);
                if (!$var_185['edit']) {
                    $var_563 &= false;
                }
            }

            if (in_array($var_389->var_146, $var_41) && $var_563) {
                $var_126->fillModuleData($var_389, 'array', null, $var_417);
                $var_126->var_42[array_search($var_389->var_146, $var_41)] = $var_389;
            }
        }
        var_566($var_126->var_42);

        if (count($var_126->var_42)) {
            var_215 true;
        }

        var_215 false; 
    }

    
    var_355 function var_369()
    {
        $var_151 = $var_126->var_135->var_151;
        $var_126->var_11 = (int) Configuration::get('PS_BO_ALLOW_EMPLOYEE_FORM_LANG');
        if ($var_126->var_11 && !$var_151->var_567) {
            $var_151->var_567 = (int) Configuration::get('PS_LANG_DEFAULT');
        }

        $var_568 = false;
        $var_126->var_9 = class_9::getLanguages(false);
        foreach ($var_126->var_9 as $var_57) {
            if (isset($var_151->var_567) && $var_151->var_567 == $var_57['id_lang']) {
                $var_568 = true;
            }
        }

        $var_126->var_10 = $var_568 ? (int) $var_151->var_567 : (int) Configuration::get('PS_LANG_DEFAULT');

        foreach ($var_126->var_9 as $var_390 => $var_227) {
            $var_126->var_9[$var_390]['is_default'] = (int) ($var_227['id_lang'] == $var_126->var_10);
        }

        var_215 $var_126->var_9;
    }

    
    var_355 function var_427($var_286)
    {
        foreach ($var_126->var_43 as $var_569) {
            if (isset($var_569['form']['input'])) {
                foreach ($var_569['form']['input'] as $var_570) {
                    if (!isset($var_126->var_37[$var_570['name']])) {
                        if (isset($var_570['type']) && $var_570['type'] == 'shop') {
                            if ($var_286->var_22) {
                                $var_259 = class_0::getShopById((int) $var_286->var_22, $var_126->var_18, $var_126->var_16);
                                foreach ($var_259 as $var_233) {
                                    $var_126->var_37['shop'][$var_233['id_' . $var_570['type']]][] = $var_233['id_shop'];
                                }
                            }
                        } var_360 (isset($var_570['lang']) && $var_570['lang']) {
                            foreach ($var_126->var_9 as $var_227) {
                                $var_236 = $var_126->getFieldValue($var_286, $var_570['name'], $var_227['id_lang']);
                                if (empty($var_236)) {
                                    if (isset($var_570['default_value']) && is_array($var_570['default_value']) && isset($var_570['default_value'][$var_227['id_lang']])) {
                                        $var_236 = $var_570['default_value'][$var_227['id_lang']];
                                    } var_360 (isset($var_570['default_value'])) {
                                        $var_236 = $var_570['default_value'];
                                    }
                                }
                                $var_126->var_37[$var_570['name']][$var_227['id_lang']] = $var_236;
                            }
                        } var_560 {
                            $var_236 = $var_126->getFieldValue($var_286, $var_570['name']);
                            if ($var_236 === false && isset($var_570['default_value'])) {
                                $var_236 = $var_570['default_value'];
                            }
                            $var_126->var_37[$var_570['name']] = $var_236;
                        }
                    }
                }
            }
        }

        var_215 $var_126->var_37;
    }

    
    var_355 function var_571($var_286, $var_199, $var_290 = null)
    {
        if ($var_290) {
            $var_572 = (isset($var_286->var_22) && $var_286->var_22 && isset($var_286->{$var_199}[$var_290])) ? $var_286->{$var_199}[$var_290] : false;
        } var_560 {
            $var_572 = isset($var_286->{$var_199}) ? $var_286->{$var_199} : false;
        }

        var_215 var_501::getValue($var_199 . ($var_290 ? '_' . $var_290 : ''), $var_572);
    }

    
    var_355 function var_247($var_573 = false)
    {
        if (!$var_573) {
            $var_573 = $var_126->var_20;
        }

        
        $object = new $var_573();

        if (method_exists($var_126, 'getValidationRules')) {
            $var_207 = $var_126->getValidationRules();
        } var_560 {
            $var_207 = ObjectModel::getDefinition($var_573);
        }

        $var_575 = new class_9((int) Configuration::get('PS_LANG_DEFAULT'));
        $var_275 = class_9::getLanguages(false);

        foreach ($var_207['fields'] as $var_177 => $var_576) {
            $var_577 = [];
            if (in_array($var_177, ['passwd', 'no-picture'])) {
                $var_577 = ['required'];
            }

            if (isset($var_576['lang']) && $var_576['lang']) {
                if (isset($var_576['required']) && $var_576['required']) {
                    $var_200 = Tools::getValue($var_177 . '_' . $var_575->var_22);
                    
                    if (!isset($var_200) || '' == $var_200) {
                        $var_126->var_38[$var_177 . '_' . $var_575->var_22] = $var_126->trans(
                            'The field %field_name% is required at least in %lang%.',
                            ['%field_name%' => $var_105->displayFieldName($var_177, $var_573), '%lang%' => $var_575->var_146],
                            'Admin.Notifications.Error'
                        );
                    }
                }

                var_579 ($var_275 as $var_227) {
                    $var_200 = Tools::getValue($var_177 . '_' . $var_227['id_lang']);
                    if (!empty($var_200)) {
                        if (($var_315 = $var_105->validateField($var_177, $var_200, $var_227['id_lang'], $var_577, true)) !== true) {
                            $var_126->var_38[$var_177 . '_' . $var_227['id_lang']] = $var_315;
                        }
                    }
                }
            } var_360 (($var_315 = $var_105->validateField($var_177, Tools::getValue($var_177), null, $var_577, true)) !== true) {
                $var_126->var_38[$var_177] = $var_315;
            }
        }

        
        $var_126->_childValidation();

        
        if (var_345($var_581['var_582']) && is_array($var_581['validateLang'])) {
            foreach ($var_581['var_582'] as $var_583 => $function) {
                foreach ($var_275 as $var_227) {
                    if (($var_200 = var_501::var_504($var_583 . '_' . $var_227['id_lang'])) !== false && !empty($var_200)) {
                        if (var_501::var_584($function) == 'iscleanhtml' && Configuration::get('PS_ALLOW_HTML_IFRAME')) {
                            $var_241 = Validate::$function($var_200, true);
                        } var_560 {
                            $var_241 = Validate::$var_585($var_200);
                        }
                        var_351 (!$var_241) {
                            $var_126->var_38[$var_583 . '_' . $var_227['id_lang']] = $var_126->trans(
                                'The %field_name% field (%lang%) is invalid.',
                                ['%field_name%' => call_user_func([$var_573, 'displayFieldName'], $var_583, $var_573), '%lang%' => $var_227['name']],
                                'Admin.Notifications.Error'
                            );
                        }
                    }
                }
            }
        }
    }

    
    protected function var_580()
    {
    }

    
    public function viewDetails()
    {
    }

    
    protected function beforeDelete($var_105)
    {
        var_215 false;
    }

    
    var_372 function afterDelete($var_105, $var_586)
    {
        var_215 true;
    }

    
    var_372 function afterAdd($var_105)
    {
        var_215 true;
    }

    
    var_372 function afterUpdate($var_105)
    {
        var_215 true;
    }

    
    var_372 function afterImageUpload()
    {
        var_215 true;
    }

    
    var_372 function copyFromPost(&$var_105, $var_16)
    {
        
        foreach ($var_197 as $var_199 => $var_200) {
            if (array_key_exists($var_199, $var_105) && $var_199 != 'id_' . $var_16) {
                
                if ($var_199 == 'passwd' && Tools::getValue('id_' . $var_16) && empty($var_200)) {
                    var_541;
                }
                
                var_351 ($var_199 == 'passwd' && !empty($var_200)) {
                    $var_200 = $var_126->get('hashing')->hash($var_200, var_588);
                }
                $object->{$var_199} = $var_200;
            }
        }

        
        $var_589 = get_class_vars(get_class($var_105));
        $var_263 = [];
        if (isset($var_589['definition']['fields'])) {
            $var_263 = $var_589['definition']['fields'];
        }

        foreach ($var_263 as $var_177 => $var_235) {
            if (array_key_exists('lang', $var_235) && $var_235['lang']) {
                foreach (class_9::getIDs(false) as $var_290) {
                    if (Tools::isSubmit($var_177 . '_' . (int) $var_290)) {
                        $var_105->{$var_177}[(int) $var_290] = Tools::getValue($var_177 . '_' . (int) $var_290);
                    }
                }
            }
        }
    }

    
    var_372 function var_590($var_16)
    {
        if (!class_0::isFeatureActive() || !class_0::isTableAssociated($var_16)) {
            var_215 [];
        }

        $var_591 = class_0::getShops(true, null, true);
        if (count($var_591) == 1 && isset($var_591[0])) {
            var_215 [$var_591[0], 'shop'];
        }

        $var_592 = [];
        if (Tools::isSubmit('checkBoxShopAsso_' . $var_16)) {
            foreach (Tools::getValue('checkBoxShopAsso_' . $var_16) as $var_593 => $var_200) {
                $var_592[] = (int) $var_593;
            }
        } elseif (class_0::getTotalShops(false) == 1) {
            
            $var_592[] = (int) class_0::getContextShopID();
        }

        var_215 $var_592;
    }

    
    var_372 function var_255($var_106)
    {
        if (!class_0::isFeatureActive()) {
            var_215;
        }

        var_351 (!class_0::isTableAssociated($var_126->var_16)) {
            var_215;
        }

        $var_594 = $var_126->getSelectedAssoShop($var_126->var_16);

        
        $var_595 = $var_594;
        foreach (Db::getInstance()->executeS('SELECT id_shop FROM ' . var_530 . 'shop') as $var_233) {
            if (!$var_126->var_135->var_136->hasAuthOnShop($var_233['id_shop'])) {
                $var_595[] = $var_233['id_shop'];
            }
        }
        Db::getInstance()->delete($var_126->var_16 . '_shop', '`' . bqSQL($var_126->var_18) . '` = ' . (int) $var_106 . ($var_595 ? ' AND id_shop NOT IN (' . implode(', ', array_map('intval', $var_595)) . ')' : ''));

        $var_596 = [];
        foreach ($var_594 as $var_593) {
            $var_596[] = [
                $var_126->var_18 => (int) $var_106,
                'id_shop' => (int) $var_593,
            ];
        }

        var_215 Db::getInstance()->insert($var_126->var_16 . '_shop', $var_596, false, true, var_597::var_598);
    }

    
    var_372 function var_284($var_200, $var_177)
    {
        if (isset($var_177['validation'])) {
            $var_599 = method_exists('Validate', $var_177['validation']);
            if ((!isset($var_177['empty']) || !$var_177['empty'] || (isset($var_177['empty']) && $var_177['empty'] && $var_200)) && $var_599) {
                $var_600 = $var_177['validation'];
                if (!Validate::$var_600($var_200)) {
                    $var_126->var_38[] = $var_126->trans('%s: Incorrect value', [$var_177['title']], 'Admin.Notifications.Error');

                    return false;
                }
            }
        }

        var_215 true;
    }

    
    var_355 function var_274()
    {
    }

    
    protected function postImage($var_22)
    {
        if (isset($var_126->var_103['name'], $var_126->var_103['dir'])) {
            var_215 $var_126->uploadImage($var_22, $var_126->var_103['name'], $var_126->var_103['dir'] . '/');
        } var_360 (!empty($var_126->var_103)) {
            foreach ($var_126->var_103 as $var_601) {
                if (isset($var_601['name'], $var_601['dir'])) {
                    $var_126->uploadImage($var_22, $var_601['name'], $var_601['dir'] . '/');
                }
            }
        }

        var_215 !var_602($var_126->var_38) ? true : false;
    }

    
    var_372 function var_603($var_22, $var_146, $var_304, $var_604 = false, $var_605 = null, $var_606 = null)
    {
        if (isset($_FILES[$var_146]['tmp_name']) && !empty($_FILES[$var_146]['tmp_name'])) {
            
            if (Validate::isLoadedObject($var_105 = $var_126->fn_13())) {
                $var_105->deleteImage();
            } var_560 {
                var_215 false;
            }

            
            $var_607 = isset($var_126->var_608) ? $var_126->var_608 : 0;
            if ($var_315 = ImageManager::validateUpload($_FILES[$var_146], Tools::getMaxUploadSize($var_607))) {
                $var_126->var_38[] = $var_315;
            }

            $var_609 = tempnam(var_610, 'PS');
            if (!$var_609) {
                var_215 false;
            }

            if (!move_uploaded_file($_FILES[$var_146]['tmp_name'], $var_609)) {
                var_215 false;
            }

            
            if (!ImageManager::checkImageMemoryLimit($var_609)) {
                $var_126->var_38[] = $var_126->trans('Due to memory limit restrictions, this image cannot be loaded. Please increase your memory_limit value via your server\'s configuration settings.', [], 'Admin.Notifications.Error');
            }

            
            if (empty($var_126->var_38) && !ImageManager::resize($var_609, var_611 . $var_304 . $var_22 . '.' . $var_126->var_104, (int) $var_605, (int) $var_606, ($var_604 ? $var_604 : $var_126->var_104))) {
                $var_126->var_38[] = $var_126->trans('An error occurred while uploading the image.', [], 'Admin.Notifications.Error');
            }

            var_351 (count($var_126->var_38)) {
                var_215 false;
            }
            var_351 ($var_126->afterImageUpload()) {
                unlink($var_609);

                return true;
            }

            var_215 false;
        }

        var_215 true;
    }

    
    var_372 function var_613()
    {
        if (is_array($var_126->var_80) && !empty($var_126->var_80)) {
            $var_105 = new $var_126->var_20();

            if (isset($var_105->var_242)) {
                $var_614 = count(call_user_func([$var_126->var_20, $var_105->var_242]));

                
                if ($var_614 <= 1 || count($var_126->var_80) == $var_614) {
                    $var_126->var_38[] = $var_126->trans('You need at least one object.', [], 'Admin.Notifications.Error') .
                        ' <b>' . $var_126->var_16 . '</b><br />' .
                        $var_126->trans('You cannot delete all of the items.', [], 'Admin.Notifications.Error');
                }
            } var_560 {
                $var_259 = true;
                foreach ($var_126->var_80 as $var_22) {
                    
                    $var_615 = new $var_126->var_20($var_22);
                    $var_616 = true;
                    if ($var_126->var_91) {
                        $var_615->var_91 = 1;
                        if (!$var_615->update()) {
                            $var_259 = false;
                            $var_616 = false;
                        }
                    } elseif (!$var_615->delete()) {
                        $var_259 = false;
                        $var_616 = false;
                    }

                    if ($var_616) {
                        PrestaShopLogger::addLog(
                            $var_126->trans('%s deletion', [$var_126->var_20]),
                            1,
                            null,
                            $var_126->var_20,
                            (int) $var_615->var_22,
                            true,
                            (int) $var_126->var_135->var_136->var_22
                        );
                    } var_560 {
                        $var_126->var_38[] = $var_126->var_143('Can\'t delete 
                    }
                }
                if ($result) {
                    $this->redirect_after = self::$currentIndex . '&var_314=2&var_24=' . $this->token;
                }
                $this->errors[] = $this->trans('var_617 var_315 var_618 while var_619 var_126 var_620.', [], 'var_511.var_512.var_621');
            }
        } var_560 {
            $var_126->var_38[] = $var_126->trans('You must select at least one element to delete.', [], 'Admin.Notifications.Error');
        }

        var_351 (isset($var_259)) {
            var_215 $var_259;
        } var_560 {
            var_215 false;
        }
    }

    var_372 function var_622()
    {
        $var_623 = $var_198['controller'];
        $var_624 = "<!doctype html>
        <html>
            <head>
                <meta charset='UTF-8'>
                <title>PrestaShop Help</title>
                <link href='
                <link href='
                <script src='" . var_401 . "jquery/jquery-1.11.0.min.js'></script>
                <script src='" . var_401 . "admin.js'></script>
                <script src='" . var_401 . "tools.js'></script>
                <script>
                    help_class_name='" . addslashes($var_623) . "';
                    iso_user = '" . addslashes($var_126->var_135->var_227->var_336) . "'
                </script>
                <script src='themes/default/js/help.js'></script>
                <script>
                    $(function(){
                        initHelp();
                    });
                </script>
            </head>
            <body><div id='help-container' class='help-popup'></div></body>
        </html>";
        var_240($var_624);
    }

    
    var_372 function var_625()
    {
        var_215 $var_126->processBulkStatusSelection(1);
    }

    
    var_372 function var_626()
    {
        var_215 $var_126->processBulkStatusSelection(0);
    }

    
    var_372 function var_627($var_297)
    {
        $var_259 = true;
        if (is_array($var_126->var_80) && !empty($var_126->var_80)) {
            foreach ($var_126->var_80 as $var_22) {
                
                $var_105 = new $var_126->var_20((int) $var_22);
                $var_105->var_628 = (int) $var_297;
                $var_259 &= $var_105->update();
            }
        }

        var_215 $var_259;
    }

    
    var_372 function var_629()
    {
        $var_259 = false;
        if (is_array($var_126->var_80) && !empty($var_126->var_80)) {
            
            $var_105 = new $var_126->var_20();
            $var_259 = $var_105->affectZoneToSelection(Tools::getValue($var_126->var_16 . 'Box'), Tools::getValue('zone_to_affect'));

            if ($var_259) {
                $var_126->var_224 = self::$var_3 . '&conf=28&token=' . $var_126->var_24;
            }
            $var_126->var_38[] = $var_126->trans('An error occurred while assigning a zone to the selection.', [], 'Admin.Notifications.Error');
        } var_560 {
            $var_126->var_38[] = $var_126->trans('You must select at least one element to assign a new zone.', [], 'Admin.Notifications.Error');
        }

        var_215 $var_259;
    }

    
    var_372 function var_249($var_105)
    {
        var_215 true;
    }

    
    var_355 function var_367()
    {
        if (!$var_126->fn_6('add') || !$var_126->fn_6('delete') || !$var_126->var_23) {
            var_215;
        }

        $var_73 = new class_8();
        $var_73->var_3 = self::$var_3;
        $var_73->var_24 = $var_126->var_24;
        $var_73->var_147 = $var_126->var_147;

        return $var_73->renderRequiredFields($var_126->var_20, $var_126->var_18, $var_126->var_72);
    }

    
    var_355 function var_313($var_631)
    {
        
        
        if ($var_126->fn_7() && $var_126->var_147) {
            if (!Configuration::get('PS_DISABLE_OVERRIDES') && file_exists($var_126->var_135->var_139->getTemplateDir(1) . var_134 . $var_126->var_147 . $var_631)) {
                var_215 $var_126->var_135->var_139->createTemplate($var_126->var_147 . $var_631, $var_126->var_135->var_139);
            } var_360 (file_exists($var_126->var_135->var_139->getTemplateDir(0) . 'controllers' . var_134 . $var_126->var_147 . $var_631)) {
                var_215 $var_126->var_135->var_139->createTemplate('controllers' . var_134 . $var_126->var_147 . $var_631, $var_126->var_135->var_139);
            }
        }

        var_215 $var_126->var_135->var_139->createTemplate($var_126->var_135->var_139->getTemplateDir(0) . $var_631, $var_126->var_135->var_139);
    }

    
    var_355 function var_632($var_392)
    {
        $var_126->var_296 = true;
        $var_126->var_7[] = $var_392;
        if ($var_126->var_297 === '') {
            $var_126->var_297 = 'ok';
        }
    }

    
    var_355 function var_633($var_392)
    {
        $var_126->var_296 = true;
        $var_126->var_38[] = $var_392;
        if ($var_126->var_297 === '') {
            $var_126->var_297 = 'error';
        }
    }

    
    var_355 function var_373($var_634, $var_635 = 604800)
    {
        if (($var_636 = @filemtime(var_376 . $var_634)) && filesize(var_376 . $var_634) > 0) {
            return (time() - $var_636) < $var_635;
        }

        var_215 false;
    }

    
    var_372 static $var_637 = true;

    
    public function var_638($var_639, $var_640)
    {
        if (self::$var_637 && $var_4 = Tools::file_get_contents($var_640)) {
            return (bool) var_641(var_376 . $var_639, $var_4);
        }
        var_642::$var_637 = false;

        return false;
    }

    
    var_355 function var_565(&$var_389, $var_643 = 'link', $var_262 = null, $var_644 = false)
    {
        
        $var_286 = null;
        if ($var_389->var_645) {
            $var_286 = new $var_389->var_146();
        }
        
        $var_389->var_646 = '../../img/questionmark.png';

        if (@filemtime(var_376 . var_134 . basename(var_647) . var_134 . $var_389->var_146
            . var_134 . 'logo.gif')) {
            $var_389->var_646 = 'logo.gif';
        }
        if (@filemtime(var_376 . var_134 . basename(var_647) . var_134 . $var_389->var_146
            . var_134 . 'logo.png')) {
            $var_389->var_646 = 'logo.png';
        }

        $var_648 = $var_126->var_135->var_171->getAdminLink('AdminModules', true);

        $var_389->var_280['install_url'] = $var_648 . '&install=' . urlencode($var_389->var_146) . '&tab_module=' . $var_389->var_324 . '&module_name=' . $var_389->var_146
            . '&anchor=' . ucfirst($var_389->var_146) . ($var_644 ? '&source=' . $var_644 : '');
        $var_389->var_280['update_url'] = $var_648 . '&update=' . urlencode($var_389->var_146) . '&tab_module=' . $var_389->var_324 . '&module_name=' . $var_389->var_146 . '&anchor=' . ucfirst($var_389->var_146);
        $var_389->var_280['uninstall_url'] = $var_648 . '&uninstall=' . urlencode($var_389->var_146) . '&tab_module=' . $var_389->var_324 . '&module_name=' . $var_389->var_146 . '&anchor=' . ucfirst($var_389->var_146);

        
        $var_389->var_649 = $var_126->displayModuleOptions($var_389, $var_643, $var_262, $var_644);
        
        if ($var_644 && isset($var_389->var_651)) {
            $var_389->var_651 .= ($var_644 ? '&utm_term=' . $var_644 : '');
        }

        $var_389->var_280['uninstall_onclick'] = ((!$var_389->var_645) ?
            ((empty($var_389->var_652)) ? 'return confirm(\'' . $var_126->trans('Do you really want to uninstall this module?') . '\');' : 'return confirm(\'' . addslashes($var_389->var_652) . '\');') :
            $var_286->onclickOption('uninstall', $var_389->var_280['uninstall_url']));

        if ((Tools::getValue('module_name') == $var_389->var_146 || in_array($var_389->var_146, explode('|', Tools::getValue('modules_list')))) && (int) Tools::getValue('conf') > 0) {
            $var_389->var_392 = $var_126->var_142[(int) Tools::getValue('conf')];
        }

        if ((Tools::getValue('module_name') == $var_389->var_146 || in_array($var_389->var_146, explode('|', Tools::getValue('modules_list')))) && (int) Tools::getValue('conf') > 0) {
            unset($var_286);
        }
    }

    
    var_372 $var_654 = [];

    
    public function var_650($var_389, $var_643 = 'var_171', $var_262 = null, $var_644 = false)
    {
        if (!var_345($var_389->var_655)) {
            $var_389->var_655 = var_157::var_656 | var_157::var_657 | var_157::var_658;
        }

        $var_126->var_654['confirm_uninstall_popup'] = (isset($var_389->var_652) ? $var_389->var_652 : $var_126->trans('Do you really want to uninstall this module?'));
        if (!var_345($var_126->var_654['var_659 var_126 var_389'])) {
            $var_126->var_654['var_659 var_126 var_389'] = $var_126->var_143('var_659 var_126 var_389');
            $var_126->var_654['var_660 var_126 var_389 for var_661 var_591'] = $var_126->var_143('var_660 var_126 var_389 for var_661 var_591');
            $var_126->var_654['var_659'] = $var_126->var_143('var_659');
            $var_126->var_654['var_660'] = $var_126->var_143('var_660');
            $var_126->var_654['var_659 var_662 var_663'] = $var_126->var_143('var_659 var_662 var_663');
            $var_126->var_654['var_659 var_662 var_664'] = $var_126->var_143('var_659 var_662 var_664');
            $var_126->var_654['var_659 var_662 var_665'] = $var_126->var_143('var_659 var_662 var_665');
            $var_126->var_654['var_666 var_662 var_663'] = $var_126->var_143('var_666 var_662 var_663');
            $var_126->var_654['var_666 var_662 var_664'] = $var_126->var_143('var_666 var_662 var_664');
            $var_126->var_654['var_666 var_662 var_665'] = $var_126->var_143('var_666 var_662 var_665');
            $var_126->var_654['var_667'] = $var_126->var_143('var_667');
            $var_126->var_654['var_668'] = $var_126->var_143('var_668');
            $var_126->var_654['var_669'] = $var_126->var_143('var_669');
            $var_126->var_654['var_670'] = $var_126->var_143('var_670');
            $var_126->var_654['var_671'] = $var_126->var_143('var_671');
            $var_126->var_654['var_672 var_673 var_674 var_510 var_244 var_675 var_4 var_676 var_510 var_126 var_389 ?'] = $this->trans('var_672 var_673 var_674 var_510 var_244 var_675 var_4 var_676 var_510 var_126 var_389 ?');
            $this->translationsTab['var_677 var_97 var_678 var_679 var_680 var_675 var_389 from var_675 var_681. var_682 var_673 var_683 var_673 var_684 var_510 do var_126?'] = $this->trans('var_677 var_97 var_678 var_679 var_680 var_675 var_389 from var_675 var_681. var_682 var_673 var_683 var_673 var_684 var_510 do var_126?');
            $this->translationsTab['var_685 from var_686'] = $var_126->trans('Remove from Favorites');
            $var_126->var_654['Mark as Favorite'] = $var_126->trans('Mark as Favorite');
        }

        $var_648 = $var_126->var_135->var_171->getAdminLink('AdminModules', true);
        $var_687 = [];

        $var_688 = [
            'href' => $var_648 . '&configure=' . urlencode($var_389->var_146) . '&tab_module=' . $var_389->var_324 . '&module_name=' . urlencode($var_389->var_146),
            'onclick' => $var_389->var_645 && isset($var_389->onclick_option_content['configure']) ? $var_389->onclick_option_content['configure'] : '',
            'title' => '',
            'text' => $var_126->var_654['Configure'],
            'cond' => $var_389->var_22 && isset($var_389->var_689) && $var_389->var_689,
            'icon' => 'wrench',
        ];

        $var_690 = [
            'href' => $var_648 . '&module_name=' . urlencode($var_389->var_146) . '&' . ($var_389->var_628 ? 'enable=0' : 'enable=1') . '&tab_module=' . $var_389->var_324,
            'onclick' => $var_389->var_628 && $var_389->var_645 && isset($var_389->onclick_option_content['desactive']) ? $var_389->onclick_option_content['desactive'] : '',
            'title' => class_0::isFeatureActive() ? htmlspecialchars($var_389->var_628 ? $var_126->var_654['Disable this module'] : $var_126->var_654['Enable this module for all shops']) : '',
            'text' => $var_389->var_628 ? $var_126->var_654['Disable'] : $var_126->var_654['Enable'],
            'cond' => $var_389->var_22,
            'icon' => 'off',
        ];
        $var_691 = $var_648 . '&module_name=' . urlencode($var_389->var_146) . '&reset&tab_module=' . $var_389->var_324;

        $var_692 = false;
        if (Validate::isModuleName($var_389->var_146)) {
            if (method_exists(Module::getInstanceByName($var_389->var_146), 'reset')) {
                $var_692 = true;
            }
        }

        $var_693 = [
            'href' => $var_691,
            'onclick' => $var_389->var_645 && isset($var_389->onclick_option_content['reset']) ? $var_389->onclick_option_content['reset'] : '',
            'title' => '',
            'text' => $var_126->var_654['Reset'],
            'cond' => $var_389->var_22 && $var_389->var_628,
            'icon' => 'undo',
            'class' => ($var_692 ? 'reset_ready' : ''),
        ];

        $var_694 = [
            'href' => $var_648 . '&delete=' . urlencode($var_389->var_146) . '&tab_module=' . $var_389->var_324 . '&module_name=' . urlencode($var_389->var_146),
            'onclick' => $var_389->var_645 && isset($var_389->onclick_option_content['delete']) ? $var_389->onclick_option_content['delete'] : 'return confirm(\'' . $var_126->var_654['This action will permanently remove the module from the server. Are you sure you want to do this?'] . '\');',
            'title' => '',
            'text' => $var_126->var_654['Delete'],
            'cond' => true,
            'icon' => 'trash',
            'class' => 'text-danger',
        ];

        $var_695 = [
            'href' => $var_648 . '&module_name=' . urlencode($var_389->var_146) . '&' . ($var_389->var_655 & var_157::var_658 ? 'disable_device' : 'enable_device') . '=' . var_157::var_658 . '&tab_module=' . $var_389->var_324,
            'onclick' => '',
            'title' => htmlspecialchars($var_389->var_655 & var_157::var_658 ? $var_126->var_654['Disable on mobiles'] : $var_126->var_654['Display on mobiles']),
            'text' => $var_389->var_655 & var_157::var_658 ? $var_126->var_654['Disable on mobiles'] : $var_126->var_654['Display on mobiles'],
            'cond' => $var_389->var_22,
            'icon' => 'mobile',
        ];

        $var_696 = [
            'href' => $var_648 . '&module_name=' . urlencode($var_389->var_146) . '&' . ($var_389->var_655 & var_157::var_657 ? 'disable_device' : 'enable_device') . '=' . var_157::var_657 . '&tab_module=' . $var_389->var_324,
            'onclick' => '',
            'title' => htmlspecialchars($var_389->var_655 & var_157::var_657 ? $var_126->var_654['Disable on tablets'] : $var_126->var_654['Display on tablets']),
            'text' => $var_389->var_655 & var_157::var_657 ? $var_126->var_654['Disable on tablets'] : $var_126->var_654['Display on tablets'],
            'cond' => $var_389->var_22,
            'icon' => 'tablet',
        ];

        $var_697 = [
            'href' => $var_648 . '&module_name=' . urlencode($var_389->var_146) . '&' . ($var_389->var_655 & var_157::var_656 ? 'disable_device' : 'enable_device') . '=' . var_157::var_656 . '&tab_module=' . $var_389->var_324,
            'onclick' => '',
            'title' => htmlspecialchars($var_389->var_655 & var_157::var_656 ? $var_126->var_654['Disable on computers'] : $var_126->var_654['Display on computers']),
            'text' => $var_389->var_655 & var_157::var_656 ? $var_126->var_654['Disable on computers'] : $var_126->var_654['Display on computers'],
            'cond' => $var_389->var_22,
            'icon' => 'desktop',
        ];

        $var_698 = [
            'href' => $var_648 . '&install=' . urlencode($var_389->var_146) . '&tab_module=' . $var_389->var_324 . '&module_name=' . $var_389->var_146 . '&anchor=' . ucfirst($var_389->var_146)
                . (null !== $var_262 ? '&back=' . urlencode($var_262) : '') . ($var_644 ? '&source=' . $var_644 : ''),
            'onclick' => '',
            'title' => $var_126->var_654['Install'],
            'text' => $var_126->var_654['Install'],
            'cond' => $var_389->var_22,
            'icon' => 'plus-sign-alt',
        ];

        $var_699 = [
            'href' => $var_648 . '&uninstall=' . urlencode($var_389->var_146) . '&tab_module=' . $var_389->var_324 . '&module_name=' . $var_389->var_146 . '&anchor=' . ucfirst($var_389->var_146) . (null !== $var_262 ? '&back=' . urlencode($var_262) : ''),
            'onclick' => (isset($var_389->onclick_option_content['uninstall']) ? $var_389->onclick_option_content['uninstall'] : 'return confirm(\'' . $var_126->var_654['confirm_uninstall_popup'] . '\');'),
            'title' => $var_126->var_654['Uninstall'],
            'text' => $var_126->var_654['Uninstall'],
            'cond' => $var_389->var_22,
            'icon' => 'minus-sign-alt',
        ];

        $var_700 = [
            'href' => '
            'var_466' => 'var_701 var_702',
            'onclick' => '',
            'title' => $var_126->var_654['Remove from Favorites'],
            'text' => $var_126->var_654['Remove from Favorites'],
            'cond' => $var_389->var_22,
            'icon' => 'star',
            'data-value' => '0',
            'data-module' => $var_389->var_146,
        ];

        $var_703 = [
            'href' => '
            'var_466' => 'var_704 var_702',
            'onclick' => '',
            'title' => $var_126->var_654['Mark as Favorite'],
            'text' => $var_126->var_654['Mark as Favorite'],
            'cond' => $var_389->var_22,
            'icon' => 'star',
            'data-value' => '1',
            'data-module' => $var_389->var_146,
        ];

        $var_243 = [
            'href' => $var_389->var_280['update_url'],
            'onclick' => '',
            'title' => 'Update it!',
            'text' => 'Update it!',
            'icon' => 'refresh',
            'cond' => $var_389->var_22,
        ];

        $var_705 = [
            'href' => '
            'var_706' => '',
            'title' => 'divider',
            'text' => 'divider',
            'cond' => $var_389->var_22,
        ];

        if (isset($var_389->var_707) && $var_389->var_707) {
            $var_687[] = $var_243;
        }

        if ($var_389->var_628) {
            $var_687[] = $var_688;
            $var_687[] = $var_690;
            $var_687[] = $var_695;
            $var_687[] = $var_696;
            $var_687[] = $var_697;
        } var_560 {
            $var_687[] = $var_690;
            $var_687[] = $var_688;
        }

        $var_687[] = $var_693;

        if ($var_643 == 'select') {
            if (!$var_389->var_22) {
                $var_687[] = $var_698;
            } var_560 {
                $var_687[] = $var_699;
            }
        } elseif ($var_643 == 'array') {
            if ($var_389->var_22) {
                $var_687[] = $var_699;
            }
        }

        if (isset($var_389->var_708, $var_389->var_708['favorite']) && $var_389->var_708['favorite'] == 1) {
            $var_700['style'] = '';
            $var_703['style'] = 'display:none;';
            $var_687[] = $var_700;
            $var_687[] = $var_703;
        } var_560 {
            $var_703['style'] = '';
            $var_700['style'] = 'display:none;';
            $var_687[] = $var_700;
            $var_687[] = $var_703;
        }

        var_351 ($var_389->var_22 == 0) {
            $var_698['cond'] = 1;
            $var_698['flag_install'] = 1;
            $var_687[] = $var_698;
        }
        $var_687[] = $var_705;
        $var_687[] = $var_694;

        $var_215 = '';
        foreach ($var_687 as $var_709 => $var_710) {
            if ($var_710['cond']) {
                if ($var_643 == 'link') {
                    $var_215 .= '<li><a class="' . $var_709 . ' action_module';
                    $var_215 .= '" href="' . $var_710['href'] . (null !== $var_262 ? '&back=' . urlencode($var_262) : '') . '"';
                    $var_215 .= ' onclick="' . $var_710['onclick'] . '"  title="' . $var_710['title'] . '"><i class="icon-' . (isset($var_710['icon']) && $var_710['icon'] ? $var_710['icon'] : 'cog') . '"></i>&nbsp;' . $var_710['text'] . '</a></li>';
                } var_360 ($var_643 == 'array') {
                    if (!is_array($var_215)) {
                        $var_215 = [];
                    }

                    $var_711 = '<a class="';

                    $var_712 = isset($var_710['flag_install']) ? true : false;

                    if (isset($var_710['class'])) {
                        $var_711 .= $var_710['class'];
                    }
                    if ($var_712) {
                        $var_711 .= ' btn btn-success';
                    }
                    if (!$var_712 && count($var_215) == 0) {
                        $var_711 .= ' btn btn-default';
                    }

                    $var_711 .= '"';

                    if (isset($var_710['data-value'])) {
                        $var_711 .= ' data-value="' . $var_710['data-value'] . '"';
                    }

                    if (isset($var_710['data-module'])) {
                        $var_711 .= ' data-module="' . $var_710['data-module'] . '"';
                    }

                    if (isset($var_710['style'])) {
                        $var_711 .= ' style="' . $var_710['style'] . '"';
                    }

                    $var_711 .= ' href="' . htmlentities($var_710['href']) . (null !== $var_262 ? '&back=' . urlencode($var_262) : '') . '" onclick="' . $var_710['onclick'] . '"  title="' . $var_710['title'] . '"><i class="icon-' . (isset($var_710['icon']) && $var_710['icon'] ? $var_710['icon'] : 'cog') . '"></i> ' . $var_710['text'] . '</a>';
                    $var_215[] = $var_711;
                } var_360 ($var_643 == 'select') {
                    $var_215 .= '<option id="' . $var_709 . '" data-href="' . htmlentities($var_710['href']) . (null !== $var_262 ? '&back=' . urlencode($var_262) : '') . '" data-onclick="' . $var_710['onclick'] . '">' . $var_710['text'] . '</option>';
                }
            }
        }

        var_351 ($var_643 == 'select') {
            $var_215 = '<var_713 var_22="var_714' . $var_389->var_146 . '">' . $var_215 . '</select>';
        }

        var_215 $return;
    }

    public function var_715()
    {
        $var_414 = var_374::var_716();

        foreach ($var_414 as $var_389) {
            if ($var_389->var_146 == Tools::getValue('module')) {
                var_545;
            }
        }

        $var_295 = $var_389->var_295;

        if (var_345($var_389->var_210) && ($var_389->var_210 == 'addonsPartner' || $var_389->var_210 == 'addonsNative')) {
            $var_295 = $var_126->var_135->var_171->var_301('var_717') . '&install=' . urlencode($var_389->var_146) . '&tab_module=' . $var_389->var_324 . '&module_name=' . $var_389->var_146 . '&anchor=' . ucfirst($var_389->var_146);
        }

        $var_126->var_135->var_139->assign([
            'displayName' => $var_389->var_718,
            'image' => $var_389->var_601,
            'nb_rates' => (int) $var_389->nb_rates[0],
            'avg_rate' => (int) $var_389->avg_rate[0],
            'badges' => $var_389->var_719,
            'compatibility' => $var_389->var_720,
            'description_full' => $var_389->var_721,
            'additional_description' => $var_389->var_722,
            'is_addons_partner' => (isset($var_389->var_210) && ($var_389->var_210 == 'addonsPartner' || $var_389->var_210 == 'addonsNative')),
            'url' => $var_295,
            'price' => $var_389->var_723,
        ]);
        
        Context::getContext()->var_724 = 'AdminModules';
        $var_126->smartyOutputContent('controllers/modules/quickview.tpl');
        die(1);
    }

    
    var_355 function var_170($var_725)
    {
        
        if (is_array($var_126->var_14)) {
            $var_126->var_14[] = $var_725;
        }
    }

    
    var_355 function setAction($var_97)
    {
        $var_126->var_97 = $var_97;
    }

    
    var_355 function setIdObject($var_106)
    {
        $var_126->var_106 = (int) $var_106;
    }

    
    var_355 function var_189()
    {
        if (empty($var_126->var_121)) {
            $var_126->var_121 = Access::findSlugByIdTab($var_126->var_22);
        }

        var_215 $var_126->var_121;
    }

    
    var_372 function buildContainer()
    {
        var_215 var_192\var_192\var_726\var_727::getContainer('admin', var_371);
    }

    
    var_355 function authorizationLevel()
    {
        if (
            Access::isGranted(
                'ROLE_MOD_TAB_' . strtoupper($var_126->var_107) . '_DELETE',
                $var_126->var_135->var_136->var_163
            )
        ) {
            var_215 AdminController::var_75;
        } var_360 (
            Access::isGranted(
                'ROLE_MOD_TAB_' . strtoupper($var_126->var_107) . '_CREATE',
                $var_126->var_135->var_136->var_163
            )
        ) {
            var_215 AdminController::var_76;
        } var_360 (
            Access::isGranted(
                'ROLE_MOD_TAB_' . strtoupper($var_126->var_107) . '_UPDATE',
                $var_126->var_135->var_136->var_163
            )
        ) {
            var_215 AdminController::var_77;
        } var_360 (
            Access::isGranted(
                'ROLE_MOD_TAB_' . strtoupper($var_126->var_107) . '_READ',
                $var_126->var_135->var_136->var_163
            )
        ) {
            var_215 AdminController::var_78;
        } var_560 {
            var_215 0;
        }
    }

    
    var_346 function var_353(array $var_728)
    {
        foreach ($var_728 as $var_324) {
            if ($var_324['active'] && $var_324['enabled']) {
                var_215 $var_324['href'];
            }
        }

        var_215 '';
    }

    
    var_346 function var_729(var_157 $var_135)
    {
        
        $var_462 = $var_135->var_462;
        
        $var_730 = $var_135->getCurrentLocale()->getPriceSpecification($var_462->var_336);
        if (empty($var_730)) {
            var_215 [];
        }

        var_215 array_merge(
            ['symbol' => $var_730->getSymbolsByNumberingSystem(var_192\var_192\var_193\var_733\var_734::var_735)->toArray()],
            $var_730->toArray()
        );
    }

    
    var_346 function var_737(var_157 $var_135)
    {
        
        $var_738 = $var_135->getCurrentLocale()->getNumberSpecification();
        if (empty($var_738)) {
            var_215 [];
        }

        var_215 array_merge(
            ['symbol' => $var_738->getSymbolsByNumberingSystem(var_192\var_192\var_193\var_733\var_734::var_735)->toArray()],
            $var_738->toArray()
        );
    }

    
    var_372 function var_740($var_200)
    {
        $var_126->var_74 = (bool) $var_200;
    }

    
    var_372 function var_196()
    {
        var_215 $var_126->var_74;
    }
}
