<?php


if(!defined('DOKU_INC')) die('meh.');
if(!defined('NL')) define('NL',"\n");


function fn_0($var_0,$var_1=null,$var_2=''){
    static $var_3 = null;
    if(is_null($var_3)){
        $var_3 = p_get_renderer('xhtml');
    }

    return $var_3->internallink($var_0,$var_1,$var_2,true,'navigation');
}


function fn_1($var_5){
    $var_6 = '';
    foreach ( $var_5 as $var_7 => $var_8 ) {
        $var_6 .= $var_7.'="'.formText($var_8).'" ';
    }
    return trim($var_6);
}


function fn_2(){
    global $var_9;
    global $var_10;
    global $var_11;

    
    
    $var_12 = new class_0(array('id' => 'dw__login'));
    $var_12->startFieldset($var_9['btn_login']);
    $var_12->addHidden('id', $var_11);
    $var_12->addHidden('do', 'login');
    $var_12->addElement(form_makeTextField('u', ((!$_REQUEST['http_credentials']) ? $_REQUEST['u'] : ''), $var_9['user'], 'focus__this', 'block'));
    $var_12->addElement(form_makePasswordField('p', $var_9['pass'], '', 'block'));
    if($var_10['rememberme']) {
        $var_12->addElement(form_makeCheckboxField('r', '1', $var_9['remember'], 'remember__me', 'simple'));
    }
    $var_12->addElement(form_makeButton('submit', '', $var_9['btn_login']));
    $var_12->endFieldset();

    if(actionOK('register')){
        $var_12->addElement('<p>'.$var_9['reghere'].': '.tpl_actionlink('register','','','',true).'</p>');
    }

    if (actionOK('resendpwd')) {
        $var_12->addElement('<p>'.$var_9['pwdforget'].': '.tpl_actionlink('resendpwd','','','',true).'</p>');
    }

    fn_31('login', $var_12);
    
}


function fn_3($var_17,$var_18=true){
    global $var_19;

    $var_20 = '

    if(!$INFO['var_21'] || !$var_18 || $var_19['rev']){
        return preg_replace($var_20,'',$var_17);
    }

    return preg_replace_callback($var_20,
                'html_secedit_button', $var_17);
}


function fn_4($var_22){
    $var_23 = array('secid'  => $var_22[1],
                  'target' => strtolower($var_22[2]),
                  'range'  => $var_22[count($var_22) - 1]);
    if (count($var_22) === 5) {
        $var_23['name'] = $var_22[3];
    }

    return trigger_event('HTML_SECEDIT_BUTTON', $var_23,
                         'html_secedit_get_button');
}


function fn_5($var_23) {
    global $var_11;
    global $var_19;

    if (!isset($var_23['name']) || $var_23['name'] === '') return;

    $var_1 = $var_23['name'];
    unset($var_23['name']);

    $var_24 = $var_23['secid'];
    unset($var_23['secid']);

    return "<div class='secedit editbutton_" . $var_23['target'] .
                       " editbutton_" . $var_24 . "'>" .
           html_btn('secedit', $var_11, '',
                    array_merge(array('do'  => 'edit',
                                      'rev' => $var_19['lastmod'],
                                      'summary' => '['.$var_1.'] '), $var_23),
                    'post', $var_1) . '</div>';
}


function var_25(){
    global $var_9;

    $var_6  = '';
    $var_6  = '<a class="nolink" href="

    return $ret;
}


function html_btn($name,$id,$akey,$params,$method='var_26',$var_27='',$var_28=false){
    global $var_10;
    global $var_9;

    if (!$var_28)
        $var_28 = $var_9['btn_'.$var_1];

    $var_6 = '';
    $var_29 = '';

    
    $var_0 = idfilter($var_0,false);

    
    if($var_10['userewrite'] == 2){
        $var_30 = var_31.var_32.'/'.$var_0;
    }elseif($var_10['userewrite']){
        $var_30 = var_31.$var_0;
    }else{
        $var_30 = var_31.var_32;
        $var_34['id'] = $var_0;
    }

    $var_6 .= '<form class="button btn_'.$var_1.'" method="'.$var_33.'" action="'.$var_30.'"><div class="no">';

    if(is_array($var_34)){
        reset($var_34);
        while (list($var_7, $var_35) = each($var_34)) {
            $var_6 .= '<input type="hidden" name="'.$var_7.'" ';
            $var_6 .= 'value="'.htmlspecialchars($var_35).'" />';
        }
    }

    if ($var_27!='') {
        $var_29 = htmlspecialchars($var_27);
    }else{
        $var_29 = htmlspecialchars($var_28);
    }

    $var_6 .= '<input type="submit" value="'.hsc($var_28).'" class="button" ';
    if($var_36){
        $var_29 .= ' ['.strtoupper($var_36).']';
        $var_6 .= 'accesskey="'.$var_36.'" ';
    }
    $var_6 .= 'title="'.$var_29.'" ';
    $var_6 .= '/>';
    $var_6 .= '</div></form>';

    return $var_6;
}


function fn_6($var_37=null){
    global $var_11;
    global $var_38;
    global $var_39;
    global $var_19;
    
    if($var_37 || $var_38){
        $var_40 = false;
    }else{
        $var_40 = true;
    }

    if (!is_null($var_37)){
        
        
        
        
        $var_41 = fn_3(p_render('xhtml',p_get_instructions($var_37),$var_42),$var_40);
        if($var_19['prependTOC']) $var_41 = tpl_toc(true).$var_41;
        
        
        

    }else{
        if ($var_38) 
        $var_41 = p_wiki_xhtml($var_11,$var_38,true);
        $var_41 = fn_3($var_41,$var_40);
        if($var_19['prependTOC']) $var_41 = tpl_toc(true).$var_41;
        $var_41 = fn_8($var_41,$var_39);
        
    }
}


function fn_7(){
    global $var_19;
    global $var_11;
    global $var_9;
    global $var_10;
    $var_43 = unserialize(io_readFile($var_19['draft'],false));
    $var_17  = cleanText(con($var_43['prefix'],$var_43['text'],$var_43['suffix'],true));

    
    $var_12 = new class_0(array('id' => 'dw__editform'));
    $var_12->addHidden('id', $var_11);
    $var_12->addHidden('date', $var_43['date']);
    $var_12->addElement(form_makeWikiText($var_17, array('readonly'=>'readonly')));
    $var_12->addElement(form_makeOpenTag('div', array('id'=>'draft__status')));
    $var_12->addElement($var_9['draftdate'].' '. dformat(filemtime($var_19['draft'])));
    $var_12->addElement(form_makeCloseTag('div'));
    $var_12->addElement(form_makeButton('submit', 'recover', $var_9['btn_recover'], array('tabindex'=>'1')));
    $var_12->addElement(form_makeButton('submit', 'draftdel', $var_9['btn_draftdel'], array('tabindex'=>'2')));
    $var_12->addElement(form_makeButton('submit', 'show', $var_9['btn_cancel'], array('tabindex'=>'3')));
    fn_31('draft', $var_12);
}


function fn_8($var_41,$var_44){
    $var_44 = array_filter((array) $var_44);
    $var_45 = join('|',array_map('ft_snippet_re_preprocess', array_map('preg_quote_cb',$var_44)));

    if ($var_45 === '') return $var_41;
    if (!utf8_check($var_45)) return $var_41;
    $var_41 = @preg_replace_callback("/((<[^>]*)|$var_45)/ui",'html_hilight_callback',$var_41);
    return $var_41;
}


function fn_9($var_46) {
    $var_47 = unslash($var_46[0]);
    if ( !isset($var_46[2])) {
        $var_47 = '<span class="search_hit">'.$var_47.'</span>';
    }
    return $var_47;
}


function fn_10(){
    global $var_10;
    global $var_48;
    global $var_11;
    global $var_9;

    $var_49 = p_locale_xhtml('searchpage');
    
    $var_49 = str_replace(
                array('@QUERY@','@SEARCH@'),
                array(hsc(rawurlencode($var_48)),hsc($var_48)),
                $var_49);
    
    flush();

    
    
    '.NL;
    
    flush();

    
    $data = array();

    $data = ft_pageLookup($QUERY,true,useHeading('var_50'));
    if(count($var_23)){
        
        
        
        foreach($var_23 as $var_0 => $var_51){
            
            if (useHeading('navigation')) {
                $var_1 = $var_51;
            }else{
                $var_52 = getNS($var_0);
                if($var_52){
                    $var_1 = shorten(noNS($var_0), ' ('.$var_52.')',30);
                }else{
                    $var_1 = $var_0;
                }
            }
            
            
        }
        
        
        
        
    }
    flush();

    
    $var_23 = ft_pageSearch($var_48,$var_45);
    if(count($var_23)){
        $var_53 = 1;
        foreach($var_23 as $var_0 => $var_54){
            
            
            if($var_54 !== 0){
                
                if($var_53 < var_55){ 
                    
                }
                $var_53++;
            }
            
            flush();
        }
    }else{
        
    }

    
    '.NL;
    
}


function html_locked(){
    global $ID;
    global $conf;
    global $lang;
    global $INFO;

    $locktime = filemtime(wikiLockFN($ID));
    $expire = dformat($locktime + $conf['var_56']);
    $var_57    = round(($var_10['locktime'] - (time() - $var_56) )/60);

    
    
    
    
    
}


function fn_11($var_58=0, $var_59 = false){
    global $var_11;
    global $var_19;
    global $var_10;
    global $var_9;
    $var_0 = $var_11;
    
    if (!$var_59) $var_60 = getRevisions($var_11, $var_58, $var_10['recent']+1);
    else {
        $var_60 = getRevisions($var_59, $var_58, $var_10['recent']+1, 8192, true);
        $var_0 = $var_59;
    }

    if(count($var_60)==0 && $var_58!=0){
        $var_58=0;
        if (!$var_59) $var_60 = getRevisions($var_11, $var_58, $var_10['recent']+1);
        else $var_60 = getRevisions($var_59, $var_58, $var_10['recent']+1, 8192, true);
    }
    $var_61 = false;
    if (count($var_60)>$var_10['recent']) {
        $var_61 = true;
        array_pop($var_60); 
    }

    if (!$var_59) $var_62 = dformat($var_19['lastmod']);
    else $var_62 = dformat(@filemtime(mediaFN($var_0)));

    if (!$var_59) 

    $var_34 = array('id' => 'page__revisions');
    if ($var_59) $var_34['action'] = media_managerURL(array('image' => $var_59), '&');

    $var_12 = new class_0($var_34);
    $var_12->addElement(form_makeOpenTag('ul'));

    if (!$var_59) $var_63 = $var_19['exists'];
    else $var_63 = @file_exists(mediaFN($var_0));

    if($var_63 && $var_58==0){
        if (!$var_59 && isset($var_19['meta']) && isset($var_19['meta']['last_change']) && $var_19['meta']['last_change']['type']===var_64)
            $var_12->addElement(form_makeOpenTag('li', array('class' => 'minor')));
        else
            $var_12->addElement(form_makeOpenTag('li'));
        $var_12->addElement(form_makeOpenTag('div', array('class' => 'li')));
        $var_12->addElement(form_makeTag('input', array(
                        'type' => 'checkbox',
                        'name' => 'rev2[]',
                        'value' => 'current')));

        $var_12->addElement(form_makeOpenTag('span', array('class' => 'date')));
        $var_12->addElement($var_62);
        $var_12->addElement(form_makeCloseTag('span'));

        $var_12->addElement('<img src="'.var_31.'lib/images/blank.gif" width="15" height="11" alt="" />');

        if (!$var_59) $var_65 = wl($var_0);
        else $var_65 = media_managerURL(array('image' => $var_0, 'tab_details' => 'view'), '&');
        $var_12->addElement(form_makeOpenTag('a', array(
                        'class' => 'wikilink1',
                        'href'  => $var_65)));
        $var_12->addElement($var_0);
        $var_12->addElement(form_makeCloseTag('a'));

        if ($var_59) $var_12->addElement(form_makeOpenTag('div'));

        if (!$var_59) {
            $var_12->addElement(form_makeOpenTag('span', array('class' => 'sum')));
            $var_12->addElement(' &ndash; ');
            $var_12->addElement(htmlspecialchars($var_19['sum']));
            $var_12->addElement(form_makeCloseTag('span'));
        }

        $var_12->addElement(form_makeOpenTag('span', array('class' => 'user')));
        if (!$var_59) $var_66 = $var_19['editor'];
        else {
            $var_67 = getRevisionInfo($var_0, @filemtime(fullpath(mediaFN($var_0))), 1024, true);
            if($var_67['user']){
                $var_66 = $var_67['user'];
            }else{
                $var_66 = $var_67['ip'];
            }
        }
        $var_12->addElement((empty($var_66))?('('.$var_9['external_edit'].')'):editorinfo($var_66));
        $var_12->addElement(form_makeCloseTag('span'));

        $var_12->addElement('('.$var_9['current'].')');

        if ($var_59) $var_12->addElement(form_makeCloseTag('div'));

        $var_12->addElement(form_makeCloseTag('div'));
        $var_12->addElement(form_makeCloseTag('li'));
    }

    foreach($var_60 as $var_68){
        $var_62 = dformat($var_68);
        if (!$var_59) {
            $var_42 = getRevisionInfo($var_0,$var_68,true);
            $var_63 = page_exists($var_0,$var_68);
        }  else {
            $var_42 = getRevisionInfo($var_0,$var_68,true,true);
            $var_63 = @file_exists(mediaFN($var_0,$var_68));
        }

        if ($var_42['type']===var_64)
            $var_12->addElement(form_makeOpenTag('li', array('class' => 'minor')));
        else
            $var_12->addElement(form_makeOpenTag('li'));
        $var_12->addElement(form_makeOpenTag('div', array('class' => 'li')));
        if($var_63){
            $var_12->addElement(form_makeTag('input', array(
                            'type' => 'checkbox',
                            'name' => 'rev2[]',
                            'value' => $var_68)));
        }else{
            $var_12->addElement('<img src="'.var_31.'lib/images/blank.gif" width="15" height="11" alt="" />');
        }

        $var_12->addElement(form_makeOpenTag('span', array('class' => 'date')));
        $var_12->addElement($var_62);
        $var_12->addElement(form_makeCloseTag('span'));

        if($var_63){
            if (!$var_59) $var_65 = wl($var_0,"rev=$var_68,do=diff", false, '&');
            else $var_65 = media_managerURL(array('image' => $var_0, 'rev' => $var_68, 'mediado' => 'diff'), '&');
            $var_12->addElement(form_makeOpenTag('a', array('href' => $var_65, 'class' => 'diff_link')));
            $var_12->addElement(form_makeTag('img', array(
                            'src'    => var_31.'lib/images/diff.png',
                            'width'  => 15,
                            'height' => 11,
                            'title'  => $var_9['diff'],
                            'alt'    => $var_9['diff'])));
            $var_12->addElement(form_makeCloseTag('a'));
            if (!$var_59) $var_65 = wl($var_0,"rev=$var_68",false,'&');
            else $var_65 = media_managerURL(array('image' => $var_0, 'tab_details' => 'view', 'rev' => $var_68), '&');
            $var_12->addElement(form_makeOpenTag('a', array('href' => $var_65, 'class' => 'wikilink1')));
            $var_12->addElement($var_0);
            $var_12->addElement(form_makeCloseTag('a'));
        }else{
            $var_12->addElement('<img src="'.var_31.'lib/images/blank.gif" width="15" height="11" alt="" />');
            $var_12->addElement($var_0);
        }

        if ($var_59) $var_12->addElement(form_makeOpenTag('div'));

        if ($var_42['sum']) {
            $var_12->addElement(form_makeOpenTag('span', array('class' => 'sum')));
            if (!$var_59) $var_12->addElement(' &ndash; ');
            $var_12->addElement(htmlspecialchars($var_42['sum']));
            $var_12->addElement(form_makeCloseTag('span'));
        }

        $var_12->addElement(form_makeOpenTag('span', array('class' => 'user')));
        if($var_42['user']){
            $var_12->addElement(editorinfo($var_42['user']));
            if(auth_ismanager()){
                $var_12->addElement(' ('.$var_42['ip'].')');
            }
        }else{
            $var_12->addElement($var_42['ip']);
        }
        $var_12->addElement(form_makeCloseTag('span'));

        if ($var_59) $var_12->addElement(form_makeCloseTag('div'));

        $var_12->addElement(form_makeCloseTag('div'));
        $var_12->addElement(form_makeCloseTag('li'));
    }
    $var_12->addElement(form_makeCloseTag('ul'));
    if (!$var_59) {
        $var_12->addElement(form_makeButton('submit', 'diff', $var_9['diff2']));
    } else {
        $var_12->addHidden('mediado', 'diff');
        $var_12->addElement(form_makeButton('submit', '', $var_9['diff2']));
    }
    fn_31('revisions', $var_12);

    
    $var_69 = $var_58 + $var_10['recent'];
    if ($var_58 > 0) {
        $var_58 -= $var_10['recent'];
        if ($var_58 < 0) $var_58 = 0;
        
        if ($var_59) {
            ', false, true));
        } else {
            
        }
        
    }
    if ($hasNext) {
        
        if ($media_id) {
            ', false, true));
        } else {
            
        }
        
    }
    

}


function fn_12($var_58=0, $var_70='both'){
    global $var_10;
    global $var_9;
    global $var_11;
    
    $var_71 = 0;
    if ($var_70 == 'mediafiles' && $var_10['mediarevisions']) {
        $var_71 = var_72;
    } elseif ($var_70 == 'pages') {
        $var_71 = 0;
    } elseif ($var_10['mediarevisions']) {
        $var_70 = 'both';
        $var_71 = var_73;
    }

    $var_74 = getRecents($var_58,$var_10['recent'] + 1,getNS($var_11),$var_71);
    if(count($var_74) == 0 && $var_58 != 0){
        $var_58=0;
        $var_74 = getRecents($var_58,$var_10['recent'] + 1,getNS($var_11),$var_71);
    }
    $var_61 = false;
    if (count($var_74)>$var_10['recent']) {
        $var_61 = true;
        array_pop($var_74); 
    }

    

    if (getNS($var_11) != '')
        

    $var_12 = new class_0(array('id' => 'dw__recent', 'method' => 'GET'));
    $var_12->addHidden('sectok', null);
    $var_12->addHidden('do', 'recent');
    $var_12->addHidden('id', $var_11);

    if ($var_10['mediarevisions']) {
        $var_12->addElement(form_makeListboxField(
                    'show_changes',
                    array(
                        'pages'      => $var_9['pages_changes'],
                        'mediafiles' => $var_9['media_changes'],
                        'both'       => $var_9['both_changes']),
                    $var_70,
                    $var_9['changes_type'],
                    '','',
                    array('class'=>'quickselect')));

        $var_12->addElement(form_makeButton('submit', 'recent', $var_9['btn_apply']));
    }

    $var_12->addElement(form_makeOpenTag('ul'));

    foreach($var_74 as $var_75){
        $var_62 = dformat($var_75['date']);
        if ($var_75['type']===var_64)
            $var_12->addElement(form_makeOpenTag('li', array('class' => 'minor')));
        else
            $var_12->addElement(form_makeOpenTag('li'));

        $var_12->addElement(form_makeOpenTag('div', array('class' => 'li')));

        if ($var_75['media']) {
            $var_12->addElement(media_printicon($var_75['id']));
        } else {
            $var_76 = var_31.'lib/images/fileicons/file.png';
            $var_12->addElement('<img src="'.$var_76.'" alt="'.$var_77.'" class="icon" />');
        }

        $var_12->addElement(form_makeOpenTag('span', array('class' => 'date')));
        $var_12->addElement($var_62);
        $var_12->addElement(form_makeCloseTag('span'));

        if ($var_75['media']) {
            $var_78 = (count(getRevisions($var_75['id'], 0, 1, 8192, true)) && @file_exists(mediaFN($var_75['id'])));
            if ($var_78) {
                $var_65 = media_managerURL(array('tab_details' => 'history',
                    'mediado' => 'diff', 'image' => $var_75['id'], 'ns' => getNS($var_75['id'])), '&');
            }
        } else {
            $var_65 = wl($var_75['id'],"do=diff", false, '&');
        }

        if ($var_75['media'] && !$var_78) {
            $var_12->addElement('<img src="'.var_31.'lib/images/blank.gif" width="15" height="11" alt="" />');
        } else {
            $var_12->addElement(form_makeOpenTag('a', array('class' => 'diff_link', 'href' => $var_65)));
            $var_12->addElement(form_makeTag('img', array(
                            'src'   => var_31.'lib/images/diff.png',
                            'width' => 15,
                            'height'=> 11,
                            'title' => $var_9['diff'],
                            'alt'   => $var_9['diff']
                            )));
            $var_12->addElement(form_makeCloseTag('a'));
        }

        if ($var_75['media']) {
            $var_65 = media_managerURL(array('tab_details' => 'history',
                'image' => $var_75['id'], 'ns' => getNS($var_75['id'])), '&');
        } else {
            $var_65 = wl($var_75['id'],"do=revisions",false,'&');
        }
        $var_12->addElement(form_makeOpenTag('a', array('class' => 'revisions_link', 'href' => $var_65)));
        $var_12->addElement(form_makeTag('img', array(
                        'src'   => var_31.'lib/images/history.png',
                        'width' => 12,
                        'height'=> 14,
                        'title' => $var_9['btn_revs'],
                        'alt'   => $var_9['btn_revs']
                        )));
        $var_12->addElement(form_makeCloseTag('a'));

        if ($var_75['media']) {
            $var_65 = media_managerURL(array('tab_details' => 'view', 'image' => $var_75['id'], 'ns' => getNS($var_75['id'])), '&');
            $var_79 = (file_exists(mediaFN($var_75['id']))) ? 'wikilink1' : $var_79 = 'wikilink2';
            $var_12->addElement(form_makeOpenTag('a', array('class' => $var_79, 'href' => $var_65)));
            $var_12->addElement($var_75['id']);
            $var_12->addElement(form_makeCloseTag('a'));
        } else {
            $var_12->addElement(fn_0(':'.$var_75['id'],useHeading('navigation')?null:$var_75['id']));
        }
        $var_12->addElement(form_makeOpenTag('span', array('class' => 'sum')));
        $var_12->addElement(' &ndash; '.htmlspecialchars($var_75['sum']));
        $var_12->addElement(form_makeCloseTag('span'));

        $var_12->addElement(form_makeOpenTag('span', array('class' => 'user')));
        if($var_75['user']){
            $var_12->addElement(editorinfo($var_75['user']));
            if(auth_ismanager()){
                $var_12->addElement(' ('.$var_75['ip'].')');
            }
        }else{
            $var_12->addElement($var_75['ip']);
        }
        $var_12->addElement(form_makeCloseTag('span'));

        $var_12->addElement(form_makeCloseTag('div'));
        $var_12->addElement(form_makeCloseTag('li'));
    }
    $var_12->addElement(form_makeCloseTag('ul'));

    $var_12->addElement(form_makeOpenTag('div', array('class' => 'pagenav')));
    $var_69 = $var_58 + $var_10['recent'];
    if ($var_58 > 0) {
        $var_58 -= $var_10['recent'];
        if ($var_58 < 0) $var_58 = 0;
        $var_12->addElement(form_makeOpenTag('div', array('class' => 'pagenav-prev')));
        $var_12->addElement(form_makeTag('input', array(
                    'type'  => 'submit',
                    'name'  => 'first['.$var_58.']',
                    'value' => $var_9['btn_newer'],
                    'accesskey' => 'n',
                    'title' => $var_9['btn_newer'].' [N]',
                    'class' => 'button show'
                    )));
        $var_12->addElement(form_makeCloseTag('div'));
    }
    if ($var_61) {
        $var_12->addElement(form_makeOpenTag('div', array('class' => 'pagenav-next')));
        $var_12->addElement(form_makeTag('input', array(
                        'type'  => 'submit',
                        'name'  => 'first['.$var_69.']',
                        'value' => $var_9['btn_older'],
                        'accesskey' => 'p',
                        'title' => $var_9['btn_older'].' [P]',
                        'class' => 'button show'
                        )));
        $var_12->addElement(form_makeCloseTag('div'));
    }
    $var_12->addElement(form_makeCloseTag('div'));
    fn_31('recent', $var_12);
}


function fn_13($var_52){
    global $var_10;
    global $var_11;
    $var_80 = $var_10['datadir'];
    $var_52  = cleanID($var_52);
    
    if(empty($var_52)){
        $var_52 = dirname(str_replace(':','/',$var_11));
        if($var_52 == '.') $var_52 ='';
    }
    $var_52  = utf8_encodeFN(str_replace(':','/',$var_52));

    
    

    $var_23 = array();
    search($var_23,$var_10['datadir'],'search_index',array('ns' => $var_52));
    

    
}


function fn_14($var_81){
    global $var_11;
    $var_6 = '';
    $var_82 = ':'.$var_81['id'];
    $var_82 = substr($var_82,strrpos($var_82,':')+1);
    if($var_81['type']=='d'){
        $var_6 .= '<a href="'.wl($var_11,'idx='.rawurlencode($var_81['id'])).'" class="idx_dir"><strong>';
        $var_6 .= $var_82;
        $var_6 .= '</strong></a>';
    }else{
        $var_6 .= fn_0(':'.$var_81['id']);
    }
    return $var_6;
}


function fn_15($var_81){
    if($var_81['type'] == "f"){
        return '<li class="level'.$var_81['level'].'">';
    }elseif($var_81['open']){
        return '<li class="open">';
    }else{
        return '<li class="closed">';
    }
}


function fn_16($var_81){
    return '<li class="level'.$var_81['level'].'">';
}


function fn_17($var_23,$var_79,$var_83,$var_84='html_li_default',$var_85=false){
    if (count($var_23) === 0) {
        return '';
    }

    $var_86 = $var_23[0]['level'];
    $var_87 = $var_86;
    $var_6   = '';
    $var_88  = 0;

    foreach ($var_23 as $var_81){

        if( $var_81['level'] > $var_87 ){
            
            for($var_89=0; $var_89<($var_81['level'] - $var_87); $var_89++){
                if ($var_89) $var_6 .= "<li class=\"clear\">";
                $var_6 .= "\n<ul class=\"$var_79\">\n";
                $var_88++;
            }
            $var_87 = $var_81['level'];

        }elseif( $var_81['level'] < $var_87 ){
            
            $var_6 .= "</li>\n";
            while( $var_87 > $var_81['level'] && $var_88 > 0 ){
                
                $var_6 .= "</ul>\n</li>\n";
                $var_87--;
                $var_88--;
            }
        } elseif ($var_6 !== '') {
            
            $var_6 .= "</li>\n";
        }

        
        $var_6 .= call_user_func($var_84,$var_81);
        $var_6 .= '<div class="li">';

        $var_6 .= call_user_func($var_83,$var_81);
        $var_6 .= '</div>';
    }

    
    $var_6 .= "</li>\n";
    while($var_88-- > 0) {
        $var_6 .= "</ul></li>\n";
    }

    if ($var_85 || $var_86 < 2) {
        
        
        $var_6 = "\n<ul class=\"$var_79\">\n".$var_6."</ul>\n";
    }

    return $var_6;
}


function fn_18(){
    global $var_11;
    global $var_10;
    global $var_9;

    

    $var_23 = ft_backlinks($var_11);

    if(!empty($var_23)) {
        
        foreach($var_23 as $var_90){
            
            
            
        }
        
    } else {
        
    }
}

function fn_19($var_91, $var_92, $var_0 = null, $var_93 = false) {
    global $var_9;
    if ($var_0 === null) {
        global $var_11;
        $var_0 = $var_11;
    }
    $var_94 = $var_93 ? 'mediaFN' : 'wikiFN';
    $var_95 = $var_93 ? 'ml' : 'wl';
    $var_96 = $var_97 = '';

    if(!$var_91){
        $var_98 = '&mdash;';
    }else{
        $var_99   = getRevisionInfo($var_0,$var_91,true, $var_93);
        if($var_99['user']){
            $var_100 = editorinfo($var_99['user']);
            if(auth_ismanager()) $var_100 .= ' ('.$var_99['ip'].')';
        } else {
            $var_100 = $var_99['ip'];
        }
        $var_100  = '<span class="user">'.$var_100.'</span>';
        $var_101   = ($var_99['sum']) ? '<span class="sum">'.hsc($var_99['sum']).'</span>' : '';
        if ($var_99['type']===var_64) $var_96 = 'class="minor"';

        $var_102 = ($var_93) ? dformat($var_91) : $var_0.' ['.dformat($var_91).']';
        $var_98 = '<a class="wikilink1" href="'.$var_95($var_0,"rev=$var_91").'">'.
        $var_102.'</a>'.
        '<br />'.$var_100.' '.$var_101;
    }

    if($var_92){
        $var_103   = getRevisionInfo($var_0,$var_92,true, $var_93);
        if($var_103['user']){
            $var_104 = editorinfo($var_103['user']);
            if(auth_ismanager()) $var_104 .= ' ('.$var_103['ip'].')';
        } else {
            $var_104 = $var_103['ip'];
        }
        $var_104 = '<span class="user">'.$var_104.'</span>';
        $var_105  = ($var_103['sum']) ? '<span class="sum">'.hsc($var_103['sum']).'</span>' : '';
        if ($var_103['type']===var_64) $var_97 = 'class="minor"';

        $var_106 = ($var_93) ? dformat($var_92) : $var_0.' ['.dformat($var_92).']';
        $var_107 = '<a class="wikilink1" href="'.$var_95($var_0,"rev=$var_92").'">'.
        $var_106.'</a>'.
        '<br />'.$var_104.' '.$var_105;
    }elseif($var_108 = @filemtime($var_94($var_0))){
        $var_109   = getRevisionInfo($var_0,$var_108,true, $var_93);
        if($var_109['user']){
            $var_110 = editorinfo($var_109['user']);
            if(auth_ismanager()) $var_110 .= ' ('.$var_109['ip'].')';
        } else {
            $var_110 = $var_109['ip'];
        }
        $var_110 = '<span class="user">'.$var_110.'</span>';
        $var_111  = ($var_109['sum']) ? '<span class="sum">'.hsc($var_109['sum']).'</span>' : '';
        if ($var_109['type']===var_64) $var_97 = 'class="minor"';

        $var_106 = ($var_93) ? dformat($var_108) : $var_0.' ['.dformat($var_108).']';
        $var_107  = '<a class="wikilink1" href="'.$var_95($var_0).'">'.
        $var_106.'</a> '.
        '('.$var_9['current'].')'.
        '<br />'.$var_110.' '.$var_111;
    }else{
        $var_107 = '&mdash; ('.$var_9['current'].')';
    }

    return array($var_98, $var_107, $var_96, $var_97);
}


function fn_20($var_17='',$var_49=true,$var_112=null){
    global $var_11;
    global $var_38;
    global $var_9;
    global $var_10;

    if(!$var_112) $var_112 = $_REQUEST['difftype'];
    if($var_112 != 'inline') $var_112 = 'sidebyside';

    
    
    
    $var_113 = $var_38;

    if(is_array($_REQUEST['rev2'])){
        $var_113 = (int) $_REQUEST['rev2'][0];
        $var_114 = (int) $_REQUEST['rev2'][1];

        if(!$var_113){
            $var_113 = $var_114;
            unset($var_114);
        }
    }else{
        $var_114 = (int) $_REQUEST['rev2'];
    }

    $var_97 = '';
    $var_96 = '';

    if($var_17){                      
        $var_91   = '';
        $var_115  = rawWiki($var_11,'');
        $var_98  = '<a class="wikilink1" href="'.wl($var_11).'">'.
            $var_11.' '.dformat((int) @filemtime(wikiFN($var_11))).'</a> '.
            $var_9['current'];

        $var_92   = '';
        $var_116  = cleanText($var_17);
        $var_107  = $var_9['yours'];
    }else{
        if($var_113 && $var_114){            
            
            if($var_113 < $var_114){
                $var_91 = $var_113;
                $var_92 = $var_114;
            }else{
                $var_91 = $var_114;
                $var_92 = $var_113;
            }
        }elseif($var_113){                
            $var_92 = '';
            $var_91 = $var_113;
        }else{                        
            $var_92 = '';
            $var_117 = getRevisions($var_11, 0, 1);
            $var_91 = $var_117[0];
            $var_38 = $var_91; 
        }

        
        if(!$var_91 && !$var_92){
            $var_115 = '';
        }else{
            $var_115 = rawWiki($var_11,$var_91);
        }
        $var_116 = rawWiki($var_11,$var_92);

        list($var_98, $var_107, $var_96, $var_97) = fn_19($var_91, $var_92);
    }

    $var_118 = new class_1(explode("\n",htmlspecialchars($var_115)),
        explode("\n",htmlspecialchars($var_116)));

    if($var_112 == 'inline'){
        $var_119 = new class_2();
    } else {
        $var_119 = new class_3();
    }

    if($var_49) 

    if (!$var_17) {
        ptln('<div class="diffoptions">');

        $var_12 = new class_0(array('action'=>wl()));
        $var_12->addHidden('id',$var_11);
        $var_12->addHidden('rev2[0]',$var_91);
        $var_12->addHidden('rev2[1]',$var_92);
        $var_12->addHidden('do','diff');
        $var_12->addElement(form_makeListboxField(
                            'difftype',
                            array(
                                'sidebyside' => $var_9['diff_side'],
                                'inline'     => $var_9['diff_inline']),
                            $var_112,
                            $var_9['diff_type'],
                            '','',
                            array('class'=>'quickselect')));
        $var_12->addElement(form_makeButton('submit', 'diff','Go'));
        $var_12->printForm();

        $var_121 = wl($var_11, array(
                        'do'       => 'diff',
                        'rev2[0]'  => $var_91,
                        'rev2[1]'  => $var_92,
                        'difftype' => $var_112,
                      ));
        ptln('<p><a class="wikilink1" href="'.$var_121.'">'.$var_9['difflink'].'</a></p>');
        ptln('</div>');
    }
    ?>
    <div class="table">
    <table class="diff diff_<?php 
    global $var_9;

    
    $var_12 = new class_0(array('id' => 'dw__editform'));
    $var_12->addHidden('id', $var_11);
    $var_12->addHidden('wikitext', $var_17);
    $var_12->addHidden('summary', $var_122);
    $var_12->addElement(form_makeButton('submit', 'save', $var_9['btn_save'], array('accesskey'=>'s')));
    $var_12->addElement(form_makeButton('submit', 'cancel', $var_9['btn_cancel']));
    fn_31('conflict', $var_12);
    
}


function fn_21(){
    global $var_123, $var_124;
    
    $var_124 = true;

    if(!isset($var_123)) return;

    $var_125 = array();
    foreach($var_123 as $var_126){
        $var_127 = md5($var_126['msg']);
        if(isset($var_125[$var_127])) continue; 
        
        
        
        $var_125[$var_127] = 1;
    }

    unset($GLOBALS['MSG']);
}


function fn_22(){
    global $var_9;
    global $var_10;
    global $var_11;

    
    
    $var_12 = new class_0(array('id' => 'dw__register'));
    $var_12->startFieldset($var_9['btn_register']);
    $var_12->addHidden('do', 'register');
    $var_12->addHidden('save', '1');
    $var_12->addElement(form_makeTextField('login', $_POST['login'], $var_9['user'], '', 'block', array('size'=>'50')));
    if (!$var_10['autopasswd']) {
        $var_12->addElement(form_makePasswordField('pass', $var_9['pass'], '', 'block', array('size'=>'50')));
        $var_12->addElement(form_makePasswordField('passchk', $var_9['passchk'], '', 'block', array('size'=>'50')));
    }
    $var_12->addElement(form_makeTextField('fullname', $_POST['fullname'], $var_9['fullname'], '', 'block', array('size'=>'50')));
    $var_12->addElement(form_makeTextField('email', $_POST['email'], $var_9['email'], '', 'block', array('size'=>'50')));
    $var_12->addElement(form_makeButton('submit', '', $var_9['btn_register']));
    $var_12->endFieldset();
    fn_31('register', $var_12);

    
}


function fn_23(){
    global $var_9;
    global $var_10;
    global $var_11;
    global $var_19;
    global $var_128;

    

    if (empty($_POST['fullname'])) $_POST['fullname'] = $var_19['userinfo']['name'];
    if (empty($_POST['email'])) $_POST['email'] = $var_19['userinfo']['mail'];
    
    $var_12 = new class_0(array('id' => 'dw__register'));
    $var_12->startFieldset($var_9['profile']);
    $var_12->addHidden('do', 'profile');
    $var_12->addHidden('save', '1');
    $var_12->addElement(form_makeTextField('fullname', $var_154['REMOTE_USER'], $var_9['user'], '', 'block', array('size'=>'50', 'disabled'=>'disabled')));
    $var_129 = array('size'=>'50');
    if (!$var_128->canDo('modName')) $var_129['disabled'] = 'disabled';
    $var_12->addElement(form_makeTextField('fullname', $_POST['fullname'], $var_9['fullname'], '', 'block', $var_129));
    $var_129 = array('size'=>'50');
    if (!$var_128->canDo('modMail')) $var_129['disabled'] = 'disabled';
    $var_12->addElement(form_makeTextField('email', $_POST['email'], $var_9['email'], '', 'block', $var_129));
    $var_12->addElement(form_makeTag('br'));
    if ($var_128->canDo('modPass')) {
        $var_12->addElement(form_makePasswordField('newpass', $var_9['newpass'], '', 'block', array('size'=>'50')));
        $var_12->addElement(form_makePasswordField('passchk', $var_9['passchk'], '', 'block', array('size'=>'50')));
    }
    if ($var_10['profileconfirm']) {
        $var_12->addElement(form_makeTag('br'));
        $var_12->addElement(form_makePasswordField('oldpass', $var_9['oldpass'], '', 'block', array('size'=>'50')));
    }
    $var_12->addElement(form_makeButton('submit', '', $var_9['btn_save']));
    $var_12->addElement(form_makeButton('reset', '', $var_9['btn_reset']));
    $var_12->endFieldset();
    fn_31('updateprofile', $var_12);
    
}


function var_131(){
    global $var_11;
    global $var_38;
    global $var_132;
    global $var_133;
    global $var_134;
    global $var_19;
    global $var_135;
    global $var_9;
    global $var_10;
    global $var_136;
    global $var_137;

    if (isset($_REQUEST['changecheck'])) {
        $var_138 = $_REQUEST['changecheck'];
    } elseif(!$var_19['exists']){
        
        $var_138 = md5('');
    } else {
        $var_138 = md5($var_136);
    }
    $var_139 = md5($var_136) !== $var_138;

    $var_140 = $var_19['writable'] && !$var_19['locked'];
    $var_141 = 'edit';
    if($var_140){
        if ($var_38) $var_141 = 'editrev';
    }else{
        
        if(!actionOK('source')){
            msg('Command disabled: source',-1);
            return;
        }
        $var_141 = 'read';
    }

    global $var_142;

    $var_12 = new class_0(array('id' => 'dw__editform'));
    $var_12->addHidden('id', $var_11);
    $var_12->addHidden('rev', $var_38);
    $var_12->addHidden('date', $var_132);
    $var_12->addHidden('prefix', $var_133 . '.');
    $var_12->addHidden('suffix', $var_134);
    $var_12->addHidden('changecheck', $var_138);

    $var_23 = array('form' => $var_12,
                  'wr'   => $var_140,
                  'media_manager' => true,
                  'target' => (isset($_REQUEST['target']) && $var_140 &&
                               $var_137 !== '') ? $_REQUEST['target'] : 'section',
                  'intro_locale' => $var_141);

    if ($var_23['target'] !== 'section') {
        
        
        trigger_event('HTML_EDIT_FORMSELECTION', $var_23, 'html_edit_form', true);
    } else {
        fn_24($var_23);
    }
    if (isset($var_23['intro_locale'])) {
        
    }

    $var_12->addHidden('target', $var_23['target']);
    $var_12->addElement(form_makeOpenTag('div', array('id'=>'wiki__editbar')));
    $var_12->addElement(form_makeOpenTag('div', array('id'=>'size__ctl')));
    $var_12->addElement(form_makeCloseTag('div'));
    if ($var_140) {
        $var_12->addElement(form_makeOpenTag('div', array('class'=>'editButtons')));
        $var_12->addElement(form_makeButton('submit', 'save', $var_9['btn_save'], array('id'=>'edbtn__save', 'accesskey'=>'s', 'tabindex'=>'4')));
        $var_12->addElement(form_makeButton('submit', 'preview', $var_9['btn_preview'], array('id'=>'edbtn__preview', 'accesskey'=>'p', 'tabindex'=>'5')));
        $var_12->addElement(form_makeButton('submit', 'draftdel', $var_9['btn_cancel'], array('tabindex'=>'6')));
        $var_12->addElement(form_makeCloseTag('div'));
        $var_12->addElement(form_makeOpenTag('div', array('class'=>'summary')));
        $var_12->addElement(form_makeTextField('summary', $var_135, $var_9['summary'], 'edit__summary', 'nowrap', array('size'=>'50', 'tabindex'=>'2')));
        $var_143 = fn_25();
        if ($var_143) $var_12->addElement($var_143);
        $var_12->addElement(form_makeCloseTag('div'));
    }
    $var_12->addElement(form_makeCloseTag('div'));
    if($var_140 && $var_10['license']){
        $var_12->addElement(form_makeOpenTag('div', array('class'=>'license')));
        $var_144  = $var_9['licenseok'];
        $var_144 .= ' <a href="'.$var_142[$var_10['license']]['url'].'" rel="license" class="urlextern"';
        if($var_10['target']['extern']) $var_144 .= ' target="'.$var_10['target']['extern'].'"';
        $var_144 .= '>'.$var_142[$var_10['license']]['name'].'</a>';
        $var_12->addElement($var_144);
        $var_12->addElement(form_makeCloseTag('div'));
    }

    if ($var_140) {
        
        
        ">

    <div class="var_145">
    <var_146 var_0="var_147"><?php if(!empty($var_19['draft'])) ?></div>
    <div id="tool__bar"><?php if ($var_140 && $var_23['media_manager']){?><a href="<?php 
    
}


function fn_24($var_148) {
    global $var_136;

    if ($var_148['target'] !== 'section') {
        msg('No editor for edit target ' . $var_148['target'] . ' found.', -1);
    }

    $var_129 = array('tabindex'=>'1');
    if (!$var_148['wr']) $var_129['readonly'] = 'readonly';

    $var_148['form']->addElement(form_makeWikiText($var_136, $var_129));
}


function fn_25(){
    global $var_10;
    global $var_9;
    
    if(!$var_10['useacl'] || !$var_154['REMOTE_USER']){
        return false;
    }

    $var_149 = array();
    $var_149['tabindex'] = 3;
    if(!empty($_REQUEST['minor'])) $var_149['checked']='checked';
    return form_makeCheckboxField('minor', '1', $var_9['minoredit'], 'minoredit', 'nowrap', $var_149);
}


function fn_26(){
    global $var_10;
    global $var_9;
    global $var_128;
    global $var_19;

    
    $var_150 = $var_10;
    debug_guard($var_150);
    $var_151 = $var_19;
    debug_guard($var_151);
    $var_152 = $var_153;
    debug_guard($var_152);

    

    
    
    

    
    print_r($var_151);
    

    
    print_r($var_154);
    

    
    print_r($var_150);
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    
    
    

    if($var_128){
        
        print_r($var_128->var_155);
        
    }

    
    print_r($var_152);
    

    
    print_r($var_156);
    

    
    $var_157 = ini_get_all();
    print_r($var_157);
    

    
}


function fn_27(){
    global $var_11;
    global $var_19;
    global $var_9;
    global $var_10;
    global $var_128;

    
    $var_158 = plugin_list('admin');
    $var_159 = array();
    foreach ($var_158 as $var_149) {
        if($var_160 =& plugin_load('admin',$var_149) === null) continue;

        
        if($var_160->forAdminOnly() && !$var_19['isadmin']) continue;

        $var_159[$var_149] = array('plugin' => $var_149,
                'prompt' => $var_160->getMenuText($var_10['lang']),
                'sort' => $var_160->getMenuSort()
                );
    }

    
    
     var_164:var_165;"
            href="var_166:
            <var_167 var_168="var_23/var_169.var_170" var_171="var_172 var_23 var_173 var_174 var_175 var_176 protected var_177."
             onerror="var_178.var_179.var_180.var_181=\'none\'" /></a>';

    

    
    if($var_19['isadmin']){
        ptln('<ul class="admin_tasks">');

        if($var_159['usermanager'] && $var_128 && $var_128->canDo('getUsers')){
            ptln('  <li class="admin_usermanager"><div class="li">'.
                    '<a href="'.wl($var_11, array('do' => 'admin','page' => 'usermanager')).'">'.
                    $var_159['usermanager']['prompt'].'</a></div></li>');
        }
        unset($var_159['usermanager']);

        if($var_159['acl']){
            ptln('  <li class="admin_acl"><div class="li">'.
                    '<a href="'.wl($var_11, array('do' => 'admin','page' => 'acl')).'">'.
                    $var_159['acl']['prompt'].'</a></div></li>');
        }
        unset($var_159['acl']);

        if($var_159['plugin']){
            ptln('  <li class="admin_plugin"><div class="li">'.
                    '<a href="'.wl($var_11, array('do' => 'admin','page' => 'plugin')).'">'.
                    $var_159['plugin']['prompt'].'</a></div></li>');
        }
        unset($var_159['plugin']);

        if($var_159['config']){
            ptln('  <li class="admin_config"><div class="li">'.
                    '<a href="'.wl($var_11, array('do' => 'admin','page' => 'config')).'">'.
                    $var_159['config']['prompt'].'</a></div></li>');
        }
        unset($var_159['config']);
    }
    ptln('</ul>');

    
    ptln('<ul class="admin_tasks">');

    if($var_159['revert']){
        ptln('  <li class="admin_revert"><div class="li">'.
                '<a href="'.wl($var_11, array('do' => 'admin','page' => 'revert')).'">'.
                $var_159['revert']['prompt'].'</a></div></li>');
    }
    unset($var_159['revert']);

    if($var_159['popularity']){
        ptln('  <li class="admin_popularity"><div class="li">'.
                '<a href="'.wl($var_11, array('do' => 'admin','page' => 'popularity')).'">'.
                $var_159['popularity']['prompt'].'</a></div></li>');
    }
    unset($var_159['popularity']);

    
    ptln('</ul>');
    
    
    

    
    if(count($var_159)){
        usort($var_159, 'p_sort_modes');
        
        ptln('<div class="clearer"></div>');
        
        ptln('<ul>');
        foreach ($var_159 as $var_81) {
            if (!$var_81['prompt']) continue;
            ptln('  <li><div class="li"><a href="'.wl($var_11, 'do=admin&amp;page='.$var_81['plugin']).'">'.$var_81['prompt'].'</a></div></li>');
        }
        ptln('</ul>');
    }
}


function fn_28() {
    global $var_9;
    global $var_10;
    global $var_11;

    $var_182 = preg_replace('/[^a-f0-9]+/','',$_REQUEST['pwauth']);

    if(!$var_10['autopasswd'] && $var_182){
        
        
        $var_12 = new class_0(array('id' => 'dw__resendpwd'));
        $var_12->startFieldset($var_9['btn_resendpwd']);
        $var_12->addHidden('token', $var_182);
        $var_12->addHidden('do', 'resendpwd');

        $var_12->addElement(form_makePasswordField('pass', $var_9['pass'], '', 'block', array('size'=>'50')));
        $var_12->addElement(form_makePasswordField('passchk', $var_9['passchk'], '', 'block', array('size'=>'50')));

        $var_12->addElement(form_makeButton('submit', '', $var_9['btn_resendpwd']));
        $var_12->endFieldset();
        fn_31('resendpwd', $var_12);
        
    }else{
        
        
        $var_12 = new class_0(array('id' => 'dw__resendpwd'));
        $var_12->startFieldset($var_9['resendpwd']);
        $var_12->addHidden('do', 'resendpwd');
        $var_12->addHidden('save', '1');
        $var_12->addElement(form_makeTag('br'));
        $var_12->addElement(form_makeTextField('login', $_POST['login'], $var_9['user'], '', 'block'));
        $var_12->addElement(form_makeTag('br'));
        $var_12->addElement(form_makeTag('br'));
        $var_12->addElement(form_makeButton('submit', '', $var_9['btn_resendpwd']));
        $var_12->endFieldset();
        fn_31('resendpwd', $var_12);
        
    }
}


function fn_29($var_183){
    if(!count($var_183)) return '';
    global $var_9;
    $var_144  = '<!-- TOC START -->'.var_184;
    $var_144 .= '<div class="toc">'.var_184;
    $var_144 .= '<div class="tocheader toctoggle" id="toc__header">';
    $var_144 .= $var_9['toc'];
    $var_144 .= '</div>'.var_184;
    $var_144 .= '<div id="toc__inside">'.var_184;
    $var_144 .= fn_17($var_183,'toc','html_list_toc','html_li_default',true);
    $var_144 .= '</div>'.var_184.'</div>'.var_184;
    $var_144 .= '<!-- TOC END -->'.var_184;
    return $var_144;
}


function fn_30($var_81){
    if(isset($var_81['hid'])){
        $var_185 = '
    }else{
        $link = $item['var_185'];
    }

    return '<span class="li"><a href="'.$var_185.'" class="toc">'.
        hsc($var_81['title']).'</a></span>';
}


function var_186($var_185, $var_17, $var_87, $var_127='
    global $conf;
    return  array( 'var_185'  => $var_127.$var_185,
            'var_51' => $var_17,
            'var_112'  => 'var_187',
            'var_87' => $var_87);
}


function fn_31($var_1, &$var_12) {
    
    $var_12->endFieldset();
    trigger_event('HTML_'.strtoupper($var_1).'FORM_OUTPUT', $var_12, 'html_form_output', false);
}


function fn_32($var_23) {
    $var_23->printForm();
}


function fn_33($var_188,$var_189,$var_190,$var_34=null,$var_191=null,$var_192=null,$var_171=''){
    global $var_9;

    $var_144 = '';

    
    if(is_null($var_192)) $var_192 = array();
    $var_192['width']  = (int) $var_189;
    $var_192['height'] = (int) $var_190;
    if(!$var_192['width'])  $var_192['width']  = 425;
    if(!$var_192['height']) $var_192['height'] = 350;

    
    $var_193 = $var_192;
    $var_193['type'] = 'application/x-shockwave-flash';
    $var_193['data'] = $var_188;

    
    $var_194  = $var_192;
    $var_194['classid'] = 'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000';

    
    $var_144 .= '<!--[if !IE]> -->'.var_195;
    $var_144 .= '<object '.buildAttributes($var_193).'>'.var_195;
    $var_144 .= '<!-- <![endif]-->'.var_195;
    $var_144 .= '<!--[if IE]>'.var_195;
    $var_144 .= '<object '.buildAttributes($var_194).'>'.var_195;
    $var_144 .= '    <param name="movie" value="'.hsc($var_188).'" />'.var_195;
    $var_144 .= '<!--><!-- -->'.var_195;

    
    if(is_array($var_34)) foreach($var_34 as $var_7 => $var_35){
        $var_144 .= '  <param name="'.hsc($var_7).'" value="'.hsc($var_35).'" />'.var_195;
    }

    
    if(is_array($var_191)){
        $var_144 .= '  <param name="FlashVars" value="'.buildURLparams($var_191).'" />'.var_195;
    }

    
    if($var_171){
        $var_144 .= $var_171.var_195;
    }else{
        $var_144 .= $var_9['noflash'].var_195;
    }

    
    $var_144 .= '</object>'.var_195;
    $var_144 .= '<!-- <![endif]-->'.var_195;

    return $var_144;
}

function fn_34($var_196, $var_197 = null) {
    

    foreach($var_196 as $var_0 => $var_198) {
        fn_35($var_198['href'], $var_198['caption'], $var_0 === $var_197);
    }

    
}


function fn_35($var_65, $var_199, $var_200=false) {
    $var_198 = '<li>';
    if ($var_200) {
        $var_198 .= '<strong>';
    } else {
        $var_198 .= '<a href="' . hsc($var_65) . '">';
    }
    $var_198 .= hsc($var_199)
         .  '</' . ($var_200 ? 'strong' : 'a') . '>'
         .  '</li>'.var_195;
    
}

