<?php
	

	class class_0 {
		
		var $var_0;
		
		var $var_1;

		
		function fn_0() {
		}

		
		function fn_1($var_3 = false) {
			$var_4 = $var_5->fn_2();
			return !empty($var_4[$var_3 ? 'pg_dumpall_path' : 'pg_dump_path']);
		}

		
		function fn_3() {
			$var_5->var_0 = $var_5->fn_4();
		}

		
		function fn_4($var_9 = null) {
			$var_0 = '';
			if (isset($var_81['server']) && $var_9 != 'server') {
				$var_0 .= 'server=' . urlencode($var_81['server']);
				if (isset($var_81['database']) && $var_9 != 'database') {
					$var_0 .= '&amp;database=' . urlencode($var_81['database']);
					if (isset($var_81['schema']) && $var_9 != 'schema') {
						$var_0 .= '&amp;schema=' . urlencode($var_81['schema']);
					}
				}
			}
			return $var_0;
		}

		
		function fn_5() {
			$var_5->var_1 = '';
			if (isset($var_81['server'])) {
				$var_5->var_1 .= "<input type=\"hidden\" name=\"server\" value=\"" . htmlspecialchars($var_81['server']) . "\" />\n";
				if (isset($var_81['database'])) {
					$var_5->var_1 .= "<input type=\"hidden\" name=\"database\" value=\"" . htmlspecialchars($var_81['database']) . "\" />\n";
					if (isset($var_81['schema'])) {
						$var_5->var_1 .= "<input type=\"hidden\" name=\"schema\" value=\"" . htmlspecialchars($var_81['schema']) . "\" />\n";
					}
				}
			}
		}

		
		function fn_6($var_11, $var_12 = null, $var_13 = array()) {
			global $var_14, $var_15, $var_16;

			
			if (is_null($var_11))
				return isset($var_13['null'])
						? ($var_13['null'] === true ? '<i>NULL</i>' : $var_13['null'])
						: '';

			if (isset($var_13['map']) && isset($var_13['map'][$var_11])) $var_11 = $var_13['map'][$var_11];

			
			if (isset($var_13['clip']) && $var_13['clip'] === true) {
				$var_17 = isset($var_13['cliplen']) && is_integer($var_13['cliplen']) ? $var_13['cliplen'] : $var_15['max_chars'];
				$var_18 = isset($var_13['ellipsis']) ? $var_13['ellipsis'] : $var_14['strellipsis'];
				if (strlen($var_11) > $var_17) {
					$var_11 = substr($var_11, 0, $var_17-1) . $var_18;
				}
			}

			$var_19 = '';

			switch ($var_12) {
				case 'int2':
				case 'int4':
				case 'int8':
				case 'float4':
				case 'float8':
				case 'money':
				case 'numeric':
				case 'oid':
				case 'xid':
				case 'cid':
				case 'tid':
					$var_20 = 'right';
					$var_19 = nl2br(htmlspecialchars($var_11));
					break;
				case 'yesno':
					if (!isset($var_13['true'])) $var_13['true'] = $var_14['stryes'];
					if (!isset($var_13['false'])) $var_13['false'] = $var_14['strno'];
					
				case 'bool':
				case 'boolean':
					if (is_bool($var_11)) $var_11 = $var_11 ? 't' : 'f';
					switch ($var_11) {
						case 't':
							$var_19 = (isset($var_13['true']) ? $var_13['true'] : $var_14['strtrue']);
							$var_20 = 'center';
							break;
						case 'f':
							$var_19 = (isset($var_13['false']) ? $var_13['false'] : $var_14['strfalse']);
							$var_20 = 'center';
							break;
						default:
							$var_19 = htmlspecialchars($var_11);
					}
					break;
				case 'bytea':
					$var_21 = 'div';
					$var_22 = 'pre';
					$var_19 = $var_16->escapeBytea($var_11);
					break;
				case 'errormsg':
					$var_21 = 'pre';
					$var_22 = 'error';
					$var_19 = htmlspecialchars($var_11);
					break;
				case 'pre':
					$var_21 = 'pre';
					$var_19 = htmlspecialchars($var_11);
					break;
				case 'prenoescape':
					$var_21 = 'pre';
					$var_19 = $var_11;
					break;
				case 'nbsp':
					$var_19 = nl2br(str_replace(' ', '&nbsp;', htmlspecialchars($var_11)));
					break;
				case 'verbatim':
					$var_19 = $var_11;
					break;
				case 'callback':
					$var_19 = $var_13['function']($var_11, $var_13);
					break;
				case 'prettysize':
					if ($var_11 == -1) 
						$var_19 = $var_14['strnoaccess'];
					else
					{
						$var_24 = 10240;
						$var_25 = 1;
						if ($var_11 < $var_24 * $var_25)
							$var_19 = $var_11.' '.$var_14['strbytes'];
						else
						{
							$var_25 *= 1024;
							if ($var_11 < $var_24 * $var_25)
								$var_19 = floor(($var_11 + $var_25 / 2) / $var_25).' '.$var_14['strkb'];
							else
							{
								$var_25 *= 1024;
								if ($var_11 < $var_24 * $var_25)
									$var_19 = floor(($var_11 + $var_25 / 2) / $var_25).' '.$var_14['strmb'];
								else
								{
									$var_25 *= 1024;
									if ($var_11 < $var_24 * $var_25)
										$var_19 = floor(($var_11 + $var_25 / 2) / $var_25).' '.$var_14['strgb'];
									else
									{
										$var_25 *= 1024;
										if ($var_11 < $var_24 * $var_25)
											$var_19 = floor(($var_11 + $var_25 / 2) / $var_25).' '.$var_14['strtb'];
									}
								}
							}
						}
					}
					break;
				case 'slonystatus':
					switch ($var_11) {
					case 'insync':
						$var_19 = $var_14['strhealthy'];
						break;
					case 'outofsync':
						$var_19 = $var_14['stroutofsync'];
						break;
					default:
						$var_19 = $var_14['strunknown'];
					}
					break;
				default:
					
					
					
					if (preg_match('/(^ |  |\t|\n )/m', $var_11)) {
						$var_21 = 'pre';
						$var_22 = 'data';
						$var_19 = htmlspecialchars($var_11);
					} else {
						$var_19 = nl2br(htmlspecialchars($var_11));
					}
			}

			if (isset($var_13['class'])) $var_22 = $var_13['class'];
			if (isset($var_13['align'])) $var_20 = $var_13['align'];

			if (!isset($var_21) && (isset($var_22) || isset($var_20))) $var_21 = 'div';

			if (isset($var_21)) {
				$var_26 = isset($var_20) ? " style=\"text-align: {$var_20}\"" : '';
				$var_27 = isset($var_22) ? " class=\"{$var_22}\"" : '';
				$var_19 = "<{$var_21}{$var_26}{$var_27}>{$var_19}</{$var_21}>";
			}

			
			if (isset($var_13['lineno']) && $var_13['lineno'] === true) {
				$var_28 = explode("\n", $var_11);
				$var_29 = count($var_28);
				if ($var_29 > 0) {
					$var_30 = "<table>\n<tr><td class=\"{$var_22}\" style=\"vertical-align: top; padding-right: 10px;\"><pre class=\"{$var_22}\">";
					for ($var_31 = 1; $var_31 <= $var_29; $var_31++) {
						$var_30 .= $var_31 . "\n";
					}
					$var_30 .= "</pre></td><td class=\"{$var_22}\" style=\"vertical-align: top;\">{$var_19}</td></tr></table>\n";
					$var_19 = $var_30;
				}
				unset($var_28);
			}

			return $var_19;
		}

		
		function fn_7(&$var_33) {
			if (is_array($var_33)) {
				foreach($var_33 as $var_34 => $var_35) {
					$var_5->fn_7($var_33[$var_34]);

					
					if (is_string($var_34)) {
						$var_36 = stripslashes($var_34);
						if ($var_36 !== $var_34) {
							$var_33[$var_36] = $var_33[$var_34];
							unset($var_33[$var_34]);
						}
					}
				}
			}
			else
				$var_33 = stripslashes($var_33);
		}

		
		function fn_8($var_37, $var_38 = null) {
			global $var_16, $var_14;

			
			$var_5->fn_9($var_37, $var_38);
			
		}

		
		function fn_10($var_40) {
			if ($var_40 != '') 
		}

		
		function fn_11($var_41, $var_42 = null) {
			global $var_14, $var_15, $var_43, $var_44;

			$var_45 = $var_5->fn_2($var_42);

			
			if ($var_15['extra_login_security']) {
				
				
				$var_46 = array('pgsql', 'postgres', 'root', 'administrator');

				$var_47 = strtolower($var_45['username']);

				if ($var_45['password'] == '' || in_array($var_47, $var_46)) {
					unset($_SESSION['webdbLogin'][$var_81['server']]);
					$var_40 = $var_14['strlogindisallowed'];
					var_48;
				}
			}

			
			$var_44 = new class_1(
				$var_45['host'],
				$var_45['port'],
				$var_45['sslmode'],
				$var_45['username'],
				$var_45['password'],
				$var_41
			);

			
			
			$var_49 = $var_44->getDriver($var_51);
			if ($var_49 === null) {
				printf($var_14['strpostgresqlversionnotsupported'], $var_52);
				var_48;
			}
			$var_5->fn_12('platform', $var_51, $var_42);
			$var_5->fn_12('pgVersion', $var_44->var_54->var_55, $var_42);

			
			
			$var_16 = new $var_49($var_44->var_54);
			$var_16->var_51 = $var_44->var_51;

			return $var_16;
		}


		
		function fn_13($var_37 = '', $var_56 = null, $var_57 = false) {
			global $var_58, $var_14, $var_59, $var_15;

			if (!isset($var_59)) {
				header("Content-Type: text/html; charset=" . $var_14['appcharset']);
				
				
				if ($var_57 == true) {
					
				

				
				 var_60={$var_14['appcharset']}\" />\var_61";
				
				
				
				
				
				if ($var_37 != '') 
				

				if ($var_56) 
				
			}
		}

		
		function printFooter($var_62 = true) {
			global $var_63, $var_64;
			global $var_14, $var_65;

			if ($var_62) {
				if (isset($var_63)) $var_5->var_66(false);
				elseif (isset($var_64)) $var_5->var_66(true);
				if (!isset($var_65)) 
					
			}
			
		}

		
		function printBody($var_67 = '', $var_62 = true ) {
			global $var_59;

			if (!isset($var_59)) {
				if ($var_62) {
					$var_67 = htmlspecialchars($var_67);
					
					
				}
			}
		}

		
		function printReload($var_41) {
			
			if ($var_41)
				\n";
			var_68
				\var_61";
			
		}

		
		function printTabs($var_69, $var_70) {
			global $var_43, $var_15, $var_16, $var_14;

			if (is_string($var_69)) {
				$_SESSION['var_71'][$var_69] = $var_70;
				$var_69 = $var_5->var_72($var_69);
			}

			
			

			
			$var_73 = (int)(100 / count($var_69)).'%';

			foreach ($var_69 as $var_74 => $var_75) {
				$var_76 = ($var_74 == $var_70) ? ' active' : '';

				if (!isset($var_75['var_77']) || $var_75['var_77'] !== true) {

					$var_78 = "<var_79" . $var_5->fn_15($var_75, $var_81, 'href') . ">";

					if (isset($var_75['icon']) && $var_82 = $var_5->fn_16($var_75['icon']))
						$var_78 .= "<span class=\"icon\"><img src=\"{$var_82}\" alt=\"{$var_75['title']}\" /></span>";

					$var_78 .= "<span class=\"label\">{$var_75['title']}</span></a>";

					
					

					if (isset($var_75['help']))
						$var_5->fn_9($var_78, $var_75['help']);
					else
						

					
					
				}
			}

			
			
		}

		
		function fn_14($var_83) {
			global $var_16, $var_14, $var_15, $var_84;

			$var_85 = ($var_15['show_advanced'] === false);

			switch ($var_83) {
				case 'root':
					return array (
						'intro' => array (
							'title' => $var_14['strintroduction'],
							'url'   => "intro.php",
							'icon'  => 'Introduction',
						),
						'servers' => array (
							'title' => $var_14['strservers'],
							'url'   => "servers.php",
							'icon'  => 'Servers',
						),
					);

				case 'server':
				case 'report':
					$var_86 = !$var_16->isSuperUser();
					$var_88 = array (
						'databases' => array (
							'title' => $var_14['strdatabases'],
							'url'   => 'all_db.php',
							'urlvars' => array('subject' => 'server'),
							'help'  => 'pg.database',
							'icon'  => 'Databases',
						)
					);
					if ($var_16->hasRoles()) {
						$var_88 = array_merge($var_88, array(
							'roles' => array (
								'title' => $var_14['strroles'],
								'url'   => 'roles.php',
								'urlvars' => array('subject' => 'server'),
								'hide'  => $var_86,
								'help'  => 'pg.role',
								'icon'  => 'Roles',
							)
						));
					}
					else {
						$var_88 = array_merge($var_88, array(
							'users' => array (
								'title' => $var_14['strusers'],
								'url'   => 'users.php',
								'urlvars' => array('subject' => 'server'),
								'hide'  => $var_86,
								'help'  => 'pg.user',
								'icon'  => 'Users',
							),
							'groups' => array (
								'title' => $var_14['strgroups'],
								'url'   => 'groups.php',
								'urlvars' => array('subject' => 'server'),
								'hide'  => $var_86,
								'help'  => 'pg.group',
								'icon'  => 'UserGroups',
							)
						));
					}

					$var_88 = array_merge($var_88, array(
						'account' => array (
							'title' => $var_14['straccount'],
							'url'   => $var_16->hasRoles() ? 'roles.php' : 'users.php',
							'urlvars' => array('subject' => 'server', 'action' => 'account'),
							'hide'  => !$var_86,
							'help'  => 'pg.role',
							'icon'  => 'User',
						),
						'tablespaces' => array (
							'title' => $var_14['strtablespaces'],
							'url'   => 'tablespaces.php',
							'urlvars' => array('subject' => 'server'),
							'hide'  => (!$var_16->hasTablespaces()),
							'help'  => 'pg.tablespace',
							'icon'  => 'Tablespaces',
						),
						'export' => array (
							'title' => $var_14['strexport'],
							'url'   => 'all_db.php',
							'urlvars' => array('subject' => 'server', 'action' => 'export'),
							'hide'  => (!$var_5->fn_1()),
							'icon'  => 'Export',
						),
						'reports' => array (
							'title' => $var_14['strreports'],
							'url'   => 'reports.php',
							'urlvars' => array('subject' => 'server'),
							'hide' => !$var_15['show_reports'],
							'icon' => 'Reports',
						),
					));
					return $var_88;
					break;
				case 'database':
					$var_69 = array (
						'schemas' => array (
							'title' => $var_14['strschemas'],
							'url'   => 'schemas.php',
							'urlvars' => array('subject' => 'database'),
							'help'  => 'pg.schema',
							'icon'  => 'Schemas',
						),
						'sql' => array (
							'title' => $var_14['strsql'],
							'url'   => 'database.php',
							'urlvars' => array('subject' => 'database', 'action' => 'sql', 'new' => 1),
							'help'  => 'pg.sql',
							'tree'  => false,
							'icon'  => 'SqlEditor'
						),
						'find' => array (
							'title' => $var_14['strfind'],
							'url'   => 'database.php',
							'urlvars' => array('subject' => 'database', 'action' => 'find'),
							'tree'  => false,
							'icon'  => 'Search'
						),
						'variables' => array (
							'title' => $var_14['strvariables'],
							'url'   => 'database.php',
							'urlvars' => array('subject' => 'database', 'action' => 'variables'),
							'help'  => 'pg.variable',
							'tree'  => false,
							'icon'  => 'Variables',
						),
						'processes' => array (
							'title' => $var_14['strprocesses'],
							'url'   => 'database.php',
							'urlvars' => array('subject' => 'database', 'action' => 'processes'),
							'help'  => 'pg.process',
							'tree'  => false,
							'icon'  => 'Processes',
						),
						'locks' => array (
							'title' => $var_14['strlocks'],
							'url'   => 'database.php',
							'urlvars' => array('subject' => 'database', 'action' => 'locks'),
							'help'  => 'pg.locks',
							'tree'  => false,
							'icon'  => 'Key',
						),
						'admin' => array (
							'title' => $var_14['stradmin'],
							'url'   => 'database.php',
							'urlvars' => array('subject' => 'database', 'action' => 'admin'),
							'tree'  => false,
							'icon'  => 'Admin',
						),
						'privileges' => array (
							'title' => $var_14['strprivileges'],
							'url'   => 'privileges.php',
							'urlvars' => array('subject' => 'database'),
							'hide'  => (!isset($var_16->privlist['database'])),
							'help'  => 'pg.privilege',
							'tree'  => false,
							'icon'  => 'Privileges',
						),
						'languages' => array (
							'title' => $var_14['strlanguages'],
							'url'   => 'languages.php',
							'urlvars' => array('subject' => 'database'),
							'hide'  => $var_85,
							'help'  => 'pg.language',
							'icon'  => 'Languages',
						),
						'casts' => array (
							'title' => $var_14['strcasts'],
							'url'   => 'casts.php',
							'urlvars' => array('subject' => 'database'),
							'hide'  => ($var_85),
							'help'  => 'pg.cast',
							'icon'  => 'Casts',
						),
						'slony' => array (
							'title' => 'Slony',
							'url'   => 'plugin_slony.php',
							'urlvars' => array('subject' => 'database', 'action' => 'clusters_properties'),
							'hide'  => !isset($var_84),
							'help'  => '',
							'icon'  => 'Replication',
						),
						'export' => array (
							'title' => $var_14['strexport'],
							'url'   => 'database.php',
							'urlvars' => array('subject' => 'database', 'action' => 'export'),
							'hide'  => (!$var_5->fn_1()),
							'tree'  => false,
							'icon'  => 'Export',
						),
					);
					return $var_69;

				case 'schema':
					$var_69 = array (
						'tables' => array (
							'title' => $var_14['strtables'],
							'url'   => 'tables.php',
							'urlvars' => array('subject' => 'schema'),
							'help'  => 'pg.table',
							'icon'  => 'Tables',
						),
						'views' => array (
							'title' => $var_14['strviews'],
							'url'   => 'views.php',
							'urlvars' => array('subject' => 'schema'),
							'help'  => 'pg.view',
							'icon'  => 'Views',
						),
						'sequences' => array (
							'title' => $var_14['strsequences'],
							'url'   => 'sequences.php',
							'urlvars' => array('subject' => 'schema'),
							'help'  => 'pg.sequence',
							'icon'  => 'Sequences',
						),
						'functions' => array (
							'title' => $var_14['strfunctions'],
							'url'   => 'functions.php',
							'urlvars' => array('subject' => 'schema'),
							'help'  => 'pg.function',
							'icon'  => 'Functions',
						),
						'fulltext' => array (
							'title' => $var_14['strfulltext'],
							'url'   => 'fulltext.php',
							'urlvars' => array('subject' => 'schema'),
							'help'  => 'pg.fts',
							'tree'  => true,
							'icon'  => 'Fts',
						),
						'domains' => array (
							'title' => $var_14['strdomains'],
							'url'   => 'domains.php',
							'urlvars' => array('subject' => 'schema'),
							'help'  => 'pg.domain',
							'icon'  => 'Domains',
						),
						'aggregates' => array (
							'title' => $var_14['straggregates'],
							'url'   => 'aggregates.php',
							'urlvars' => array('subject' => 'schema'),
							'hide'  => $var_85,
							'help'  => 'pg.aggregate',
							'icon'  => 'Aggregates',
						),
						'types' => array (
							'title' => $var_14['strtypes'],
							'url'   => 'types.php',
							'urlvars' => array('subject' => 'schema'),
							'hide'  => $var_85,
							'help'  => 'pg.type',
							'icon'  => 'Types',
						),
						'operators' => array (
							'title' => $var_14['stroperators'],
							'url'   => 'operators.php',
							'urlvars' => array('subject' => 'schema'),
							'hide'  => $var_85,
							'help'  => 'pg.operator',
							'icon'  => 'Operators',
						),
						'opclasses' => array (
							'title' => $var_14['stropclasses'],
							'url'   => 'opclasses.php',
							'urlvars' => array('subject' => 'schema'),
							'hide'  => $var_85,
							'help'  => 'pg.opclass',
							'icon'  => 'OperatorClasses',
						),
						'conversions' => array (
							'title' => $var_14['strconversions'],
							'url'   => 'conversions.php',
							'urlvars' => array('subject' => 'schema'),
							'hide'  => $var_85,
							'help'  => 'pg.conversion',
							'icon'  => 'Conversions',
						),
						'privileges' => array (
							'title' => $var_14['strprivileges'],
							'url'   => 'privileges.php',
							'urlvars' => array('subject' => 'schema'),
							'help'  => 'pg.privilege',
							'tree'  => false,
							'icon'  => 'Privileges',
						),
						'export' => array (
							'title' => $var_14['strexport'],
							'url'   => 'schemas.php',
							'urlvars' => array('subject' => 'schema', 'action' => 'export'),
							'hide'  => (!$var_5->fn_1()),
							'tree'  => false,
							'icon'  => 'Export',
						),
					);
					if (!$var_16->hasFTS()) unset($var_69['fulltext']);
					return $var_69;

				case 'table':
					return array (
						'columns' => array (
							'title' => $var_14['strcolumns'],
							'url'   => 'tblproperties.php',
							'urlvars' => array('subject' => 'table', 'table' => field('table')),
							'icon'  => 'Columns',
							'branch'=> true,
						),
						'indexes' => array (
							'title' => $var_14['strindexes'],
							'url'   => 'indexes.php',
							'urlvars' => array('subject' => 'table', 'table' => field('table')),
							'help'  => 'pg.index',
							'icon'  => 'Indexes',
							'branch'=> true,
						),
						'constraints' => array (
							'title' => $var_14['strconstraints'],
							'url'   => 'constraints.php',
							'urlvars' => array('subject' => 'table', 'table' => field('table')),
							'help'  => 'pg.constraint',
							'icon'  => 'Constraints',
							'branch'=> true,
						),
						'triggers' => array (
							'title' => $var_14['strtriggers'],
							'url'   => 'triggers.php',
							'urlvars' => array('subject' => 'table', 'table' => field('table')),
							'help'  => 'pg.trigger',
							'icon'  => 'Triggers',
							'branch'=> true,
						),
						'rules' => array (
							'title' => $var_14['strrules'],
							'url'   => 'rules.php',
							'urlvars' => array('subject' => 'table', 'table' => field('table')),
							'help'  => 'pg.rule',
							'icon'  => 'Rules',
							'branch'=> true,
						),
						'admin' => array (
							'title' => $var_14['stradmin'],
							'url'   => 'tables.php',
							'urlvars' => array('subject' => 'table', 'table' => field('table'), 'action' => 'admin'),
							'icon'  => 'Admin',
						),
						'info' => array (
							'title' => $var_14['strinfo'],
							'url'   => 'info.php',
							'urlvars' => array('subject' => 'table', 'table' => field('table')),
							'icon'  => 'Statistics',
						),
						'privileges' => array (
							'title' => $var_14['strprivileges'],
							'url'   => 'privileges.php',
							'urlvars' => array('subject' => 'table', 'table' => field('table')),
							'help'  => 'pg.privilege',
							'icon'  => 'Privileges',
						),
						'import' => array (
							'title' => $var_14['strimport'],
							'url'   => 'tblproperties.php',
							'urlvars' => array('subject' => 'table', 'table' => field('table'), 'action' => 'import'),
							'icon'  => 'Import',
							'hide'	=> false,
						),
						'export' => array (
							'title' => $var_14['strexport'],
							'url'   => 'tblproperties.php',
							'urlvars' => array('subject' => 'table', 'table' => field('table'), 'action' => 'export'),
							'icon'  => 'Export',
							'hide'	=> false,
						),
					);

				case 'view':
					return array (
						'columns' => array (
							'title' => $var_14['strcolumns'],
							'url'   => 'viewproperties.php',
							'urlvars' => array('subject' => 'view', 'view' => field('view')),
							'icon'  => 'Columns',
							'branch'=> true,
						),
						'definition' => array (
							'title' => $var_14['strdefinition'],
							'url'   => 'viewproperties.php',
							'urlvars' => array('subject' => 'view', 'view' => field('view'), 'action' => 'definition'),
							'icon'  => 'Definition'
						),
						'rules' => array (
							'title' => $var_14['strrules'],
							'url'   => 'rules.php',
							'urlvars' => array('subject' => 'view', 'view' => field('view')),
							'help'  => 'pg.rule',
							'icon'  => 'Rules',
							'branch'=> true,
						),
						'privileges' => array (
							'title' => $var_14['strprivileges'],
							'url'   => 'privileges.php',
							'urlvars' => array('subject' => 'view', 'view' => field('view')),
							'help'  => 'pg.privilege',
							'icon'  => 'Privileges',
						),
						'export' => array (
							'title' => $var_14['strexport'],
							'url'   => 'viewproperties.php',
							'urlvars' => array('subject' => 'view', 'view' => field('view'), 'action' => 'export'),
							'icon'  => 'Export',
							'hide'	=> false,
						),
					);

				case 'function':
					return array (
						'definition' => array (
							'title' => $var_14['strdefinition'],
							'url'   => 'functions.php',
							'urlvars' => array(
									'subject' => 'function',
									'function' => field('function'),
									'function_oid' => field('function_oid'),
									'action' => 'properties',
								),
							'icon'  => 'Definition',
						),
						'privileges' => array (
							'title' => $var_14['strprivileges'],
							'url'   => 'privileges.php',
							'urlvars' => array(
									'subject' => 'function',
									'function' => field('function'),
									'function_oid' => field('function_oid'),
								),
							'icon'  => 'Privileges',
						),
					);

				case 'aggregate':
					return array (
						'definition' => array (
							'title' => $var_14['strdefinition'],
							'url'   => 'aggregates.php',
							'urlvars' => array(
									'subject' => 'aggregate',
									'aggrname' => field('aggrname'),
									'aggrtype' => field('aggrtype'),
									'action' => 'properties',
								),
							'icon'  => 'Definition',
						),
					);

				case 'role':
					return array (
						'definition' => array (
							'title' => $var_14['strdefinition'],
							'url'   => 'roles.php',
							'urlvars' => array(
									'subject' => 'role',
									'rolename' => field('rolename'),
									'action' => 'properties',
								),
							'icon'  => 'Definition',
						),
					);

				case 'popup':
					return array (
						'sql' => array (
							'title' => $var_14['strsql'],
							'url'   => 'sqledit.php',
							'urlvars' => array('subject' => 'schema', 'action' => 'sql'),
							'help'  => 'pg.sql',
							'icon'  => 'SqlEditor',
						),
						'find' => array (
							'title' => $var_14['strfind'],
							'url'   => 'sqledit.php',
							'urlvars' => array('subject' => 'schema', 'action' => 'find'),
							'icon'  => 'Search',
						),
					);

				case 'slony_cluster':
					return array (
						'properties' => array (
							'title' => $var_14['strproperties'],
							'url'   => 'plugin_slony.php',
							'urlvars' => array(
									'subject' => 'slony_cluster',
									'action' => 'cluster_properties',
									'slony_cluster' => field('slony_cluster')
								),
							'help'  => '',
							'tree'  => false,
							'icon'  => 'Cluster',
						),
						'nodes' => array (
							'title' => $var_14['strnodes'],
							'url'   => 'plugin_slony.php',
							'urlvars' => array(
									'subject' => 'slony_cluster',
									'action' => 'nodes_properties',
									'slony_cluster' => field('slony_cluster')
								),
							'branch' => 'nodes',
							'help'  => '',
							'icon'  => 'Nodes',
						),
						'sets' => array (
							'title' => $var_14['strrepsets'],
							'url'   => 'plugin_slony.php',
							'urlvars' => array(
								'subject' => 'slony_cluster',
								'action' => 'sets_properties',
								'slony_cluster' => field('slony_cluster')
							),
							'branch' => 'sets',
							'help'  => '',
							'icon'  => 'ReplicationSets',
						),
					);

				case 'column':
					return array(
						'properties' => array (
							'title'		=> $var_14['strcolprop'],
							'url'		=> 'colproperties.php',
							'urlvars'	=> array(
								'subject' => 'column',
								'table' => field('table'),
								'column' => field('column')
							),
							'icon'		=> 'Column'
						),
						'privileges' => array (
							'title' => $var_14['strprivileges'],
							'url'   => 'privileges.php',
							'urlvars' => array(
								'subject' => 'column',
								'table' => field('table'),
								'column' => field('column')
							),
							'help'  => 'pg.privilege',
							'icon'  => 'Privileges',
						)
					);

                case 'fulltext':
                    return array (
                        'ftsconfigs' => array (
                            'title' => $var_14['strftstabconfigs'],
                            'url'   => 'fulltext.php',
                            'urlvars' => array('subject' => 'schema'),
                            'hide'  => !$var_16->hasFTS(),
                            'help'  => 'pg.ftscfg',
                            'tree'  => true,
                            'icon'  => 'FtsCfg',
                        ),
                        'ftsdicts' => array (
                            'title' => $var_14['strftstabdicts'],
                            'url'   => 'fulltext.php',
                            'urlvars' => array('subject' => 'schema', 'action' => 'viewdicts'),
                            'hide'  => !$var_16->hasFTS(),
                            'help'  => 'pg.ftsdict',
                            'tree'  => true,
                            'icon'  => 'FtsDict',
                        ),
                        'ftsparsers' => array (
                            'title' => $var_14['strftstabparsers'],
                            'url'   => 'fulltext.php',
                            'urlvars' => array('subject' => 'schema', 'action' => 'viewparsers'),
                            'hide'  => !$var_16->hasFTS(),
                            'help'  => 'pg.ftsparser',
                            'tree'  => true,
                            'icon'  => 'FtsParser',
                        ),
                    );

				default:
					return array();
			}
		}

		
		function fn_17($var_83) {
			global $var_16;

			$var_69 = $var_5->fn_14($var_83);

			if (isset($_SESSION['webdbLastTab'][$var_83]) && isset($var_69[$_SESSION['webdbLastTab'][$var_83]]))
				$var_75 = $var_69[$_SESSION['webdbLastTab'][$var_83]];
			else
				$var_75 = reset($var_69);

			return isset($var_75['url']) ? $var_75 : null;
		}

		function fn_18() {
			global $var_14, $var_15, $var_58, $var_93, $var_94;

			$var_45 = $var_5->fn_2();

			

			if ($var_45 && isset($var_45['platform']) && isset($var_45['username'])) {
				
			} else {
				
			}

			

			if (isset($var_81['server'])) {
				$var_95 = "sqledit.php?{$var_5->var_0}&amp;action=";
				$var_96 = htmlspecialchars('sqledit:'.$var_81['server']);
				$var_97 = "history.php?{$var_5->var_0}&amp;action=pophistory";
				$var_98 = htmlspecialchars('history:'.$var_81['server']);
				$var_99 = isset($_SESSION['sharedUsername']) ?
					' onclick="return confirm(\''. $var_14['strconfdropcred']. '\')"':
					'';

				
				 return false;\">{$var_14['strsql']}</a></li>\n";
				 return false;\">{$var_14['strhistory']}</a></li>\n";
				 return false;\">{$var_14['strfind']}</a></li>\n";
 				var_100=".htmlspecialchars($var_45['host']).":".htmlspecialchars($var_45['port']).":".htmlspecialchars($var_45['sslmode'])."\"{$var_99}>{$var_14['strlogout']}</a></li>\n";
 				
				
			}

			
		}

		
		function fn_19($var_101 = array()) {
			global $var_14;

			$var_5->fn_18();

			if (is_string($var_101)) {
				$var_101 = $var_5->fn_20($var_101);
			}

			

			foreach ($var_101 as $var_103) {
				
				$var_104 = "<a";

				if (isset($var_103['url']))
					$var_104 .= ' href="' . $var_5->fn_6($var_103['url'], 'nbsp') . '"';

				if (isset($var_103['title']))
					$var_104 .= " title=\"{$var_103['title']}\"";

				$var_104 .= ">";

				if (isset($var_103['title']))
					$var_105 = $var_103['title'];
				else
					$var_105 = 'Database Root';

				if (isset($var_103['icon']) && $var_82 = $var_5->fn_16($var_103['icon']))
					$var_104 .= "<span class=\"icon\"><img src=\"{$var_82}\" alt=\"{$var_105}\" /></span>";

				$var_104 .= "<span class=\"label\">" . htmlspecialchars($var_103['text']) . "</span></a>";

				if (isset($var_103['help']))
					$var_5->fn_9($var_104, $var_103['help']);
				else
					

				
				
			}

			
		}

		
		function fn_20($var_106 = null) {
			global $var_14, $var_15, $var_16, $var_58;

			$var_101 = array();
			$var_107 = '';
			$var_108 = false;

			$var_101['root'] = array(
				'text'  => $var_58,
				'url'   => 'redirect.php?subject=root',
				'icon'  => 'Introduction'
			);

			if ($var_106 == 'root') $var_108 = true;

			if (!$var_108) {
				$var_107 = 'server='.urlencode($var_81['server']).'&';
				$var_45 = $var_5->fn_2();
				$var_101['server'] = array(
					'title' => $var_14['strserver'],
					'text'  => $var_45['desc'],
					'url'   => "redirect.php?subject=server&{$var_107}",
					'help'  => 'pg.server',
					'icon'  => 'Server'
				);
			}
			if ($var_106 == 'server') $var_108 = true;

			if (isset($var_81['report']) && !$var_108) {
				$var_107 .= 'report='.urlencode($var_81['report']).'&';
				$var_101['report'] = array(
					'title' => $var_14['strreport'],
					'text'  => $var_81['report'],
					'url'   => "reports.php?subject=report&{$var_107}",
					'icon'  => 'Report'
				);
			}

			if (isset($var_81['database']) && !$var_108) {
				$var_107 .= 'database='.urlencode($var_81['database']).'&';
				$var_101['database'] = array(
					'title' => $var_14['strdatabase'],
					'text'  => $var_81['database'],
					'url'   => "redirect.php?subject=database&{$var_107}",
					'help'  => 'pg.database',
					'icon'  => 'Database'
				);
			} elseif (isset($var_81['rolename']) && !$var_108) {
				$var_107 .= "subject=role&action=properties&rolename=".urlencode($var_81['rolename']);
				$var_101['role'] = array(
					'title' => $var_14['strrole'],
					'text'  => $var_81['rolename'],
					'url'   => "redirect.php?{$var_107}",
					'help'  => 'pg.role',
					'icon'  => 'Roles'
				);
			}
			if ($var_106 == 'database' || $var_106 == 'role' || $var_106 == 'report') $var_108 = true;

			if (isset($var_81['schema']) && !$var_108) {
				$var_107 .= 'schema='.urlencode($var_81['schema']).'&';
				$var_101['schema'] = array(
					'title' => $var_14['strschema'],
					'text'  => $var_81['schema'],
					'url'   => "redirect.php?subject=schema&{$var_107}",
					'help'  => 'pg.schema',
					'icon'  => 'Schema'
				);
			}
			if ($var_106 == 'schema') $var_108 = true;

			if (isset($var_81['slony_cluster']) && !$var_108) {
				$var_107 .= 'slony_cluster='.urlencode($var_81['slony_cluster']).'&';
				$var_101['slony_cluster'] = array(
					'title' => 'Slony Cluster',
					'text'  => $var_81['slony_cluster'],
					'url'   => "redirect.php?subject=slony_cluster&{$var_107}",
					'help'  => 'sl.cluster',
					'icon'  => 'Cluster'
				);
			}
			if ($var_106 == 'slony_cluster') $var_108 = true;

			if (isset($var_81['table']) && !$var_108) {
				$var_107 .= "table=".urlencode($var_81['table']);
				$var_101['table'] = array(
					'title' => $var_14['strtable'],
					'text'  => $var_81['table'],
					'url'   => "redirect.php?subject=table&{$var_107}",
					'help'  => 'pg.table',
					'icon'  => 'Table'
				);
			} elseif (isset($var_81['view']) && !$var_108) {
				$var_107 .= "view=".urlencode($var_81['view']);
				$var_101['view'] = array(
					'title' => $var_14['strview'],
					'text'  => $var_81['view'],
					'url'   => "redirect.php?subject=view&{$var_107}",
					'help'  => 'pg.view',
					'icon'  => 'View'
				);
			} elseif (isset($var_81['ftscfg']) && !$var_108) {
				$var_107 .= "action=viewconfig&ftscfg=".urlencode($var_81['ftscfg']);
				$var_101['ftscfg'] = array(
					'title' => $var_14['strftsconfig'],
					'text'  => $var_81['ftscfg'],
					'url'   => "fulltext.php?{$var_107}",
					'help'  => 'pg.ftscfg.example',
					'icon'  => 'Fts'
				);
			}
			if ($var_106 == 'table' || $var_106 == 'view' || $var_106 == 'ftscfg') $var_108 = true;

			if (!$var_108 && !is_null($var_106)) {
				switch ($var_106) {
					case 'function':
						$var_107 .= "{$var_106}_oid=".urlencode($var_81[$var_106.'_oid']).'&';
						$var_107 .= "subject={$var_106}&{$var_106}=".urlencode($var_81[$var_106]);
						$var_101[$var_106] = array(
							'title' => $var_14['str'.$var_106],
							'text'  => $var_81[$var_106],
							'url'   => "redirect.php?{$var_107}",
							'help'  => 'pg.function',
							'icon'  => 'Function'
						);
						break;
					case 'aggregate':
						$var_107 .= "subject=aggregate&action=properties&aggrname=".urlencode($var_81['aggrname']);
						$var_107 .= "&aggrtype=".urlencode($var_81['aggrtype']);
						$var_101[$var_106] = array(
							'title' => $var_14['straggregate'],
							'text'  => $var_81['aggrname'],
							'url'   => "redirect.php?{$var_107}",
							'help'  => 'pg.aggregate',
							'icon'  => 'Aggregate'
						);
						break;
					case 'slony_node':
						$var_107 .= 'no_id='.urlencode($var_81['no_id']).'&no_name='.urlencode($var_81['no_name']);
						$var_101[$var_106] = array(
							'title' => 'Slony Node',
							'text'  => $var_81['no_name'],
							'url'   => "redirect.php?{$var_107}",
							'help'  => 'sl.'.$var_106,
							'icon'  => 'Node'
						);
						break;
					case 'slony_set':
						$var_107 .= "{$var_106}_id=".urlencode($var_81[$var_106]).'&';
						$var_107 .= "subject={$var_106}&{$var_106}=".urlencode($var_81[$var_106]);
						$var_101[$var_106] = array(
							'title' => $var_14['str'.$var_106],
							'text'  => $var_81[$var_106],
							'url'   => "redirect.php?{$var_107}",
							'help'  => 'sl.'.$var_106,
							'icon'  => 'AvailableReplicationSet'
						);
						break;
					case 'column':
						$var_107 .= "&column=". urlencode($var_81['column']) ."&subject=column";
						$var_101['column'] = array (
							'title' => $var_14['strcolumn'],
							'text'  => $var_81['column'],
							'icon'	=> 'Column',
							'url'   => "redirect.php?{$var_107}"
						);
						break;
					default:
						if (isset($var_81[$var_106])) {
							switch ($var_106) {
								case 'domain': $var_82 = 'Domain'; break;
								case 'sequence': $var_82 = 'Sequence'; break;
								case 'type': $var_82 = 'Type'; break;
								case 'operator': $var_82 = 'Operator'; break;
								default: $var_82 = null; break;
							}
							$var_101[$var_106] = array(
								'title' => $var_14['str'.$var_106],
								'text'  => $var_81[$var_106],
								'help'  => 'pg.'.$var_106,
								'icon'  => $var_82,
							);
						}
				}
			}

			return $var_101;
		}

		
		function fn_21($var_109, $var_110, $var_111, $var_112 = 20) {
			global $var_14;

			$var_113 = 10;

			if ($var_109 < 0 || $var_109 > $var_110) return;
			if ($var_110 < 0) return;
			if ($var_112 <= 0) return;

			if ($var_110 > 1) {
				
				if ($var_109 != 1) {
					$var_30 = str_replace('%s', 1, $var_111);
					
					$var_30 = str_replace('%s', $var_109 - 1, $var_111);
					
				}

				if ($var_109 <= $var_113) {
					$var_114 = 1;
					$var_115 = min(2 * $var_113, $var_110);
				}
				elseif ($var_109 > $var_113 && $var_110 >= $var_109 + $var_113) {
					$var_114 = ($var_109 - $var_113) + 1;
					$var_115 = $var_109 + $var_113;
				}
				else {
					$var_114 = ($var_109 - (2 * $var_113 - ($var_110 - $var_109))) + 1;
					$var_115 = $var_110;
				}

				
				
				$var_114 = max($var_114, 1);
				$var_115 = min($var_115, $var_110);

				for ($var_31 = $var_114; $var_31 <= $var_115; $var_31++) {
					$var_30 = str_replace('%s', $var_31, $var_111);
					if ($var_31 != $var_109) 
					var_68 
				}
				if ($var_109 != $var_110) {
					$var_30 = str_replace('%s', $var_109 + 1, $var_111);
					
					$var_30 = str_replace('%s', $var_110, $var_111);
					
				}
				
			}
		}

		
		function fn_9($var_11, $var_38) {
			global $var_14, $var_16;

			
			if ($var_38) {
				
				
				
			}
		}

		
		function fn_22($var_116) {
			
			\var_61";
			
		}

		
		function setWindowName($var_117, $var_118 = true) {
			
			\n";
			
		}

		
		function fn_23($var_119) {
			
			
			
			$var_120 = array();

			if (!is_string($var_119))
				return false;

			if (!preg_match ('/^(\d+)([bkm]*)$/i', $var_119,$var_120))
				return false;

			$var_121 = (double) $var_120[1];
			$var_122 = strtolower($var_120[2]);

			switch($var_122) {
				case 'm':
					return ($var_121 * (double) 1048576);
				case 'k':
					return ($var_121 * (double) 1024);
				case 'b':
				default:
					return $var_121;
			}
		}

		
		function fn_15(&$var_123, &$var_124, $var_125 = null) {
			$var_111 = value($var_123['url'], $var_124);

			if ($var_111 === false) return '';

			if (!empty($var_123['urlvars'])) {
				$var_126 = value($var_123['urlvars'], $var_124);
			} else {
				$var_126 = array();
			}

			if (isset($var_126['subject'])) {
				$var_106 = value($var_126['subject'], $var_124);
				if (isset($var_81['server']) && $var_106 != 'root') {
					$var_126['server'] = $var_81['server'];
					if (isset($var_81['database']) && $var_106 != 'server') {
						$var_126['database'] = $var_81['database'];
						if (isset($var_81['schema']) && $var_106 != 'database') {
							$var_126['schema'] = $var_81['schema'];
						}
					}
				}
			}

			$var_127 = '?';
			foreach ($var_126 as $var_33 => $var_128) {
				$var_111 .= $var_127 . value_url($var_33, $var_124) . '=' . value_url($var_128, $var_124);
				$var_127 = '&';
			}

			$var_111 = htmlentities($var_111);

			if ($var_125 !== null && $var_111 != '')
				return ' '.$var_125.'="'.$var_111.'"';
			else
				return $var_111;
		}

		function fn_24($var_106 = '') {
			$var_35 = array();
			if (!empty($var_106))
				$var_35['subject'] = $var_106;
			if (isset($var_81['server']) && $var_106 != 'root') {
				$var_35['server'] = $var_81['server'];
				if (isset($var_81['database']) && $var_106 != 'server') {
					$var_35['database'] = $var_81['database'];
					if (isset($var_81['schema']) && $var_106 != 'database') {
						$var_35['schema'] = $var_81['schema'];
					}
				}
			}
			return $var_35;
		}

		function fn_25(&$var_107, &$var_124) {
			foreach ($var_107 as $var_33 => $var_128) {
				";
			}
		}

		
		function printTable(&$var_130, &$var_131, &$var_132, $var_133 = null, $var_134 = null) {
			global $var_16, $var_15, $var_43, $var_14;

			if ($var_135 = isset($var_132['var_136']))
				$var_137 = $var_132['var_136'];
			unset($var_132['var_136']);

			if ($var_130->var_138() > 0) {

				
				if (!$var_15['var_139']) {
					unset($var_131['var_140']);
				}

				if (isset($var_131['var_140'])) {
					
					
					
				}

				if ($var_135) {
					
					
					if (isset($var_137['var_107']))
						foreach ($var_137['var_107'] as $var_34 => $var_35)
							
				}

				
				
				
				if ($var_135) 
				foreach ($var_131 as $var_141 => $var_142) {
					switch ($var_141) {
						case 'actions':
							if (sizeof($var_132) > 0) 
							break;
						default:
							
							if (isset($var_142['var_38']))
								$var_5->var_39($var_142['var_37'], $var_142['var_38']);
							else
								
							
							break;
					}
				}
				

				
				$var_31 = 0;
				while (!$var_130->var_143) {
					$var_144 = ($var_31 % 2) + 1;

					unset($var_145);
					if (!is_null($var_134)) $var_145 = $var_134($var_130, $var_132);
					if (!isset($var_145)) $var_145 =& $var_132;

					
					if ($var_135) {
						foreach ($var_137['var_146'] as $var_34 => $var_35)
							$var_79[$var_34] = $var_130->var_124[$var_35];
						
						
						
					}

					foreach ($var_131 as $var_141 => $var_142) {

						
						if (isset($var_142['var_111']) && !isset($var_142['var_107'])) $var_142['var_107'] = array();

						switch ($var_141) {
							case 'actions':
								foreach ($var_145 as $var_123) {
									if (isset($var_123['var_147']) && $var_123['var_147'] === true) {
										
									} else {
										
										
										if ($var_123['var_111'] === '') 
										$var_43->var_129($var_123['var_107'], $var_130->var_124);
										if (isset($var_123['var_148']))
											
										
									}
								}
								break;
							default:
								
								$var_149 = value($var_142['var_150'], $var_130->var_124);
								if (!is_null($var_149)) {
									if (isset($var_142['var_111'])) {
										
										$var_43->var_129($var_142['var_107'], $var_130->var_124);
										
									}
									$var_12 = isset($var_142['var_12']) ? $var_142['var_12'] : null;
									$var_13 = isset($var_142['var_13']) ? $var_142['var_13'] : array();
									
									if (isset($var_142['var_111'])) 
								}

								
								break;
						}
					}
					

					$var_130->var_151();
					$var_31++;
				}
				

				
				if ($var_135) {
					
					if (!isset($var_137['default']) || !isset($var_132[$var_137['default']]))
						$var_137['default'] = null;
					
					
					
					
					
					
					
					--->&nbsp;</td>\n";
					
					
					if ($var_137['default'] == null)
						
					foreach($var_132 as $var_34 => $var_79)
						if (isset($var_79['multiaction']))
							
					
					
					
					
					
					
					
				};

				return true;
			} var_68 {
				if (!is_null($var_133)) {
					
				}
				return false;
			}
		}

		
		function fn_26(&$var_152, &$var_153) {
			global $var_15, $var_14;

			if (!isset($var_153['nohead']) || $var_153['nohead'] === false) {
				header("Content-Type: text/xml");
				header("Cache-Control: no-cache");

				

				
			}

			if ($var_152->recordCount() > 0) {
				while (!$var_152->var_143) {
					$var_154 =& $var_152->var_124;

					
					
					
					

					$var_82 = $var_5->fn_16(value($var_153['icon'], $var_154));
					
					

					if (!empty($var_153['openicon'])) {
						$var_82 = $var_5->fn_16(value($var_153['openIcon'], $var_154));
					}
					

					

					

					$var_152->moveNext();
				}
			} else {
				$var_40 = isset($var_153['nodata']) ? $var_153['nodata'] : $var_14['strnoobjects'];
				
			}

			if (!isset($var_153['nofoot']) || $var_153['nofoot'] === false) {
				
			}
		}

		function fn_27(&$var_69) {

			foreach ($var_69 as $var_31 => $var_75) {
				if ((isset($var_75['hide']) && $var_75['hide'] === true) || (isset($var_75['tree']) && $var_75['tree'] === false)) {
					unset($var_69[$var_31]);
				}
			}
			return new class_2($var_69);
		}

		function fn_16($var_82) {
			global $var_15;
			$var_155 = "images/themes/{$var_15['theme']}/{$var_82}";
			if (file_exists($var_155.'.png')) return $var_155.'.png';
			if (file_exists($var_155.'.gif')) return $var_155.'.gif';
			$var_155 = "images/themes/default/{$var_82}";
			if (file_exists($var_155.'.png')) return $var_155.'.png';
			if (file_exists($var_155.'.gif')) return $var_155.'.gif';
			return '';
		}

		
		function fn_28($var_11) {
			global $var_16, $var_14;

			if (strtoupper(substr(var_156, 0, 3)) === 'WIN') {
				
				
				
				if (preg_match('/^[_.[:alnum:]]+$/', $var_11))
					return $var_11;
				else {
					
					var_48;
				}
			}
			else
				return escapeshellarg($var_11);
		}

		
		function fn_29($var_11) {
			global $var_16;

			if (strtoupper(substr(var_156, 0, 3)) === 'WIN') {
				$var_16->fieldClean($var_11);
				return '"' . $var_11 . '"';
			}
			else
				return escapeshellcmd($var_11);
		}

		
		function fn_30() {
			global $var_15, $var_14;
			$var_158 = array();
			
			foreach ($var_15['srv_groups'] as $var_31 => $var_159) {
				$var_158[$var_31] = array(
					'id' => $var_31,
					'desc' => $var_159['desc'],
				);				
			}
			
			$var_158['all'] = array(
				'id' => 'all', 
				'desc' => $var_14['strallservers'],
			);

			return new class_2($var_158);
		}
		

		
		function fn_31($var_161 = false, $var_159 = false) {
			global $var_15;

			$var_162 = isset($_SESSION['webdbLogin']) && is_array($_SESSION['webdbLogin']) ? $_SESSION['webdbLogin'] : array();
			$var_163 = array();

			if (($var_159 !== false) and ($var_159 !== 'all'))
				$var_159 = array_fill_keys(explode(',', $var_15['srv_groups'][$var_159]['servers']), 1);
			
			foreach($var_15['servers'] as $var_164 => $var_4) {
				$var_42 = $var_4['host'].':'.$var_4['port'].':'.$var_4['sslmode'];
				if (($var_159 === false) 
					or (isset($var_159[$var_164]))
					or ($var_159 === 'all')
				) {
					$var_42 = $var_4['host'].':'.$var_4['port'].':'.$var_4['sslmode'];
					
					if (isset($var_162[$var_42])) $var_163[$var_42] = $var_162[$var_42];
					else $var_163[$var_42] = $var_4;

					$var_163[$var_42]['id'] = $var_42;
				}
			}

			function fn_32($var_79, $var_165) {
				return strcmp($var_79['desc'], $var_165['desc']);
			}
			uasort($var_163, '_cmp_desc');

			if ($var_161) {
				return new class_2($var_163);
			}
			return $var_163;
		}

		
		function fn_2($var_42 = null) {
			global $var_15, $var_63, $var_14;

			if ($var_42 === null && isset($var_81['server']))
				$var_42 = $var_81['server'];

			
			if (isset($_SESSION['webdbLogin'][$var_42]))
				return $_SESSION['webdbLogin'][$var_42];

			
			foreach($var_15['servers'] as $var_164 => $var_4) {
				if ($var_42 == $var_4['host'].':'.$var_4['port'].':'.$var_4['sslmode']) {
					
					if (!isset($var_4['username']) && isset($_SESSION['sharedUsername'])) {
						$var_4['username'] = $_SESSION['sharedUsername'];
						$var_4['password'] = $_SESSION['sharedPassword'];
						$var_63 = true;
						$var_5->fn_12(null, $var_4, $var_42);
					}

					return $var_4;
				}
			}

			if ($var_42 === null){
				return null;
			} else {
				
				
				var_48;
			}
		}

		
		function fn_12($var_166, $var_167, $var_42 = null)
		{
			if ($var_42 === null && isset($var_81['server']))
				$var_42 = $var_81['server'];

			if ($var_166 === null) {
				if ($var_167 === null)
					unset($_SESSION['webdbLogin'][$var_42]);
				else
					$_SESSION['webdbLogin'][$var_42] = $var_167;
			} else {
				if ($var_167 === null)
					unset($_SESSION['webdbLogin'][$var_42][$var_166]);
				else
					$_SESSION['webdbLogin'][$var_42][$var_166] = $var_167;
			}
		}
		
		
		function fn_33($var_168) {
			global $var_16;
			
			$var_169 = $var_16->setSchema($var_168);
			if($var_169 != 0)
				return $var_169;

			$var_81['schema'] = $var_168;
			$var_5->fn_3();
			return 0;
		}

		
		function fn_34($var_56) {
			list($var_171, $var_172) = explode(' ', microtime());
			$var_173 = ((float)$var_171 + (float)$var_172);
			$_SESSION['history'][$var_81['server']][$var_81['database']]["$var_173"] = array(
				'query' => $var_56,
				'paginate' => (!isset($var_81['paginate'])? 'f':'t'),
				'queryid' => $var_173,
			);
		}
	
			
		function fn_35($var_174) {
			global $var_16, $var_14, $var_43;

			
			
			$var_43->fn_9($var_14['strserver'], 'pg.server');
			
			
			
			$var_175 = $var_43->fn_31();
			foreach($var_175 as $var_4) {
				if (empty($var_4['username'])) continue; 
				
			}
			
			
			
			$var_176 = $var_16->getDatabases();

			if ($var_176->recordCount() > 0) {

				
				$var_43->fn_9($var_14['strdatabase'], 'pg.database');
				
				
				
				if (!isset($var_81['database']))
					
				
				while (!$var_176->var_143) {
					$var_178 = $var_176->var_124['datname'];
					
					$var_176->moveNext();
				}
				
			}
			else {
				$var_45 = $var_43->fn_2();
				
			}
			
			
		}

		
		function fn_36($var_179) {
			global $var_16;

			$var_180 = array(
				'byconstr' => array(),
				'byfield' => array(),
				'code' => ''
			);

			$var_181 = $var_16->getConstraintsWithFields($var_179);

			if (!$var_181->var_143) {
				$var_183 = $var_181->var_124['conrelid'];
				while(!$var_181->var_143) {
					if ($var_181->var_124['contype'] == 'f') {
						if (!isset($var_180['byconstr'][$var_181->var_124['conid']])) {
							$var_180['byconstr'][$var_181->var_124['conid']] = array (
								'confrelid' => $var_181->var_124['confrelid'],
								'f_table' => $var_181->var_124['f_table'],
								'f_schema' => $var_181->var_124['f_schema'],
								'pattnums' => array(),
								'pattnames' => array(),
								'fattnames' => array()
							);
						}

						$var_180['byconstr'][$var_181->var_124['conid']]['pattnums'][] = $var_181->var_124['p_attnum'];
						$var_180['byconstr'][$var_181->var_124['conid']]['pattnames'][] = $var_181->var_124['p_field'];
						$var_180['byconstr'][$var_181->var_124['conid']]['fattnames'][] = $var_181->var_124['f_field'];

						if (!isset($var_180['byfield'][$var_181->var_124['p_attnum']]))
							$var_180['byfield'][$var_181->var_124['p_attnum']] = array();
						$var_180['byfield'][$var_181->var_124['p_attnum']][] = $var_181->var_124['conid'];
					}
					$var_181->moveNext();
				}

				$var_180['code'] = "<script type=\"text/javascript\">\n";
				$var_180['code'] .= "var constrs = {};\n";
				foreach ($var_180['byconstr'] as $var_184 => $var_185) {
					$var_180['code'] .= "constrs.constr_{$var_184} = {\n";
					$var_180['code'] .= 'pattnums: ['. implode(',',$var_185['pattnums']) ."],\n";
					$var_180['code'] .= "f_table:'". addslashes(htmlentities($var_185['f_table'], var_186)) ."',\n";
					$var_180['code'] .= "f_schema:'". addslashes(htmlentities($var_185['f_schema'], var_186)) ."',\n";
					$var_187 = '';
					foreach ($var_185['pattnames'] as $var_61) {
						$var_187 .= ",'". htmlentities($var_61, var_186) ."'";
					}
					$var_180['code'] .= 'pattnames: ['. substr($var_187, 1) ."],\n";

					$var_187 = '';
					foreach ($var_185['fattnames'] as $var_61) {
						$var_187 .= ",'". htmlentities($var_61, var_186) ."'";
					}

					$var_180['code'] .= 'fattnames: ['. substr($var_187, 1) ."]\n";
					$var_180['code'] .= "};\n";
				}

				$var_180['code'] .= "var attrs = {};\n";
				foreach ($var_180['byfield'] as $var_188 => $var_189 ) {
					$var_180['code'] .= "attrs.attr_{$var_188} = [". implode(',', $var_180['byfield'][$var_188]) ."];\n";
				}

				$var_180['code'] .= "var table='". addslashes(htmlentities($var_179, var_186)) ."';";
				$var_180['code'] .= "var server='". htmlentities($var_81['server']) ."';";
				$var_180['code'] .= "var database='". addslashes(htmlentities($var_81['database'], var_186)) ."';";
				$var_180['code'] .= "</script>\n";

				$var_180['code'] .= '<div id="fkbg"></div>';
				$var_180['code'] .= '<div id="fklist"></div>';
				$var_180['code'] .= '<script src="libraries/js/jquery.js" type="text/javascript"></script>';
				$var_180['code'] .= '<script src="js/ac_insert_row.js" type="text/javascript"></script>';
			}

			else 
				return false;

			return $var_180;
		}
	}
?>
